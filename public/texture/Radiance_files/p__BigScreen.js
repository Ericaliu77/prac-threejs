(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["p__BigScreen"],{

/***/ "./src/assets/big-screen/hubitem_bg.png":
/*!**********************************************!*\
  !*** ./src/assets/big-screen/hubitem_bg.png ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATsAAABoCAYAAACOsVcqAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAABO6ADAAQAAAABAAAAaAAAAACJjEr9AAAM8klEQVR4Ae2dTYsc1xWGz52umdYXwpqAP4Ikk8HBCxGMvckqJn8jO5Old154kYVBoEUWXnjnpfEufyN4l42DCVoYwgRLxpZNLBkhWdPTXX3zvufe21OtCDwbT1frvIWqq7o+pus8Vzyc+1FVyZ6ePnr/HXvxyge2f/G6TacTm6T09CH6LgIiIAKjI9DnbLNZb/cf37HvH9yy9z78dHiNJyK7+e6l9Pq12/mlF66lw29T+vq+pYc/mR3NLPXZbMl5iXOxxD+f2rJ+1UIEREAEflECzVi+xMfODuZkeYL1c1PLly9Yvrpv+eCVnL778W7+8u4Nu/nxI15TORWiszdfu2d5eXHy+aHZg0eWjhdmC8zz3qyH5JrsMk5JA+H9opHpj4uACIjAUwRoreahKjubQHq7E7Ous7zXmV25ZP1bB3DVzmP7579fpvCwFd+Z0VF0n902m80tPZlDchQdhddbWlB2nHk0RVdTOmV2BKJJBETgrAiU9AzS4gpmOI7ZXe6w0kF2u/AVErQMX9Fn/ds3LrrfzF5Nxja6Nw4+mfz9X8l+eAjRHbvwXHouvJrZteyu/ZhEd1bFq98RAREYEhg6CFVYz+pqZpd3kb9Nd33O5/fMfnXZ+j/+LtsXh3/u2BnBNjqvujKja5ndDNJDVlfmJdrtsM7MbvVDst2Qv9ZFQATOiEDrM6WCkNDlCauvWEFCVmqhXv+EqtCWxyY5+C3Dcx17XdM/viltdMzkIDs75ox1LNO8VWGxZPWVdeVWjT2j2PQzIiACIrBGgMJj3wGWaQdumqMqiyqs7SGr475avU3HE2Nna/79b693HF7iva7eGbGA3GpbHUXHtjpub1VYdlL41JZrP68vIiACInBGBGoVk9VYyg7V2JTQOWFI1LAtoXc2sw1vAdlxVAk81/k4OgwvMWZwrLay95WdEv4douM2yo7DT9qYE7nujApUPyMCIvBMAtV11mOFw05qbTNlCK+jx5DaMdOjx+g3jBcuvbEUGdrkPJOj2Frvq0uOosPcsjpVYZ/JXhtFQATOmIC33THzqubz6mv1V1fa7zK95okamvX88nwMHU7y4SW5dkZUwbUBxRTeyZ/1dX2IgAiIwKYI5FbT9AY6+GunOIydqXkJtVWftUSNzXg1c6PcsO7iw5IZnGdzWNapZY7tu5YiIAIisCkC6z6qvnJv4Yqaxyi8mqgV2fkdETyVYsPsq4M/hT8w+Lap2PS7IiACIrBGwL00bFrzOyt4SHVZu9MCW4rsuN2Fx5U6+R/A98GmtktLERABERgVAfcUfTUQFtcHt7aeyI7HrObBCaOKSBcjAiIgAj9DgJJbuQzHVp0V2f3MudotAiIgAttOQLLb9hLU9YuACJyKgGR3Kkw6SAREYNsJSHbbXoK6fhEQgVMRkOxOhUkHiYAIbDsByW7bS1DXLwIicCoCkt2pMOkgERCBbScg2W17Cer6RUAETkVAsjsVJh0kAiKw7QTKU09cebjLjA/C8wlLPiNqiR18kgAfb1z3aCECIiACoyLgD/Ckv+Areqvdye8+4/ZytUV23MmDuBNP/OSbelJP0eGJAfwDPkl3FYQWIiACYyLgsqOv4K9U3zTGF/C4z7Ctyq/IbrUDB/h6XWYsOS1xAh+VokkEREAExkZg+O7Yob+GXsM1n8gOOzLm5O9eXOLhAXjSJ3cnSA7rxkxPkwiIgAiMjQBrpcjovFa6i6W/LHviPvPkjdLD5LLzaivepO3PbPdHsJcsLic8wx0ZnT/WGI851iQCIiACoyPAqqs3w1XRUXY+w2nwmr9AGxftsjO+WHaPL9bBDsqN0XhjH06G/HJ90ufogtQFiYAIiAAJMHvj7DVTZHV7dBpniq9ornziS96D5Pwx7Ki1uujwWsUeB/pjjdE5UfeJrAiIgAiMikDriIC32BRXkjeobboLr+E9smuy4wY88M4HmbDuy7drz2FHr9Ji6/A1iqOKUhcjAiIgAqiLDkaTlDY7iG4K4Z2D2+g3TJ7Z5fO7peqKV5H5i2UhutTeF8uMjh0UarLT/ykREIExEkBu5h0UnuFx6EmturLdDqKj3zgV2f3m5ZLFtc4JfzMP7MZUrz3iWMOKHZg+REAExkaAvbG4Jr43lss2FKX1O9TeWDpRkwiIgAg89wQ8s0v/uWfpydzsGPMcvbJzdE6oGvvcF74CFIHngsApqrH51/ulGuuimx2bHc0tzRZmiyo9dVA8F/8XFIQIPN8EUHcddFAkH1RcOyjQDMeaLSfP7Dyjo+iOILwZMzwIj9lda8Njb6yGnhRi+hQBERgXgWcOPcFQOnSsstvB2/KwKLKj2FiFpeggvOSyQ3W2VWUpPU0iIAIiMFYCdVCx3+4KX/HmCE4JIly/gwKys2PIDZJz0VF63naHbe12MQ4/0SQCIiACYyOwdrsYPFXvAis3R3AYCvyGqXRQLHDAolRdV5JDppfm2M6szh8E4Anh2MLU9YiACEQngPa6tEAvBbI7PsDEp3oXGAcYp0WpwJZPCg2zt9Gx6oqszkVHAXJfG3cXHariFwERGB8Bf8gwkzI8tQn5mz/ABOLj7a5+FxgdhulEdhRalV65H7YI0Jj1sf6rDorxFbKuSAREAIOI4S5mcpz4SDr6auWy6jXsKrJjn0XrccVBiYJjOtgyOsnOOepDBERgjATq4BI+ZBjeor8yH0nnCRzcVu/+KrLDdt+wyt6a/JrwMFZltW+MweqaREAEohKgzoq/4Cs+ZLgrW0ptFOvuNyR/UQEpbhEQgVgEJLtY5a1oRSAsAckubNErcBGIRUCyi1XeilYEwhKQ7MIWvQIXgVgEJLtY5a1oRSAsAckubNErcBGIRUCyi1XeilYEwhKQ7MIWvQIXgVgEJLtY5a1oRSAsAckubNErcBGIRUCyi1XeilYEwhKQ7MIWvQIXgVgEJLtY5a1oRSAsAckubNErcBGIRUCyi1XeilYEwhKQ7MIWvQIXgVgEJLtY5a1oRSAsAckubNErcBGIRUCyi1XeilYEwhKQ7MIWvQIXgVgEJLtY5a1oRSAsAckubNErcBGIRUCyi1XeilYEwhKQ7MIWvQIXgVgEJLtY5a1oRSAsAckubNErcBGIRUCyi1XeilYEwhKQ7MIWvQIXgVgEJLtY5a1oRSAsAckubNErcBGIRUCyi1XeilYEwhKQ7MIWvQIXgVgEJLtY5a1oRSAsAckubNErcBGIRUCyi1XeilYEwhKQ7MIWvQIXgVgEJLtY5a1oRSAsAckubNErcBGIRUCyi1XeilYEwhKQ7MIWvQIXgVgEJLtY5a1oRSAsAckubNErcBGIRUCyi1XeilYEwhKQ7MIWvQIXgVgEiuwSgl6b+UWTCIiACGwhgQR/rfmsxHAiu8wDBpLz9XrSFsarSxYBEQhEwNX1DIe51wqHIjvfkLGFZ2D2VX7UCeIbfGtbtRQBERCBjRJwL60ladhSNuK6KD9+p9fMiuwmWOxw5hbs4JJ/gOsuQCww+d8oq/oUAREQgY0SWPdR9ZV7C5fVPEav0W+YOv/0HTwYG7GeJxNLO0usY5404ZUTcl7/CT9fHyIgAiJw1gRaRkd/0VPusR33V1svSzqsyi7jwATB5W4HS0gNS5tj5vpKbpQcZ5wo35GdJhEQgU0RKP7Cr2OFoqOrODNho7+wTp8ZveYJG2XXw2bnpslmc3ybmO1i7peWd3vUZEviV6q0MNyyWa4tNxWpflcERCA2gWq7Viul6Ha7IrjmMV9i+7kpnJZzZ7NZny9f6NLjIxzcW15Acn0RW7Y52vcgPFZnl5iZ5bGxb5Xtxcat6EVABDZEgFVYdj54Gx2EhozOM7m93SI9iI/ysw4CvHzB6LnO7j++k6/uH+QfHlqa90Vq8JoLje13HbYtlhAg92F7FaqEt6FC1s+KQHQCra2OFUx4jn0MXnVlJseZwptW6e1Bdlf3jZ7r7PsHt/IbB5/Ynf+mjOyNg0z4N/hH0nxR2u46VGt7/BFWY1eyi05c8YuACGyEwNBB3jkBWXk1Fu1zzOYoOsz5PJZXLlk+eCXbF4e3/LT0t79+hR3XJ5/dRrqHqusTtN+56CA7VmuR2Xk1lpkdVdiqsW7FjYSrHxUBEYhIoInOszt8gedWVVhvoyvVVxcdhNf/4Yalo/md/Ke/vIo9cNeXd2/Ym6/d69++cXHy+aHlB48sHSOTW2BG1Tajw8KzOm+3ww/4QL2IpBWzCIjAxglQeO1GiDpcrmV23kaHqiszuv6tA7hq57H7Dac0T5rdfPdSev3a7fzSC9fS4bcpfX3f0sOfzI5mqw4Lz+48s6vhKrPbeLnrAkQgFIFmLF/iYzU2GOvodWVnBNvoWHVN3/1410V38+NHZNROPeH10fvv2ItXPrD9i9dtOp1gDMv/H3NytNZEQAREYBwEOIwOva7sjGBfhL334afDC/sfd8IUe0DuYi4AAAAASUVORK5CYII="

/***/ }),

/***/ "./src/assets/big-screen/logo.png":
/*!****************************************!*\
  !*** ./src/assets/big-screen/logo.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAMAAABwfJv6AAAAY1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+aRQ2gAAAAIHRSTlMAAwgJDhkdIyUpMkNJSk9ZWlthc4aVl5qkp7XZ5fL09QDgSsMAAABySURBVDjL7dPHCoAwDIDhuPfe2/d/SuNFqKalaC8F/1vhO4TQwM5vAqiuB/xQLVy9Ry4JF6CioR2w+TyY3Wac9YdFjPUS0Dn3lzRYLQHFC38D8xHrxLBMsYH/e4j1aA0Ni838dgpbRNVKnSvTDxXBULIDPfmpUSyR/JQAAAAASUVORK5CYII="

/***/ }),

/***/ "./src/assets/device/01.gif":
/*!**********************************!*\
  !*** ./src/assets/device/01.gif ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/01.8082defe.gif";

/***/ }),

/***/ "./src/assets/device/02.gif":
/*!**********************************!*\
  !*** ./src/assets/device/02.gif ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/02.8abbc17e.gif";

/***/ }),

/***/ "./src/assets/device/03.gif":
/*!**********************************!*\
  !*** ./src/assets/device/03.gif ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/03.10911ee1.gif";

/***/ }),

/***/ "./src/assets/device/candlelight_robot.png":
/*!*************************************************!*\
  !*** ./src/assets/device/candlelight_robot.png ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA4CAYAAABHRFAgAAAH80lEQVRo3u1aaUxUVxS+82YGGBhQ9m1YCmEphdKiSK2SplA1hTRBU5M2aWzT1CbG+LupadJi/GmwtSGapsQ0VZuaVkzTNNYmhZKoia1BymqZQiHDJssM68Bsr+d7eOHOOCgqvIDhJjfzeDNz3/nuOec737kDYxtjY2yMjaHy0KzGoi0tLQFdXV1xs7Oz7k2bNkkDAwMBLpdLMzc3x7RarUan08n4W6/Xu2NiYubcbrcUHBzsvnbt2mBlZaVnzYMcGhp6eWBwoOZmz39ZHqtN1jqcksfj326NRgMDPE5jiMZgNHp2PpvTsHnz5neio6P71yzIzs7OMLvD0fLZ1V+SjMOjzBYUwKShEWYYs3oBk2X53l8ym0hJZkZDEGMOBzOYEtmJN9/6OSo6+o2VtEtaycWCgoIK6rv+jXc1tzKpf5AFNrUyq9Gg7CTAUYiyW7duzXuQJsUum2MeFmjuZvoeC+u83cT+NptfoU0wrqRdupVc7O7du2NGjUbum5lmI129zEE4gtOTgXD+YTody8jIWPSqR2bTbhcz3/mHoNL1C7lkkDxuNpudazonG+rrj9aa73zc2N1l1Ot1LMEyyJjTNe85YfCQdRqDmSU8jOnJq3uycy2vpj5zuHD79p/WPLt2NTfHtnR0VIxNTn2oC9C/GBAQoDwH4crzkliWgZAcDoebud2/m+Ljv4gxmf7Izc2dWhclhI9Tp04F5uTk3IyOjnr+5MnPmcXSx+BdlJLi4mJWVlbGRkZGasrLyz9Y14W4vb391wsXLshhYWFySkqKnJ6eLiclJclxcXHy9evXPW1tbZ+stg3Saj8AZEPAWFRUFA9PJR+zs7MZCQVGobzqG61b9V2UJEZeY5cvX2akghSAyEfKPeZ0OpX31z1IkMzw8DA7fvw4m56eXrgP7x45coQFBgauf5AYISEhjDSp4jWueDDV8KIqOYlB4puRHmXj4+MsMjKSTUxMsNjYWCVsnxqQfExOTiqvAMnFwVLifV2FK1c28FpBQYFyjddFkf6UeZL6RjYzM6MqQNVBWq1WiHgvllVjqFFCNDz/DAaD4k1RANB70roHiTaTg0QpwRQ3AO+vd5AAEe59GrAoEiRJuR+1pkHu37/fSAU9c2pqCodSC/ch1zBIuoVQe5W0dD3UQMsWVFRUbMF3xDXEteiwy3727Nk21UEeOHAg02KxnKDaV56cnCxBiEPB4BWgcA0RDsMh3XybZl5WSCBsKSoq+ovOh5SaiZzFxDUmnfgxm83WTh/PB2ZVQZIHokwmU0lmZqYEMKmpqYw8qvSKIBaoHHQeuPYHkIt3Ohdi+/btY6Ojo9RUO5ndPquoIqzT29vLuru7MRHrnifJmUceFy9e1O7YseMr8tK74+M27fT0jOIt7Dq6f3gIxqOVgmcfJuBRO7FBbjrvcbncyne5V41GI9ax0/VH1M18qRrIurq6l/Lz8+vIsCD0hwCCsAS4hZM4Qe0spx0TFRIAIhfhTUxsFpWf/oaGhuf27t1rUyVcKY8ienp6JOw+DIQXARKTdxrcS0sBxX3xc/weJjwIkHa7XdG5g4ODLCIiIpTA46jSpoonwap00n2YjMslI7bTdSrlnpZ7crl6VgxZfg+gEL54pfXmKLdbw8PDm+gz9dXV1d/Sq6wKSD6qqqoiLl261LJ79+54tE7IJTFs/eWfCNLX0wj9pqYmRfrduHFDaccoJ69u27bt9Sf5jeSx2ZW6ehPR/i4yMgJalGheYVKEK88xf7nJgfkLZYBEO4b1sGEUolhzKxHazkOHDjWfPn3aqhrxHDt2rIgM+K2vry8UbEoncYpRICB/h8gcDEFbfF/2eG2ECBo5CcBjY2NKXqIUEfl0t7a2bq2pqRlTxZMUThlU1wy1tbWKMVlZWQrVI1Q50EfNTV78ARAbB2/SzwUKAeHQi8pH5JUrVyB81QFJtO7iHQUM497i9L+csxvfUPVdg68rXquak3TiPZGYmCiXlpYqD0dngXwE4fjWSg4AjCn+jY2AKvIFyr0JDyI/7fYZipJQJWRLSkrkgwcPqgOS8sOTkJAgI0RhGA9Trl/FWokBJYS/UU/FUoEi71sjxToJIYDNwQYSB8gUwrJqnqTddszb5R1emOKRI78GeIDC5CQjAhZBiiIdUyAuF4kPl6ogxXwUSUMMRxEEGPj+eonva7xC1XdN4Z6LPKteF0IPnKXpAQv688Z8Qyw9lGG96yiAyV4MyyfWonsuylH1QPb391vBsNCu+J0DuSnmJAf5IHBLsatIPMhltGAQGvHx8eOhoaEzqoEkIniNDAhGjoEhqa+8JwbArNIDvSgC9FVEIvGg/uLEHc00TvmIpFKIxfPoY7dVAUllYg8ZoUWekXhWqH4+B/X3ybrliAJ/ngRIeJJYXPEkbaiBPFmsGkiSWgEwANSO3YZREAcwUKyTywXoC5Ife8CDSAlIOwKqoecFqRau9FPcn0QIZeQxDYyBrBNZ8XFA+ko7vELa4QhkktKC1nZSSjSqBpJ29Wsyopx2lnBKPzY2NqZ1dHS8jffy8vIu0/8CfH/PaPcjHEBL+Pezc+fOVVKTbKKICCssLPyUPBknabWlFL4d1BA0qNaFCN9VGIOOJN6nXT+K/5cjFqw6f/589eP+bEGS8Tti1iS6zkxLS9t15syZRvFZap+7LjyUSsc3tPM/IB9px5/khw4PtVfv4YJkXBABtPo+a2NsjI2xMdbF+B/lOfQQ1C4FggAAAABJRU5ErkJggg=="

/***/ }),

/***/ "./src/assets/device/hive1.png":
/*!*************************************!*\
  !*** ./src/assets/device/hive1.png ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA5CAYAAACMGIOFAAAGnUlEQVRo3u1aS0grZxSeRxLficYn3ltrS7ULcdOC1vYqFKS60NKVLu9dtIothetC7lIp3fWxEloEV7eLol1JcSH4KFKqLkQEsWLwWt/vRzS+ksz0O8n8dpibTNLczEwt/jBMkvkzc77z+M75zz8cdz/ux50ZvNEP6OzsTDs/P687PT3NjzYnGAxyqampfhxT/f39fyVbBpvRILOyslrm5+f75ubmHDwf1qksyy/Nc7lcclNT00RbW1tDX1+fP5kyCEaDtNls+X6/3x4IBDicOTqT5bTHzc0NdMDn1tTUiMmWQTAhJBzMcsySkQbNkSRJBFjhzrkrrOSA8BFdVAsSc22w9N0DmZaWxldUVHDZ2dm680A6XH5+voBz0skw6TccHR194PP53oPbZcI6Mlj1w83NzcewEB/NmuTGoihyTqdzNSUl5evLy0tMD1xj/tLs7Oz84OBg8D8B8vDw0Hl8fPxsf3//MQAWKjFGRMNfXFyIRDjMLRXX5Ox2+y1IEBQHgDLAhgAJgkCHLzMzcxbM21NeXj5Jf7cMJIQWPR7PV9vb289KSkpEJrw25ti4urrioAwOc2PG6sHBgQwFefLy8hpKS0tfWBaTOzs7bljx49zcXBHWiE3pQphbyEWZZaONgoICfnd39y3MfR9fEwKZFCZDDKXjcDscjqjWi8ao0eaor5HL4/7F+M5bZklyPzk8bgXU5kQtGD0FRLpG8W1pMQABZICSSBAiFLWgkazFvtN8JjybFwmgorSApSARhxKBpLLt+vr6FmgsV4ULhubHcmslfhMGaUumJclFmZvqASVQRDpEQDRfryKi60rKkSwFiaqGaF7a2triGLsy4dSxyYAgj3IoGEJnAqgXv3SNYj4nJ8d6S8IyEuiehFGLyzF5GWhGVEgLHPKeLruydLOxsUH/D+oV+IaDJFplxBNL6EhkFDUmVWQUCJdMsmXEo+QOKR4CiSddqHz11gtg0aDVMSmREGoLqbsAaleNBTBaunmVFGJLoiXlaKD08qSWRaNZm2LS8mIAI0h5EiuOiNWJljFpDuVIOuIsAa23JASXFYII9XJYER5p0HUCys56c1WVkbUxSZYkIbASCaUHtetFon2yHuVJbfmnjWX2nfIpVjjWg6QT5UkIE8+qhdvb27vNk2pA2lim37BOpc/WxyTlST22jGcVov1N7QXSKyxDbEkkHknrZrGA6a06tEAttySK55csGVdFE4eFmSKwILcWJNqN0r/RdAhIhDJPTxlgYuvdFWlAYoLqJfZ/SndOb4GsnMO9NuW+suXuympXyn3xcgTN1a471QoKG1xmeVKyFCQKAJIqVPFQniTBY5V12s6AnssqKUq2zF2xJVeOxfJTCFtFAp+dnYUaxXouS8pgi2ZW8eh5I+4roclsDcilpaVHqFWfw3IpBOzk5CQEMFrHTl230jyqc2PFL83FHqdEfSTT3XV5edkJAWhbYBTlXB2WW5NsJc/2NljPhx0EjDoHtLlDXXbq07JeDzu0/1HlSofploRAVdj/SMf2QBdaGaeFhYV/QOgmuCtPMUl5kzpsVLirLUvW08as4sJ2XBe0xbqyR2LD9U+h2OmysrJrU0B2d3cLiKlakMx6R0fHCQGpr6//0e12P8jIyGjt7e11w8K/NDc3f0lgY90PikmfmJh4XllZ+UFLS4sXQAOKBSk1eY6Ojn6FAj/Dxs+b+HnRFJDYb+QB0Ema7+npIV+Sa2trjwH+6dra2vcgonow7p9dXV178SoNFv4W23Q/YPvut+rq6nP6HZ/l1dXVABRaAhf/HEqsSgRkoutHYWZm5pvx8fGfBgYGRKOfhzdC3h4bG9sE0bWZSjywlN/r9dqxO2z4azLFxcWPEN+uRLsDCYFcWFiwgVlfg8sKoHdDQQ4PD6eAdD5BaGQk2sxKCCQY7w3EUAMKc3FlZcVQkLAg8UYasS4UayrIj/BwP3JjEJWIoSCLiooonxLL+k21JLkqUsUcyrJ5vFIWMBLk1NTUDULiECApRPymgUQyTwWt5ywuLtaB5l1GgkTfKGN9ff0hFQWJdtETAgnCCSLZu/DO3EOQQoGRINHwupmenvaBA6DboHmWBJUfQcOTKOdQ1DQvGQmyvb39Agr9AqXd7wDpM612RSxu4oHC0NCQx4zio7W1dQux/wLPvDIN5MjIyLt4oIszaeBFpXS8Hvo6VjDv4OuMKSCRG71YyHpNBHmImvgUhfqlaTGJd1K/a2xs7DULpLJce4KXon7m7sf9+H+PvwFXtfaxi93A3gAAAABJRU5ErkJggg=="

/***/ }),

/***/ "./src/assets/device/hive2.png":
/*!*************************************!*\
  !*** ./src/assets/device/hive2.png ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA5CAYAAABj2ui7AAAGo0lEQVRo3u2aaUxUVxTHtRiRtE1N2ooUtaCNoZQm7Yf2U5M20RSxibZNCZWUAgnpB5sQFlOwJZAiYlRAIkQoiLiwBQbcAGVfwxJcQkH2TQVUdmGAmWGY2/956TPDZGbQ0DfvDeUmJ29mMpn3fvfc87/nnjPr1q2NtbE2DI1Tp05tjY2N/SwjI+OdVQPl5+e3+ciRIwdDQ0M9T5482Xz+/HlFSkpKXWRkpGdJSYlzRUXFG2YLd+LECbuIiIgqmApw6szMTA3g2Llz5zRXrlxR37t3T1lbW9tw6dIlW7MEvHnzZtjt27c1paWlrLi4mBUVFb24lpeXMwCygYEBTWNjo49ZAqampu6TyWST8BxLS0tjBHr16lUG7zH6rLe3l83NzSlqamr2musqXQ9h2RcdHV1+5swZRXh4OEtKSmKIPxYXFzcFKwPsz2FhYRvMWmhcXV2tsBxz7969ywDLoqKiWF9fXzg+37hq1LS1tTV5eHiYJSQkMCxd1tPTE7iq9sD79+8nj42Nsby8PC4OEX8BqwowPT2d8+Dg4CAH2N3dHWAWseXr67vD29t7p4eHhz2Zu7v7Tl1zc3Nz8vLyKqX4u3DhAktMTGQ3btxIhgDt8vf3t4XIbJYcHB7QHipYcvbs2ZmYmBg5b4DQZ7OAWTx9+jSLj4/nAKGmamz68qysrJmysrIueNVLMmqK5WWJJZdaWVmp6ezsZF1dXYyuZB0dHZy1t7dz1tbWxh48eMAZhIazlpYWzmijR7rGxSUglRAfD0kAYmN2xVKb7u/vZ4uLi0tMrVYvsYWFhSWmUqk4UyqVbH5+no2PjzNMFENCwKqrqysvX778uqhwUL8dSLN6cSLgBGOlgyaBMhry4rNnzwabm5u3iAoIsC8QNwu5ublGATUaDZudnWXPnz9nCoXC4PfI60+ePGHIW9nU1NQk9sftogLiJLAXgiAnqR8aGjL44ASHB+bgJiYmuGVpCBCeYwUFBWxmZmaKVojYW4PFxYsXfa9du6Y25kGCo42dPDgyMkJJtUHAp0+fcoByuVx8QBo4270JUag2BkieI0gSksnJSS7WzAaQRk5OTiRlJsYGqSYBEoSxGCTAwsJCWtaTWPbbJQEIkQkhcVjp+L8BToiuovxADP7xXwMiBieQJW2TDOByMfiqgNgmpAOYnZ39AlA3XTNm2mkc/5m2B6HM26Sior/rAvIPrX01ZqSyfCZz69YtisHxx48f20pFZI4SIKVk9JD6Emp9CTZ/pc/5ieABkQyMjY6OvicVDx7V9qAuDGf0XgeQN/772oDYM0clAwiRCdYF5L3GAw0g00m/fp1NIV3TB6jrQQLEMrWRDCCfqmkDatss8s8h5KGUtmnD6QLSRP0LOCIZQKgoB/iqMcgbvdcHiCVqI5UYDKLjEg9oSDV5T+me7PV5ECIzgq1iq2QAtT34Mvuevi1CF1AyHkRfL+jhw4fLliMMHXRpYig26UoiQxs9lqgcZ8cPJAGIltdvVCFbyeC9Tx7Mz8+nydDg7Pit2OJigabl9ygJdlOv79GjR1xljMoSvNEBl4wOvMsZfY/KjtROm56ept8Sr1eIwuxraFgevnPnTj0gfVDbnEOpj2tootFJTU0VbBo1zhn0AuWwOdQ952EKTIYSpsLrBVw19H0yij3EM6PWGtVJcVzyEg0QM26PbL8bHaKvqAoNEJ+6urpB1DJZQEDAAOLoa9i7AN4COGsA2KBaZov321GSeB8wdpiQg1je02ilLWKilE1NTSp8d4Gq4qiWDzU0NOTjN61EAYTKHaKlidjj/ziwHiXEXXjoHwIDAx3o/XK/AahdAA1AOf8AJsmO+vjHjh2zx58VbAD2JWoyraLVRpFlHEa8tEEfLIX4fZT+HRDTzfCitSiAOJASYLtQgMhwHLC3igeIRsqvaKK0oyexSSDAD+HBVgiY6U8U+BPBJ6hm/w3lbBEYcBRx+o1J4bAkLaqqquIgLiEos1cJCOiIEBiHEruZGnATNuAMOM8DvfY6lBWshAKEio7X19ebFpCAkCPmYi/rxGZcTNmMEPfBJH4EwFGo6X6TAyIhzm1qbEzJlslKIDaCZPzIYpywRAex+R8w9RLdgBQtJD4h4Tv/4OBuxMinQtwH8W0ty8vrR6aUhN6/pckA8W/At/+MiMhCy2z/nj17rCknFeI+ELKP0acvOH78uJNQ99A7fgkKeutHb++/kG/uFvI+kdHRu3/y9JTh/6Wm79M7OjpufJlccyXDxcXF0tnZ+XOh77M21oaI4x8JHPcDPm5u+wAAAABJRU5ErkJggg=="

/***/ }),

/***/ "./src/assets/device/hive3.png":
/*!*************************************!*\
  !*** ./src/assets/device/hive3.png ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA5CAQAAAAmEUsOAAADxElEQVRYw+2Yy4scRRzHP1XdPY/dnX0YdzdmowuJhqAirAp7iCgiQT2o4EH/AdGL3gwuegge9aInRU8uePCNqCjxIBIIggqeViLrI3iQrOy6r8yrp6p+HqbT09NZMjNbOSjMr5jpnuru+tSv6vv71VTD0IY2tP+aqX5uergYHRgp2BY0KtuH1KhzmNCEBqNMqa6rUXU8hkBvVj+sXxPkqYMb715YVFoE0IRoBQKIEkQJThxOAZWNu59/8ZNe7YW9kaWH4vtsqJC0f5Lpscr0vDnOS09//nbr6u3p3sixhVrYPSAqLaSdECAmnluY6dVeP8hjTcDhkLS43O92nWGnHM15D6xE7885AlTi55UflTkGBab957IyPTWJzQDognSX6ah0vT9yIiyWMXvC8j4qilof8EeOqTDIqFJ1KZWchp0qV/yR5dFgApto8rI2JYV0agWwlEreyN3irJ4nTjSZ16jk6qeYLHojK6HV08RJwy5F5M/axxkmQ/+B1YEaIexCZCEuveIQKkzij1SKIEE6NA6FThAgKBSS1DoKlJw/0inRaSiQNE0m4bVrJbkWtPwTnkFIVSp7nJFRs8bE/l7G4rLB0T47SoEqfyTz2AkSqFX9vbykjOTCXpjnOo6mD0v6rV1r09/LqjLk4lHQFCnkhhgEbWXDG1lrYLOLskbQfE+IxXQlPAG0jXa8kaYZ2U6jZSbRKBqEaCqsMc4mW+ngKtuoeyNFcB2J1KljcThUEqnbuKyvrrdie8pnYp4KmRmzSdaxSeme43jk9+P+io2Uvrxk5WMxK5x2UhBlSt7IllPCFfHXgXWuOKAg9/gPLE7J3lkn7zGAlso1yD7OUKO6x6LVvXS1k74V3fJESvTZg/XSCjXAJumc3Bx2fgX8rDdveSt6puWxQTCPNF/ZHV37Z0xz08WRZk30dvPgVkmJMtopo61aG2+UhN1wxha2aqoqB9yRpYVlDy+DY79+evPU+qkj9tLi2TtPLs/Jpm20bmAt6eosP43MFJv6zyfKO7wHtz23O924Cx8krnDSrJxr3t7i29NnD++1/FYBPnhtRV52sFFoHnfnvfaC9tkN99FS//efeXLdnX/VK0gs3339zsf9I1//8ctzxF7IyC6e+WK1f+RXv514Q/lt9qwlGGwqpBB77i+N0gMiI+OJtAyIbBV7Ia8aJKf1hcPlaDCkKTZ18h9zP15efHz0hd3VwZDr642lp+7ft5d/37gc//DLYMg3V++Y+OsxvtlnIri18MBsf2+Gss/c++iJQ8MXakMb2v/L/gUKWQl30DFmJgAAAABJRU5ErkJggg=="

/***/ }),

/***/ "./src/assets/device/sunlight_robot.png":
/*!**********************************************!*\
  !*** ./src/assets/device/sunlight_robot.png ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAGG0lEQVRo3u1a20scZxQ/c9m77i66ul7SxGDcWHxoqT5krQlaaPMSwZIKpX0uNBRKXwoh0NeCjc1/0JfalxBMwIcKhaogJsYExRQsCcZdjZfYeFnXXXed3Z3pOd86Ott42bjjOg2e2WHn8n3fnN93zvl9V4ATORFDC3fUH2hvbzcXFxe3iaL4mSAI5QUFBWC32xc2NjbujY6O3u3t7d08yu+LRw2wvr6+rKam5mME89HCwstiSbDDBf97ry42NYXHxsYeIMDgW+EqNofjdoHTLde1fiU73CW/5Ou7Yj4+UlFRYb927ZvKpqZGucjj5R6PNJ4fGOhzdHV1Rf83MYiuaDp9+vRVr9d71e12e3ngBeDxAxwHclI2J1KJOo/HY7NZbbCyuhJPJpMTAidIMsiAsQlKWhbX19fvzs3N3b5z545kGAsSkZw6deomKvjtyMgIrK6uksL7ZbHi+QHP8+ByuWBlZYVVRFFREbReaW3z+Xx+fP+dHiB1seD16z/Ue4pdQx0/dVgSiURuNS6K0NnZKc3Pv7p048b3D4/dgv0+8ExFnv0YMPks6KZQWFi4d2Ll4PLQRWEqEDT7E9MdgWb4/OwAvDxWgI2f+ss9VedapuYUMJlM7NwTH7mtcrAFEwkJyiu9TZWNFytgYDAngHyuAFfHHkwtSUIPxdOB8YBxRmc26abWoWfo/uCzXPXLGWDZHxD9p6zukYAAs1Geov6gdDy+Xy9/93HLAESOHeBWjXOq0nqB1Et0AUjuyb0pIXP56AnrBJDpy3MZMZSl5ffAzhnPgtkqn+/xjD4ARVE5bEztmo8zEMDfz0FJYrT/k920OrQVFQMBtCVh3Vx+diIXUjxKRs0ZYEsQ4lx51Zyu4xrOYDG4LyNmy6hHxDa6ABTwMOrskD4WFMCwwsNbLicAsyQYfStKeRstqGgvFWMBxBm0VO74FOO6KE5FcLq7pWwggHKu2ihHUGa+YvCA+dHd3VNHb9V16j7bSaWDytAzHnUD6HA4YHx8fNdpQ9WKKvj/3msFp/Sh8cNGYwFMpVLQ1tYGz6eeQ2g1lOGWdE1AaNRP6ehewGULWZF30mkM5nQ5WVnDw8PGASjLMlRWVsKtn2+BIitpIHQoyjaIjH9FE3vK6+5J+Q0bg0RbvMLDprSZCVDeAcyGRhxsVwLdW6wWtspE17F4zFjNBNY4t7a2xgCSkoIopK2xBYiBw4NAWG1WBk7ropTearWCxWIBk9kEi4uLkJSThgKohNfCOySCgGiVSWs1ckWKQ6oAFZx6srQa4sH1e5ATsnFclBQncpiengabzQbxeBwKCwrTg1hlyxXxiEQiGUC0cfli5gXYHXYGzu1yg2gRjUUytHuCrBOPxcHldO24KJe2njoloW0a1DT0T/k3YhusgmiFSa8Y1I1klpeXoe/PPohuRHdtBwkgxRpd78eSDrsDd2Fc0K2rppsFnzx5AtMz0691zVRwRC4LCwvsutRbytx4ry7dvouoxwWQGJDW2+l6eyp/K/54HA+PPBqBnp4e5saXL1+GhoYG1uBrAVJeWuOgsgw1XCLFVEakrhbdq+DoF4lGIBgMboMgS4ZCIZASUgbAZCq5k89IMYg0n2KgUFhfVMnsudC76upqFqckVVVVrGlgPR5xyzW59PK12vhjOygbBuDTp08naQuI1WLNiC11VGAxWwC3hkCZtwx3z/CMMQmMCkgr1OAT+JmZmWeGANjc3CxOTExIgUCAWcnpdEI0Gt2VQIhoiGSorVObB20aGpEsLS3B4OAgYM8ovBVCOVny0IM3v99/5cyZMzfRJT1ms9mJ5GEmhTc3N7fbuAzC0bR79Iy9Q/KhXo06jqRnqmVRYlgRIfSMRbTm193d3Q/zakG0Uj8q0IrATOFw2I01fk+SJC8+n0WlviwpKWHbP1BZDohLzOl8lD5JTLRDUBxWEMzOzpZiOV3Y0L+DlTaLnvAFnmHcBZWcn58P5N2CWqmtrS1Gq9xH0vDFYrG/scbfx8dvug3LgnvdxhHgeQT4F3brLiHzhnLVTZdVBYybBFqM7VJCkL+icodxpxRunDVh/gK08m+Tk5ND+s2tnciJGFb+BeRJ+vHOvyIEAAAAAElFTkSuQmCC"

/***/ }),

/***/ "./src/components/Chart/EchartGl.tsx":
/*!*******************************************!*\
  !*** ./src/components/Chart/EchartGl.tsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return EchartGl; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2 */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var echarts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! echarts */ "./node_modules/echarts/index.js");
/* harmony import */ var echarts_gl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! echarts-gl */ "./node_modules/echarts-gl/index.js");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ "./node_modules/uuid/dist/esm-browser/index.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__);

var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/components/Chart/EchartGl.tsx";





function EchartGl(_ref) {
  var style = _ref.style,
      className = _ref.className,
      _ref$option = _ref.option,
      option = _ref$option === void 0 ? {} : _ref$option,
      _ref$height = _ref.height,
      height = _ref$height === void 0 ? 300 : _ref$height,
      width = _ref.width;
  var id = Object(react__WEBPACK_IMPORTED_MODULE_1__["useRef"])("chart_".concat(Object(uuid__WEBPACK_IMPORTED_MODULE_4__["v4"])()));
  var echartInstance = Object(react__WEBPACK_IMPORTED_MODULE_1__["useRef"])();
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    var dom = document.getElementById(id.current); // console.log(dom)

    echartInstance.current = echarts__WEBPACK_IMPORTED_MODULE_2__["init"](dom); // console.log(echartInstance.current)

    window.addEventListener('resize', function () {
      echartInstance.current.resize();
    }); // return () => {
    //   echartInstance.current && echartInstance.current.clear()
    // }
  }, []);
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    // console.log('你变了', option)
    if (Object.keys(option).length === 0) return;

    if (echartInstance !== null && echartInstance !== void 0 && echartInstance.current) {
      echartInstance.current.clear();
      echartInstance.current.setOption(option, true); // 第二个参数设置 true，不合并，避免组件间相互影响
    }
  }, [option]);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])("div", {
    id: id.current,
    style: Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({
      height: height,
      width: width
    }, style),
    className: className
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 35,
    columnNumber: 5
  }, this);
}

/***/ }),

/***/ "./src/components/Chart/EchartView.tsx":
/*!*********************************************!*\
  !*** ./src/components/Chart/EchartView.tsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return EchartView; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2 */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var echarts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! echarts */ "./node_modules/echarts/index.js");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid */ "./node_modules/uuid/dist/esm-browser/index.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__);

var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/components/Chart/EchartView.tsx";




function EchartView(_ref) {
  var style = _ref.style,
      className = _ref.className,
      _ref$option = _ref.option,
      option = _ref$option === void 0 ? {} : _ref$option,
      _ref$height = _ref.height,
      height = _ref$height === void 0 ? 300 : _ref$height,
      width = _ref.width;
  var id = Object(react__WEBPACK_IMPORTED_MODULE_1__["useRef"])("chart_".concat(Object(uuid__WEBPACK_IMPORTED_MODULE_3__["v4"])()));
  var echartInstance = Object(react__WEBPACK_IMPORTED_MODULE_1__["useRef"])();

  var styles = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({
    height: height,
    width: width
  }, style);

  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    var dom = document.getElementById(id.current); // console.log(dom)

    echartInstance.current = echarts__WEBPACK_IMPORTED_MODULE_2__["init"](dom); // console.log(echartInstance.current)

    window.addEventListener('resize', handleResize);
    return function () {
      window.removeEventListener('resize', handleResize);
      echartInstance.current && echartInstance.current.dispose();
    };
  }, []);
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    // console.log('你变了', option)
    if (Object.keys(option).length === 0) return;

    if (echartInstance !== null && echartInstance !== void 0 && echartInstance.current) {
      echartInstance.current.clear();
      echartInstance.current && echartInstance.current.setOption(option, true); // 第二个参数设置 true，不合并，避免组件间相互影响
    }
  }, [option]);

  function handleResize() {
    echartInstance.current && echartInstance.current.resize();
  }

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])("div", {
    id: id.current,
    style: styles,
    className: className
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 59,
    columnNumber: 10
  }, this);
}

/***/ }),

/***/ "./src/components/Chart/index.tsx":
/*!****************************************!*\
  !*** ./src/components/Chart/index.tsx ***!
  \****************************************/
/*! exports provided: EchartView, EchartGl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _EchartView__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EchartView */ "./src/components/Chart/EchartView.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "EchartView", function() { return _EchartView__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _EchartGl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EchartGl */ "./src/components/Chart/EchartGl.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "EchartGl", function() { return _EchartGl__WEBPACK_IMPORTED_MODULE_1__["default"]; });




/***/ }),

/***/ "./src/components/Iconfont/index.tsx":
/*!*******************************************!*\
  !*** ./src/components/Iconfont/index.tsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/config */ "./src/config/index.ts");
/* harmony import */ var _ant_design_icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ant-design/icons */ "./node_modules/@ant-design/icons/es/index.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__);
var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/components/Iconfont/index.tsx",
    _this = undefined;





var IconFont = Object(_ant_design_icons__WEBPACK_IMPORTED_MODULE_2__["createFromIconfontCN"])({
  scriptUrl: _config__WEBPACK_IMPORTED_MODULE_1__["default"].iconfontUrl
});

var Iconfont = function Iconfont(_ref) {
  var type = _ref.type,
      onClick = _ref.onClick,
      className = _ref.className,
      style = _ref.style,
      onMouseEnter = _ref.onMouseEnter,
      onMouseLeave = _ref.onMouseLeave,
      onFocus = _ref.onFocus;
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__["jsxDEV"])(IconFont, {
    className: className,
    style: style,
    type: type,
    onClick: onClick,
    onMouseEnter: onMouseEnter,
    onMouseLeave: onMouseLeave,
    onFocus: onFocus
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 29,
    columnNumber: 5
  }, _this);
};

/* harmony default export */ __webpack_exports__["default"] = (/*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_0__["memo"])(Iconfont));

/***/ }),

/***/ "./src/components/antd/index.ts":
/*!**************************************!*\
  !*** ./src/components/antd/index.ts ***!
  \**************************************/
/*! exports provided: Text */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Text", function() { return Text; });
/* harmony import */ var antd_es_typography_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/es/typography/style */ "./node_modules/antd/es/typography/style/index.js");
/* harmony import */ var antd_es_typography__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/es/typography */ "./node_modules/antd/es/typography/index.js");


var Text = antd_es_typography__WEBPACK_IMPORTED_MODULE_1__["default"].Text;


/***/ }),

/***/ "./src/hooks/useServer.ts":
/*!********************************!*\
  !*** ./src/hooks/useServer.ts ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return useServer; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2 */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);






/**
 * @param {function} api 接口请求方法
 * @param {object} options.params 接口所需要的参数
 * @param {any} options.defaultData 页面初始化时接口数据的默认值
 * @param {boolean} options.delay 当该值为true时，接口不请求
 * @param {boolean} options.loop 当该值为true时，开启轮询模式
 * @param {number} options.wait 轮询等待时间，默认为5s
 */
function useServer(api, options) {
  var _ref = options !== null && options !== void 0 ? options : {},
      params = _ref.params,
      defaultData = _ref.defaultData,
      delay = _ref.delay,
      loop = _ref.loop,
      _ref$wait = _ref.wait,
      wait = _ref$wait === void 0 ? 5000 : _ref$wait;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])({
    params: params,
    loading: true,
    data: defaultData,
    errMsg: ''
  }),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState, 2),
      store = _useState2[0],
      setStore = _useState2[1];

  var unmounted = Object(react__WEBPACK_IMPORTED_MODULE_4__["useRef"])(false);
  var timer = Object(react__WEBPACK_IMPORTED_MODULE_4__["useRef"])(0);
  var requestCount = Object(react__WEBPACK_IMPORTED_MODULE_4__["useRef"])(0);
  var _params = store.params,
      loading = store.loading,
      data = store.data,
      errMsg = store.errMsg;
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    if (!loading || delay) return;
    init(); // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [loading]);
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    return function () {
      unmounted.current = true;
    };
  }, []);

  var resolveRes = function resolveRes(res) {
    if (Array.isArray(res)) {
      return res.map(function (item) {
        return item.data;
      });
    }

    return res.data;
  };

  function getData(_x) {
    return _getData.apply(this, arguments);
  }

  function _getData() {
    _getData = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee(params) {
      var server, pList, res;
      return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              if (loop) clearTimeout(timer.current);
              _context.prev = 1;
              server = null;

              if (Array.isArray(api)) {
                if (Array.isArray(params) && api.length === params.length) {
                  pList = api.map(function (p, index) {
                    return p(params[index]);
                  });
                  server = Promise.all(pList);
                }
              } else {
                server = Array.isArray(params) ? api(params[0]) : api(params);
              }

              _context.next = 6;
              return server;

            case 6:
              res = _context.sent;

              if (!unmounted.current) {
                _context.next = 9;
                break;
              }

              return _context.abrupt("return");

            case 9:
              requestCount.current += 1;
              setStore(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, store), {}, {
                loading: false,
                data: resolveRes(res) || defaultData,
                errMsg: ''
              }));
              _context.next = 18;
              break;

            case 13:
              _context.prev = 13;
              _context.t0 = _context["catch"](1);

              if (!unmounted) {
                _context.next = 17;
                break;
              }

              return _context.abrupt("return");

            case 17:
              setStore(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, store), {}, {
                loading: false,
                errMsg: _context.t0.message
              }));

            case 18:
              // 开启轮询模式
              if (loop) {
                timer.current = setTimeout(function () {
                  getData(store.params);
                }, wait);
              }

            case 19:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[1, 13]]);
    }));
    return _getData.apply(this, arguments);
  }

  function setParams(params, refresh) {
    setStore(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, store), {}, {
      params: params
    }));
    refresh && getData(params);
  }

  function init() {
    getData(_params);
  }

  return {
    loading: loading,
    setLoading: function setLoading(loading) {
      return setStore(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, store), {}, {
        loading: loading
      }));
    },
    data: data,
    errMsg: errMsg,
    setParams: setParams,
    init: init,
    requestCount: requestCount.current
  };
}

/***/ }),

/***/ "./src/pages/BigScreen/blocks/Header/components/TabItem.tsx":
/*!******************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/Header/components/TabItem.tsx ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _components_Iconfont__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/Iconfont */ "./src/components/Iconfont/index.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__);
var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/Header/components/TabItem.tsx",
    _this = undefined;






var TabItem = function TabItem(_ref) {
  var info = _ref.info,
      color = _ref.color,
      onClick = _ref.onClick;
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_1__["Flex"], {
    alignItems: "center",
    onClick: onClick,
    style: {
      color: color,
      lineHeight: 1
    },
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_2__["default"], {
      type: "iconline-left",
      style: {
        fontSize: 38
      }
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 22,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_1__["Flex"], {
      flexDirection: "column",
      justifyContent: "center",
      lineHeight: 1,
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_1__["Box"], {
        fontSize: 20,
        mb: '4px',
        children: info.title
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 24,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_1__["Box"], {
        className: "f12",
        children: info.subTitle
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 27,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 23,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_2__["default"], {
      type: "iconline-right",
      style: {
        fontSize: 38
      }
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 29,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 14,
    columnNumber: 5
  }, _this);
};

/* harmony default export */ __webpack_exports__["default"] = (TabItem);

/***/ }),

/***/ "./src/pages/BigScreen/blocks/Header/index.module.less?modules":
/*!*********************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/Header/index.module.less?modules ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"header-wrapper":"header-wrapper___44o2a","logo":"logo___2wQmW","info":"info___hQqSr","title":"title___2I1vs"};
    if(true) {
      // 1624783248842
      var cssReload = __webpack_require__(/*! ./node_modules/@umijs/bundler-webpack/lib/webpack/plugins/mini-css-extract-plugin/src/hmr/hotModuleReplacement.js */ "./node_modules/@umijs/bundler-webpack/lib/webpack/plugins/mini-css-extract-plugin/src/hmr/hotModuleReplacement.js")(module.i, {"publicPath":"./","hmr":true,"locals":true});
      module.hot.dispose(cssReload);
      
    }
  

/***/ }),

/***/ "./src/pages/BigScreen/blocks/Header/index.tsx":
/*!*****************************************************!*\
  !*** ./src/pages/BigScreen/blocks/Header/index.tsx ***!
  \*****************************************************/
/*! exports provided: Header, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Header", function() { return Header; });
/* harmony import */ var antd_es_modal_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/es/modal/style */ "./node_modules/antd/es/modal/style/index.js");
/* harmony import */ var antd_es_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/es/modal */ "./node_modules/antd/es/modal/index.js");
/* harmony import */ var antd_es_image_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd/es/image/style */ "./node_modules/antd/es/image/style/index.js");
/* harmony import */ var antd_es_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd/es/image */ "./node_modules/antd/es/image/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var antd_es_typography_style__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! antd/es/typography/style */ "./node_modules/antd/es/typography/style/index.js");
/* harmony import */ var antd_es_typography__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! antd/es/typography */ "./node_modules/antd/es/typography/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _index_module_less_modules__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./index.module.less?modules */ "./src/pages/BigScreen/blocks/Header/index.module.less?modules");
/* harmony import */ var _index_module_less_modules__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_index_module_less_modules__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _components_Iconfont__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/Iconfont */ "./src/components/Iconfont/index.tsx");
/* harmony import */ var _config_weatherConfig__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../config/weatherConfig */ "./src/pages/BigScreen/config/weatherConfig.ts");
/* harmony import */ var _hooks_useWeather__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../hooks/useWeather */ "./src/pages/BigScreen/hooks/useWeather.ts");
/* harmony import */ var _components_TabItem__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./components/TabItem */ "./src/pages/BigScreen/blocks/Header/components/TabItem.tsx");
/* harmony import */ var _components_HubSelect__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../components/HubSelect */ "./src/pages/BigScreen/components/HubSelect/index.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__);









var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/Header/index.tsx",
    _this = undefined;














var Text = antd_es_typography__WEBPACK_IMPORTED_MODULE_7__["default"].Text;
var tabOption = [{
  title: '园区综合监测',
  subTitle: 'Comprehensive monitoring'
}, {
  title: '园区效能监测',
  subTitle: 'Park efficiency monitoring'
}];
var Header = function Header(props) {
  var _WeatherType$weatherI;

  var currentHub = props.currentHub,
      setState = props.setState,
      triggerSider = props.triggerSider,
      sideViewPage = props.sideViewPage;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_10__["useState"])(moment__WEBPACK_IMPORTED_MODULE_9___default()().format('HH:mm:ss')),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_5__["default"])(_useState, 2),
      time = _useState2[0],
      setTime = _useState2[1];

  var _useWeather = Object(_hooks_useWeather__WEBPACK_IMPORTED_MODULE_16__["default"])(currentHub === null || currentHub === void 0 ? void 0 : currentHub.id),
      weatherInfo = _useWeather.weatherInfo,
      getWeather = _useWeather.getWeather;

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_10__["useState"])(false),
      _useState4 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_5__["default"])(_useState3, 2),
      hubVisible = _useState4[0],
      setHubVisible = _useState4[1];

  function init() {
    return _init.apply(this, arguments);
  }

  function _init() {
    _init = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee() {
      return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              getWeather(currentHub === null || currentHub === void 0 ? void 0 : currentHub.id);

            case 1:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));
    return _init.apply(this, arguments);
  }

  Object(react__WEBPACK_IMPORTED_MODULE_10__["useEffect"])(function () {
    init();
    var timer = setInterval(function () {
      setTime(moment__WEBPACK_IMPORTED_MODULE_9___default()().format('HH:mm:ss'));
    }, 1000);
    return function () {
      clearInterval(timer);
    }; // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [currentHub === null || currentHub === void 0 ? void 0 : currentHub.id]);
  var date = Object(react__WEBPACK_IMPORTED_MODULE_10__["useMemo"])(function () {
    return moment__WEBPACK_IMPORTED_MODULE_9___default()().format('yyyy-MM-DD'); // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [time]);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__["jsxDEV"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__["Fragment"], {
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_12__["Flex"], {
      width: "100%",
      className: _index_module_less_modules__WEBPACK_IMPORTED_MODULE_13___default.a['header-wrapper'],
      height: "100%",
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_12__["Flex"], {
        className: _index_module_less_modules__WEBPACK_IMPORTED_MODULE_13___default.a.logo,
        alignItems: "center",
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__["jsxDEV"])(antd_es_image__WEBPACK_IMPORTED_MODULE_3__["default"], {
          src: __webpack_require__(/*! @/assets/big-screen/logo.png */ "./src/assets/big-screen/logo.png"),
          preview: false,
          width: 40
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 60,
          columnNumber: 11
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_12__["Flex"], {
          alignItems: "center",
          ml: 20,
          children: tabOption.map(function (item, index) {
            return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__["jsxDEV"])(_components_TabItem__WEBPACK_IMPORTED_MODULE_17__["default"], {
              info: item,
              color: "".concat(sideViewPage === index ? '#D5F0F5' : '#D5F0F54C'),
              onClick: function onClick() {
                setState({
                  key: 'sideViewPage',
                  value: index
                });
              }
            }, item.title, false, {
              fileName: _jsxFileName,
              lineNumber: 63,
              columnNumber: 15
            }, _this);
          })
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 61,
          columnNumber: 11
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 59,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_12__["Box"], {
        width: "50%",
        className: _index_module_less_modules__WEBPACK_IMPORTED_MODULE_13___default.a.title,
        onClick: function onClick() {
          setHubVisible(true);
        },
        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__["jsxDEV"])(Text, {
          ellipsis: true,
          style: {
            color: '#ffffff'
          },
          children: currentHub.name
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 84,
          columnNumber: 11
        }, _this)
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 77,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_12__["Flex"], {
        alignItems: "center",
        width: "25%",
        className: _index_module_less_modules__WEBPACK_IMPORTED_MODULE_13___default.a.info,
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_12__["Flex"], {
          className: "weather f14",
          alignItems: "center",
          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_14__["default"], {
            type: "iconw".concat((_WeatherType$weatherI = _config_weatherConfig__WEBPACK_IMPORTED_MODULE_15__["WeatherType"][weatherInfo.weather]) !== null && _WeatherType$weatherI !== void 0 ? _WeatherType$weatherI : 18),
            className: "mr5",
            style: {
              fontSize: 40
            }
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 90,
            columnNumber: 13
          }, _this), ' ']
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 89,
          columnNumber: 11
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_12__["Flex"], {
          justifyContent: "center",
          fontSize: 14,
          flexDirection: "column",
          height: "100%",
          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_12__["Box"], {
            className: "humidity",
            children: ["\u6E7F\u5EA6 ", weatherInfo.humidity, "%"]
          }, void 0, true, {
            fileName: _jsxFileName,
            lineNumber: 98,
            columnNumber: 13
          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_12__["Box"], {
            className: "pm",
            children: ["\u6C14\u6E29 ", weatherInfo.temperature, "\xB0C"]
          }, void 0, true, {
            fileName: _jsxFileName,
            lineNumber: 99,
            columnNumber: 13
          }, _this)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 97,
          columnNumber: 11
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_12__["Flex"], {
          className: "flex-col-center",
          ml: 50,
          onClick: triggerSider,
          style: {
            borderLeft: '1px solid rgba(213, 240, 245, .19)',
            lineHeight: 1,
            paddingLeft: 8
          },
          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_12__["Box"], {
            className: "time",
            fontSize: 24,
            mb: '5px',
            fontWeight: "bold",
            children: time
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 111,
            columnNumber: 13
          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_12__["Box"], {
            className: "date",
            fontSize: 14,
            children: date
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 114,
            columnNumber: 13
          }, _this)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 101,
          columnNumber: 11
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 88,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 58,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__["jsxDEV"])(antd_es_modal__WEBPACK_IMPORTED_MODULE_1__["default"], {
      wrapClassName: "big-screen-modal",
      style: {
        top: 200,
        backgroundColor: 'transparent'
      },
      bodyStyle: {
        padding: 0,
        height: 900,
        maxHeight: 900
      },
      closable: false,
      width: 1190,
      title: '',
      visible: hubVisible,
      footer: null,
      destroyOnClose: true,
      zIndex: 10000,
      onCancel: function onCancel() {
        setHubVisible(false);
      },
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__["jsxDEV"])(_components_HubSelect__WEBPACK_IMPORTED_MODULE_18__["default"], {
        onHide: function onHide() {
          setHubVisible(false);
        }
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 142,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 120,
      columnNumber: 7
    }, _this)]
  }, void 0, true);
};

var mapStateToProps = function mapStateToProps(_ref) {
  var user = _ref.user,
      screen = _ref.screen;
  return {
    currentHub: user.currentHub,
    sideViewPage: screen.sideViewPage
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    setState: function setState(payload) {
      return dispatch({
        type: 'screen/setState',
        payload: payload
      });
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_11__["connect"])(mapStateToProps, mapDispatchToProps)(Header));

/***/ }),

/***/ "./src/pages/BigScreen/blocks/LeftView/Left/DeviceInfo.tsx":
/*!*****************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/LeftView/Left/DeviceInfo.tsx ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var antd_es_progress_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/es/progress/style */ "./node_modules/antd/es/progress/style/index.js");
/* harmony import */ var antd_es_progress__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/es/progress */ "./node_modules/antd/es/progress/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _components_Chart__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/Chart */ "./src/components/Chart/index.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _services_api_aurora_screen_report__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/services/api/aurora/screen-report */ "./src/services/api/aurora/screen-report.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! umi */ "./node_modules/umi/dist/index.esm.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__);





var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/LeftView/Left/DeviceInfo.tsx",
    _this = undefined;










var DeviceInfo = function DeviceInfo(_ref) {
  var currentHub = _ref.currentHub;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_6__["useState"])(0),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__["default"])(_useState, 2),
      totalCount = _useState2[0],
      setTotalCount = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_6__["useState"])([]),
      _useState4 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__["default"])(_useState3, 2),
      deviceCount = _useState4[0],
      setDeviceCount = _useState4[1];

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_6__["useState"])({}),
      _useState6 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__["default"])(_useState5, 2),
      option = _useState6[0],
      setOption = _useState6[1];

  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_6__["useState"])(0),
      _useState8 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__["default"])(_useState7, 2),
      stabilityCount = _useState8[0],
      setStabilityCount = _useState8[1];

  Object(react__WEBPACK_IMPORTED_MODULE_6__["useEffect"])(function () {
    getData(); // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [currentHub]);

  function getData() {
    return _getData.apply(this, arguments);
  }

  function _getData() {
    _getData = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee() {
      var params;
      return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              params = {
                hubId: currentHub.id
              };
              Promise.all([Object(_services_api_aurora_screen_report__WEBPACK_IMPORTED_MODULE_8__["getScreenDeviceCount"])(params), Object(_services_api_aurora_screen_report__WEBPACK_IMPORTED_MODULE_8__["getScreenDeviceStabilityRate"])(params)]).then(function (_ref3) {
                var _ref4 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__["default"])(_ref3, 2),
                    deviceCountData = _ref4[0],
                    deviceStabData = _ref4[1];

                setDeviceCount(deviceCountData.data.data);
                setTotalCount(deviceCountData.data.totalCount);
                var stabData = deviceStabData.data;
                var seriesDataPer = stabData.map(function (item) {
                  return item.successfulPer.replace('%', '') * 1;
                });
                setOption(getOption(stabData));
                setStabilityCount(seriesDataPer.reduce(function (t, v) {
                  return t + v;
                }, 0) / seriesDataPer.length);
              }).catch(console.error);

            case 2:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));
    return _getData.apply(this, arguments);
  }

  function getOption(data) {
    var xData = data.map(function (item) {
      return item.date;
    });
    var seriesData = data.map(function (item) {
      return item.successfulPer.replace('%', '') * 1;
    });

    var min = lodash__WEBPACK_IMPORTED_MODULE_9___default.a.min(seriesData);

    var max = lodash__WEBPACK_IMPORTED_MODULE_9___default.a.max(seriesData);

    return {
      tooltip: {
        trigger: 'item',
        confine: false,
        appendToBody: true,
        position: ['0', '-35'],
        formatter: function formatter(params) {
          var dataIndex = params.dataIndex;
          var _ref2 = data[dataIndex],
              date = _ref2.date,
              successfulTask = _ref2.successfulTask,
              successfulPer = _ref2.successfulPer;
          return "".concat(date, " ").concat(successfulTask, " ").concat(successfulPer);
        }
      },
      grid: {
        left: 0,
        top: 5,
        right: 0,
        bottom: 5
      },
      xAxis: {
        show: false,
        type: 'category',
        data: xData
      },
      yAxis: {
        show: false,
        type: 'value',
        min: min || 0,
        max: max || 100
      },
      series: [{
        data: seriesData,
        type: 'line',
        smooth: true
      }]
    };
  }

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Flex"], {
    overflow: "auto",
    flexDirection: "column",
    flex: 1,
    justifyContent: "space-between",
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Flex"], {
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Box"], {
        width: '6em',
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Box"], {
          children: "\u8BBE\u5907\u603B\u6570"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 92,
          columnNumber: 11
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Box"], {
          fontSize: 30,
          fontWeight: "bold",
          children: totalCount
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 93,
          columnNumber: 11
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 91,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Box"], {
        flex: "1",
        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(_components_Chart__WEBPACK_IMPORTED_MODULE_5__["EchartView"], {
          option: option,
          height: '2em'
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 98,
          columnNumber: 11
        }, _this)
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 97,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Flex"], {
        alignItems: "flex-end",
        flexDirection: "column",
        width: '6em',
        fontSize: '1em',
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Text"], {
          children: "\u8D9F\u6210\u529F\u7387"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 101,
          columnNumber: 11
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Text"], {
          children: [stabilityCount.toFixed(2), "%"]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 102,
          columnNumber: 11
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 100,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 90,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Box"], {
      children: deviceCount.reverse().map(function (item) {
        var percent = totalCount > 0 ? Math.round(item.count / totalCount * 10000) / 100.0 : 0;
        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Box"], {
          className: "mb5",
          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Flex"], {
            justifyContent: "space-between",
            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Text"], {
              children: item.name
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 111,
              columnNumber: 17
            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Text"], {
              children: item.count
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 112,
              columnNumber: 17
            }, _this)]
          }, void 0, true, {
            fileName: _jsxFileName,
            lineNumber: 110,
            columnNumber: 15
          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_progress__WEBPACK_IMPORTED_MODULE_1__["default"], {
            strokeColor: {
              from: 'rgb(0, 193, 153)',
              to: 'rgb(255, 176, 0)'
            },
            percent: percent,
            showInfo: false,
            status: "active"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 114,
            columnNumber: 15
          }, _this)]
        }, item.name, true, {
          fileName: _jsxFileName,
          lineNumber: 109,
          columnNumber: 13
        }, _this);
      })
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 105,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 89,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps(_ref5) {
  var user = _ref5.user;
  return {
    currentHub: user.currentHub
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(umi__WEBPACK_IMPORTED_MODULE_10__["connect"])(mapStateToProps)(DeviceInfo));

/***/ }),

/***/ "./src/pages/BigScreen/blocks/LeftView/Left/ServeCount.tsx":
/*!*****************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/LeftView/Left/ServeCount.tsx ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2 */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _models_screen__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/screen */ "./src/pages/BigScreen/models/screen.ts");
/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! umi */ "./node_modules/umi/dist/index.esm.js");
/* harmony import */ var _components_BorderBox__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../components/BorderBox */ "./src/pages/BigScreen/components/BorderBox/index.tsx");
/* harmony import */ var _pages_BigScreen_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/pages/BigScreen/utils */ "./src/pages/BigScreen/utils/index.ts");
/* harmony import */ var theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! theme-ui/jsx-dev-runtime */ "./node_modules/theme-ui/jsx-dev-runtime/dist/index.esm.js");


var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/LeftView/Left/ServeCount.tsx",
    _this = undefined;

/** @jsxImportSource theme-ui */








var ServeCount = function ServeCount(_ref) {
  var currentHub = _ref.currentHub;
  var title = {
    color: 'primary',
    fontSize: '12px'
  };
  var numStyle = {
    fontFamily: "-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",
    fontSize: '22px',
    fontWeight: 'bold',
    display: 'block',
    margin: '10px !important',
    textAlign: 'center'
  };
  var box = {
    height: '100%',
    lineHeight: 1
  };
  var subTitle = {
    fontSize: '1em',
    transform: 'scale(0.8)'
  };
  return Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])("div", {
    className: "big-screen-block big-screen-serve-count",
    style: {
      height: '10%',
      display: 'flex'
    },
    children: [Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(_components_BorderBox__WEBPACK_IMPORTED_MODULE_5__["default"], {
      backgroundColor: _models_screen__WEBPACK_IMPORTED_MODULE_3__["ScreenBg"],
      children: Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Flex"], Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, box), {}, {
        className: "flex-col-center",
        children: [Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
          sx: title,
          children: "\u670D\u52A1\u4F01\u4E1A"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 43,
          columnNumber: 11
        }, _this), Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
          sx: numStyle,
          children: Object(_pages_BigScreen_utils__WEBPACK_IMPORTED_MODULE_6__["numToThousand"])(currentHub === null || currentHub === void 0 ? void 0 : currentHub.companyCount) || '6,742'
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 44,
          columnNumber: 11
        }, _this), Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
          sx: subTitle,
          children: "Enterprise"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 45,
          columnNumber: 11
        }, _this)]
      }), void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 42,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 41,
      columnNumber: 7
    }, _this), Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(_components_BorderBox__WEBPACK_IMPORTED_MODULE_5__["default"], {
      backgroundColor: _models_screen__WEBPACK_IMPORTED_MODULE_3__["ScreenBg"],
      style: {
        margin: '0 1rem'
      },
      children: Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Flex"], Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, box), {}, {
        className: "flex-col-center",
        children: [Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
          sx: title,
          children: "\u670D\u52A1\u7528\u6237"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 55,
          columnNumber: 11
        }, _this), Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
          sx: numStyle,
          children: Object(_pages_BigScreen_utils__WEBPACK_IMPORTED_MODULE_6__["numToTenthousand"])(currentHub === null || currentHub === void 0 ? void 0 : currentHub.userCount) || '43,590'
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 56,
          columnNumber: 11
        }, _this), Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
          sx: subTitle,
          children: "Users"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 57,
          columnNumber: 11
        }, _this)]
      }), void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 54,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 48,
      columnNumber: 7
    }, _this), Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(_components_BorderBox__WEBPACK_IMPORTED_MODULE_5__["default"], {
      backgroundColor: _models_screen__WEBPACK_IMPORTED_MODULE_3__["ScreenBg"],
      children: Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Flex"], Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, box), {}, {
        className: "flex-col-center",
        children: [Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
          sx: title,
          children: "\u670D\u52A1\u9762\u79EF"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 62,
          columnNumber: 11
        }, _this), Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
          sx: Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, numStyle), {}, {
            position: 'relative'
          }),
          children: [Object(_pages_BigScreen_utils__WEBPACK_IMPORTED_MODULE_6__["numToThousand"])(currentHub === null || currentHub === void 0 ? void 0 : currentHub.totalArea) || '28,60', Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
            className: "f12",
            sx: {
              position: 'absolute',
              right: '-16px',
              top: 0,
              transform: 'scale(0.7)',
              opacity: 0.8
            },
            children: "m2"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 70,
            columnNumber: 13
          }, _this)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 63,
          columnNumber: 11
        }, _this), Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
          sx: subTitle,
          children: "Area"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 83,
          columnNumber: 11
        }, _this)]
      }), void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 61,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 60,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 34,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps(_ref2) {
  var user = _ref2.user;
  return {
    currentHub: user.currentHub
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(umi__WEBPACK_IMPORTED_MODULE_4__["connect"])(mapStateToProps)(ServeCount));

/***/ }),

/***/ "./src/pages/BigScreen/blocks/LeftView/Left/ServeMode.tsx":
/*!****************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/LeftView/Left/ServeMode.tsx ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _components_Iconfont__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/Iconfont */ "./src/components/Iconfont/index.tsx");
/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! umi */ "./node_modules/umi/dist/index.esm.js");
/* harmony import */ var _models_screen__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../models/screen */ "./src/pages/BigScreen/models/screen.ts");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__);
var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/LeftView/Left/ServeMode.tsx",
    _this = undefined;








var ServerMode = function ServerMode(_ref) {
  var windowHeight = _ref.windowHeight;
  var boxs = [{
    icon: 'iconiconwm',
    label: '外卖'
  }, {
    icon: 'iconiconps',
    label: '配送'
  }, {
    icon: 'iconiconxd',
    label: '消毒'
  }, {
    icon: 'iconiconzy',
    label: '转运'
  }, {
    icon: 'iconiconlj',
    label: '垃圾'
  }, {
    icon: 'iconiconjj',
    label: '寄件'
  }, {
    icon: 'iconiconls',
    label: '零售'
  }];
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_1__["Box"], {
    overflow: windowHeight <= _models_screen__WEBPACK_IMPORTED_MODULE_4__["ScreenMinHeight"] ? 'auto' : 'hidden',
    height: '100%',
    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_1__["Flex"], {
      sx: {
        flexWrap: 'wrap'
      },
      flex: 1,
      alignItems: "center",
      height: "100%",
      children: boxs.map(function (item) {
        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_1__["Box"], {
          width: "25%",
          className: "flex-col-center",
          sx: {
            marginBottom: '0.8em'
          },
          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_2__["default"], {
            type: item.icon,
            style: {
              fontSize: '4em'
            }
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 59,
            columnNumber: 13
          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_1__["Text"], {
            children: item.label
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 65,
            columnNumber: 13
          }, _this)]
        }, item.label, true, {
          fileName: _jsxFileName,
          lineNumber: 51,
          columnNumber: 11
        }, _this);
      })
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 42,
      columnNumber: 7
    }, _this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 41,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps(_ref2) {
  var global = _ref2.global;
  return {
    windowHeight: global.windowHeight
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(umi__WEBPACK_IMPORTED_MODULE_3__["connect"])(mapStateToProps)(ServerMode));

/***/ }),

/***/ "./src/pages/BigScreen/blocks/LeftView/Left/Solution.tsx":
/*!***************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/LeftView/Left/Solution.tsx ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var antd_es_image_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/es/image/style */ "./node_modules/antd/es/image/style/index.js");
/* harmony import */ var antd_es_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/es/image */ "./node_modules/antd/es/image/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _components_Chart__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/Chart */ "./src/components/Chart/index.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _components_Tabs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../components/Tabs */ "./src/pages/BigScreen/components/Tabs/index.tsx");
/* harmony import */ var _services_api_aurora_screen_report__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/services/api/aurora/screen-report */ "./src/services/api/aurora/screen-report.ts");
/* harmony import */ var _utils_eventBus__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/utils/eventBus */ "./src/utils/eventBus.ts");
/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! umi */ "./node_modules/umi/dist/index.esm.js");
/* harmony import */ var _models_screen__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../models/screen */ "./src/pages/BigScreen/models/screen.ts");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../types */ "./src/pages/BigScreen/types.ts");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__);





var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/LeftView/Left/Solution.tsx",
    _this = undefined;












var tabs = [{
  label: '楼宇',
  value: _types__WEBPACK_IMPORTED_MODULE_13__["SolutionTabsEnum"].BUILDING,
  imgUrl: __webpack_require__(/*! @/assets/device/02.gif */ "./src/assets/device/02.gif")
}, {
  label: '医院',
  value: _types__WEBPACK_IMPORTED_MODULE_13__["SolutionTabsEnum"].HOSPITAL,
  imgUrl: __webpack_require__(/*! @/assets/device/01.gif */ "./src/assets/device/01.gif")
}, {
  label: '环卫',
  value: _types__WEBPACK_IMPORTED_MODULE_13__["SolutionTabsEnum"].SANITATION,
  imgUrl: __webpack_require__(/*! @/assets/device/03.gif */ "./src/assets/device/03.gif")
}];

var Solution = function Solution(_ref) {
  var currentHub = _ref.currentHub,
      setState = _ref.setState;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_6__["useState"])(tabs[0]),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__["default"])(_useState, 2),
      currentTab = _useState2[0],
      setCurrentTab = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_6__["useState"])({}),
      _useState4 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__["default"])(_useState3, 2),
      option = _useState4[0],
      setOption = _useState4[1];

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_6__["useState"])(tabs[0].imgUrl),
      _useState6 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__["default"])(_useState5, 2),
      imgUrl = _useState6[0],
      setImgUrl = _useState6[1]; // const [videoVisible, setVideoVisible] = useState(true)
  // const [videoType, setVideoType] = useState(currentTab.value)


  function getData() {
    return _getData.apply(this, arguments);
  }

  function _getData() {
    _getData = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee() {
      var _yield$getScreenDevic, data;

      return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              setImgUrl(currentTab.imgUrl);
              _context.next = 3;
              return Object(_services_api_aurora_screen_report__WEBPACK_IMPORTED_MODULE_9__["getScreenDeviceActiveRate"])({
                hubId: currentHub.id,
                rateType: currentTab.value
              });

            case 3:
              _yield$getScreenDevic = _context.sent;
              data = _yield$getScreenDevic.data;
              setOption(getOption([{
                name: '活跃',
                value: data.active * 100
              }, {
                name: '非活跃',
                value: data.inactive * 100
              }]));

            case 6:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));
    return _getData.apply(this, arguments);
  }

  function getOption(data) {
    return {
      color: ['#00C199', '#FFB000'],
      tooltip: {
        show: false,
        trigger: 'item',
        formatter: '{b} {d}%',
        textStyle: {
          fontSize: 12
        }
      },
      legend: {
        top: '5%',
        left: 'center',
        icon: 'circle',
        itemWidth: 8,
        itemHeight: 8,
        textStyle: {
          color: _models_screen__WEBPACK_IMPORTED_MODULE_12__["PrimaryTextColor"]
        },
        show: true
      },
      series: [{
        name: '',
        type: 'pie',
        radius: ['50%', '80%'],
        avoidLabelOverlap: false,
        startAngle: 0,
        itemStyle: {// borderRadius: 0,
          // borderColor: '#ffffff',
          // borderWidth: 4
        },
        label: {
          show: false,
          position: 'center',
          fontSize: 10,
          formatter: '{b}\n{d}%',
          textBorderColor: 'transparent',
          color: '#dddddd'
        },
        emphasis: {
          label: {
            show: true,
            fontSize: '16',
            fontWeight: 'bold'
          }
        },
        labelLine: {
          show: false,
          showAbove: true,
          length: 8,
          length2: 5
        },
        data: data
      }]
    };
  }

  var handleImg = function handleImg() {
    _utils_eventBus__WEBPACK_IMPORTED_MODULE_10__["default"].emit('bigRobotShow', currentTab);
  };

  Object(react__WEBPACK_IMPORTED_MODULE_6__["useEffect"])(function () {
    getData(); // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [currentHub, currentTab]);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Flex"], {
    flex: 1,
    flexDirection: "column",
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Flex"], {
      sx: {
        position: 'absolute',
        top: 0,
        right: 0
      },
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__["jsxDEV"])(_components_Tabs__WEBPACK_IMPORTED_MODULE_8__["default"], {
        tabs: tabs,
        onChange: function onChange(data) {
          setCurrentTab(data);
        }
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 146,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 139,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Flex"], {
      height: "100%",
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Box"], {
        height: "100%",
        width: "50%",
        flexShrink: 0,
        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__["jsxDEV"])(_components_Chart__WEBPACK_IMPORTED_MODULE_5__["EchartView"], {
          option: option,
          height: "100%",
          width: "100%"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 155,
          columnNumber: 11
        }, _this)
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 154,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Flex"], {
        style: {
          position: 'relative'
        },
        height: "100%",
        alignItems: "center",
        flexDirection: "column",
        justifyContent: "center",
        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__["jsxDEV"])(antd_es_image__WEBPACK_IMPORTED_MODULE_1__["default"], {
          src: imgUrl,
          preview: false,
          onClick: handleImg
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 192,
          columnNumber: 11
        }, _this)
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 157,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 153,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 138,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps(_ref2) {
  var user = _ref2.user,
      screen = _ref2.screen;
  return {
    currentHub: user.currentHub,
    videoPlay: screen.videoPlay
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    setState: function setState(payload) {
      return dispatch({
        type: 'screen/setState',
        payload: payload
      });
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(umi__WEBPACK_IMPORTED_MODULE_11__["connect"])(mapStateToProps, mapDispatchToProps)(Solution));

/***/ }),

/***/ "./src/pages/BigScreen/blocks/LeftView/Left/index.tsx":
/*!************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/LeftView/Left/index.tsx ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _ServeMode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ServeMode */ "./src/pages/BigScreen/blocks/LeftView/Left/ServeMode.tsx");
/* harmony import */ var _DeviceInfo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DeviceInfo */ "./src/pages/BigScreen/blocks/LeftView/Left/DeviceInfo.tsx");
/* harmony import */ var _Solution__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Solution */ "./src/pages/BigScreen/blocks/LeftView/Left/Solution.tsx");
/* harmony import */ var _ServeCount__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ServeCount */ "./src/pages/BigScreen/blocks/LeftView/Left/ServeCount.tsx");
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _components_BorderBox__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../components/BorderBox */ "./src/pages/BigScreen/components/BorderBox/index.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__);
var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/LeftView/Left/index.tsx",
    _this = undefined;











var Left = function Left() {
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_6__["Flex"] // sx={{
  //   transform: 'scale(0.8851851851851852)',
  //   transformOrigin: 'left top',
  // }}
  , {
    height: "100%",
    flexDirection: "column",
    justifyContent: "space-between",
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(_ServeCount__WEBPACK_IMPORTED_MODULE_5__["default"], {}, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 21,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(_components_BorderBox__WEBPACK_IMPORTED_MODULE_7__["default"], {
      className: "big-screen-block big-screen-serve-mode",
      style: {
        height: '20%'
      },
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_6__["Flex"], {
        height: "100%",
        flexDirection: "column",
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])("div", {
          className: "big-screen-module-title",
          children: "\u670D\u52A1\u7C7B\u578B"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 29,
          columnNumber: 11
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(_ServeMode__WEBPACK_IMPORTED_MODULE_2__["default"], {}, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 30,
          columnNumber: 11
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 28,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 22,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(_components_BorderBox__WEBPACK_IMPORTED_MODULE_7__["default"], {
      className: "big-screen-block big-screen-device-info",
      style: {
        height: 300,
        overflow: 'hidden'
      },
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_6__["Flex"], {
        height: "100%",
        flexDirection: "column",
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])("div", {
          className: "big-screen-module-title",
          children: "\u8BBE\u5907\u4FE1\u606F"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 41,
          columnNumber: 11
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(_DeviceInfo__WEBPACK_IMPORTED_MODULE_3__["default"], {}, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 42,
          columnNumber: 11
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 40,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 33,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(_components_BorderBox__WEBPACK_IMPORTED_MODULE_7__["default"], {
      className: "big-screen-block big-screen-solution",
      style: {
        height: 300
      },
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_6__["Flex"], {
        height: "100%",
        flexDirection: "column",
        overflow: "hidden",
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])("div", {
          className: "big-screen-module-title",
          children: "\u89E3\u51B3\u65B9\u6848"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 52,
          columnNumber: 11
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(_Solution__WEBPACK_IMPORTED_MODULE_4__["default"], {}, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 53,
          columnNumber: 11
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 51,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 45,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 12,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps() {
  return {};
};

var mapDispatchToProps = {};
/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(mapStateToProps, mapDispatchToProps)(Left));

/***/ }),

/***/ "./src/pages/BigScreen/blocks/LeftView/OrderBox/components/List.tsx":
/*!**************************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/LeftView/OrderBox/components/List.tsx ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _services_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/services/api */ "./src/services/api/index.ts");
/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! umi */ "./node_modules/umi/dist/index.esm.js");
/* harmony import */ var _ListItem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ListItem */ "./src/pages/BigScreen/blocks/LeftView/OrderBox/components/ListItem.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__);



var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/LeftView/OrderBox/components/List.tsx",
    _this = undefined;









var List = function List(_ref) {
  var currentHub = _ref.currentHub;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])([]),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState, 2),
      list = _useState2[0],
      setList = _useState2[1];

  var timer = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])();
  var getData = Object(react__WEBPACK_IMPORTED_MODULE_3__["useCallback"])( /*#__PURE__*/Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {
    var _yield$getOrderList, data;

    return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return Object(_services_api__WEBPACK_IMPORTED_MODULE_5__["getOrderList"])({
              hubId: currentHub === null || currentHub === void 0 ? void 0 : currentHub.id,
              active: true,
              resolveActivities: true,
              pageSize: 100,
              sort: 'bookingStateSorter,ASC,createdTime,DESC' // pageSize: 5,

            });

          case 2:
            _yield$getOrderList = _context.sent;
            data = _yield$getOrderList.data;
            data && setList(data);

          case 5:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  })), [currentHub === null || currentHub === void 0 ? void 0 : currentHub.id]);
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    getData();
    timer.current = setInterval(function () {
      getData();
    }, 1000 * 1);
    return function () {
      timer.current && clearInterval(timer.current);
    };
  }, [getData]);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_4__["Flex"], {
    flex: 1,
    flexDirection: "column",
    children: list.map(function (item, index) {
      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(_ListItem__WEBPACK_IMPORTED_MODULE_7__["default"], {
        index: index,
        info: item
      }, item.id, false, {
        fileName: _jsxFileName,
        lineNumber: 43,
        columnNumber: 9
      }, _this);
    })
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 41,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps(_ref3) {
  var user = _ref3.user;
  return {
    currentHub: user.currentHub
  };
};

var mapDispatchToProps = function mapDispatchToProps() {
  return {};
};

/* harmony default export */ __webpack_exports__["default"] = (Object(umi__WEBPACK_IMPORTED_MODULE_6__["connect"])(mapStateToProps, mapDispatchToProps)(List));

/***/ }),

/***/ "./src/pages/BigScreen/blocks/LeftView/OrderBox/components/ListItem.tsx":
/*!******************************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/LeftView/OrderBox/components/ListItem.tsx ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _components_Iconfont__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/components/Iconfont */ "./src/components/Iconfont/index.tsx");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/config */ "./src/config/index.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/constants */ "./src/constants/index.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _Timeline__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Timeline */ "./src/pages/BigScreen/blocks/LeftView/OrderBox/components/Timeline.tsx");
/* harmony import */ var _components_antd__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/antd */ "./src/components/antd/index.ts");
/* harmony import */ var _utils_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/utils/constants */ "./src/utils/constants.ts");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__);
var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/LeftView/OrderBox/components/ListItem.tsx",
    _this = undefined;













var ListItem = function ListItem(_ref) {
  var _info$robot, _info$hive, _info$hive3, _info$robot3, _info$originWaypoint, _info$originWaypoint2, _info$waypoint;

  var index = _ref.index,
      info = _ref.info;
  var currentTime = moment__WEBPACK_IMPORTED_MODULE_3___default()();
  var robotName = info === null || info === void 0 ? void 0 : (_info$robot = info.robot) === null || _info$robot === void 0 ? void 0 : _info$robot.abbreviation;
  var hiveName = info === null || info === void 0 ? void 0 : (_info$hive = info.hive) === null || _info$hive === void 0 ? void 0 : _info$hive.abbreviation;

  var hasRange = function hasRange(starttime, endtime) {
    if (!starttime || !endtime) return false;
    if (moment__WEBPACK_IMPORTED_MODULE_3___default()(starttime).diff(moment__WEBPACK_IMPORTED_MODULE_3___default()(endtime)) >= 0) return false; // if (currentTime.valueOf() > endtime) return false

    return true;
  };

  var avatarBgColor = Object(react__WEBPACK_IMPORTED_MODULE_4__["useMemo"])(function () {
    var i = index > 10 ? index % 10 : index;
    return _config__WEBPACK_IMPORTED_MODULE_1__["default"].colors[i];
  }, [index]);
  var currentColor = Object(react__WEBPACK_IMPORTED_MODULE_4__["useMemo"])(function () {
    return _constants__WEBPACK_IMPORTED_MODULE_2__["BookingStateColor"][info.bookingState] || '';
  }, [info.bookingState]);
  var timelineVisible = Object(react__WEBPACK_IMPORTED_MODULE_4__["useMemo"])(function () {
    return hasRange(info.initiatedTime, info.fulfilledTime);
  }, [info.initiatedTime, info.fulfilledTime]);
  var hiveDeviceStatus = Object(react__WEBPACK_IMPORTED_MODULE_4__["useMemo"])(function () {
    var _info$hive2;

    return _utils_constants__WEBPACK_IMPORTED_MODULE_8__["DeviceStatusStr"][info === null || info === void 0 ? void 0 : (_info$hive2 = info.hive) === null || _info$hive2 === void 0 ? void 0 : _info$hive2.deviceStatus] || '';
  }, [info === null || info === void 0 ? void 0 : (_info$hive3 = info.hive) === null || _info$hive3 === void 0 ? void 0 : _info$hive3.deviceStatus]);
  var robotDeviceStatus = Object(react__WEBPACK_IMPORTED_MODULE_4__["useMemo"])(function () {
    var _info$robot2;

    return _utils_constants__WEBPACK_IMPORTED_MODULE_8__["DeviceStatusStr"][info === null || info === void 0 ? void 0 : (_info$robot2 = info.robot) === null || _info$robot2 === void 0 ? void 0 : _info$robot2.deviceStatus] || '';
  }, [info === null || info === void 0 ? void 0 : (_info$robot3 = info.robot) === null || _info$robot3 === void 0 ? void 0 : _info$robot3.deviceStatus]);
  var leftTime = Object(react__WEBPACK_IMPORTED_MODULE_4__["useMemo"])(function () {
    var left = moment__WEBPACK_IMPORTED_MODULE_3___default()(info.fulfilledTime).diff(currentTime);

    if (left < 0) {
      return moment__WEBPACK_IMPORTED_MODULE_3___default()(0);
    }

    return moment__WEBPACK_IMPORTED_MODULE_3___default()(left);
  }, [currentTime, info.fulfilledTime]);

  var Line = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
    sx: {
      height: 1,
      backgroundColor: '#D5F0F5',
      margin: '7px 0',
      opacity: 0.2
    }
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 53,
    columnNumber: 5
  }, _this);

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["Fragment"], {
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Flex"], {
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
          mr: '5px',
          flexShrink: 0,
          sx: {
            width: 30,
            height: 30,
            backgroundColor: avatarBgColor,
            borderRadius: '50%',
            color: '#ffffff',
            fontSize: 12,
            textAlign: 'center',
            lineHeight: '30px'
          },
          children: info === null || info === void 0 ? void 0 : (_info$originWaypoint = info.originWaypoint) === null || _info$originWaypoint === void 0 ? void 0 : _info$originWaypoint.abbreviation.slice(0, 2)
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 67,
          columnNumber: 11
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Flex"], {
          flexDirection: "column",
          flex: 1,
          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Flex"], {
            fontSize: 14,
            alignItems: "center",
            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_components_antd__WEBPACK_IMPORTED_MODULE_7__["Text"], {
              ellipsis: true,
              children: [(info === null || info === void 0 ? void 0 : (_info$originWaypoint2 = info.originWaypoint) === null || _info$originWaypoint2 === void 0 ? void 0 : _info$originWaypoint2.abbreviation) || '#', /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_0__["default"], {
                type: "iconxingzhuang",
                style: {
                  margin: '0 3px'
                }
              }, void 0, false, {
                fileName: _jsxFileName,
                lineNumber: 87,
                columnNumber: 17
              }, _this), (info === null || info === void 0 ? void 0 : (_info$waypoint = info.waypoint) === null || _info$waypoint === void 0 ? void 0 : _info$waypoint.abbreviation) || '#']
            }, void 0, true, {
              fileName: _jsxFileName,
              lineNumber: 85,
              columnNumber: 15
            }, _this)
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 84,
            columnNumber: 13
          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Flex"], {
            justifyContent: "space-between",
            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Flex"], {
              children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_components_antd__WEBPACK_IMPORTED_MODULE_7__["Text"], {
                ellipsis: true,
                children: [hiveName && "[".concat(hiveDeviceStatus, "] ").concat(hiveName), robotName && " & [".concat(robotDeviceStatus, "] ").concat(robotName)]
              }, void 0, true, {
                fileName: _jsxFileName,
                lineNumber: 93,
                columnNumber: 17
              }, _this)
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 92,
              columnNumber: 15
            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
              flexShrink: 0,
              color: currentColor,
              children: _constants__WEBPACK_IMPORTED_MODULE_2__["BookingStateStr"][info.bookingState]
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 99,
              columnNumber: 15
            }, _this)]
          }, void 0, true, {
            fileName: _jsxFileName,
            lineNumber: 91,
            columnNumber: 13
          }, _this)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 83,
          columnNumber: 11
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 66,
        columnNumber: 9
      }, _this), timelineVisible && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Flex"], {
        flexDirection: "column",
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Flex"], {
          justifyContent: "space-between",
          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
            children: moment__WEBPACK_IMPORTED_MODULE_3___default()(info.initiatedTime).format('MM-DD HH:mm:ss')
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 108,
            columnNumber: 15
          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
            children: leftTime.format('mm′ss″')
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 110,
            columnNumber: 15
          }, _this)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 107,
          columnNumber: 13
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_Timeline__WEBPACK_IMPORTED_MODULE_6__["default"], {
          info: info,
          activeColor: currentColor
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 113,
          columnNumber: 13
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 106,
        columnNumber: 11
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 65,
      columnNumber: 7
    }, _this), Line]
  }, void 0, true);
};

/* harmony default export */ __webpack_exports__["default"] = (ListItem);

/***/ }),

/***/ "./src/pages/BigScreen/blocks/LeftView/OrderBox/components/Timeline.tsx":
/*!******************************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/LeftView/OrderBox/components/Timeline.tsx ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2 */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/defineProperty */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__);




var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/LeftView/OrderBox/components/Timeline.tsx",
    _BookingStateLinkColo,
    _BookingStateLinkRang,
    _this = undefined;






var BookingStateLinkEnum;

(function (BookingStateLinkEnum) {
  BookingStateLinkEnum["init"] = "init";
  BookingStateLinkEnum["dispatch"] = "dispatch";
  BookingStateLinkEnum["wait"] = "wait";
})(BookingStateLinkEnum || (BookingStateLinkEnum = {}));

var BookingStateLinkColor = (_BookingStateLinkColo = {}, Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(_BookingStateLinkColo, BookingStateLinkEnum.init, '#147AFFFF'), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(_BookingStateLinkColo, BookingStateLinkEnum.dispatch, '#00C199FF'), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(_BookingStateLinkColo, BookingStateLinkEnum.wait, '#FFC01AFF'), _BookingStateLinkColo);
var BookingStateLinkRange = (_BookingStateLinkRang = {}, Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(_BookingStateLinkRang, BookingStateLinkEnum.init, ['REQUESTED', 'CONFIRMED']), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(_BookingStateLinkRang, BookingStateLinkEnum.dispatch, ['DEPARTED']), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(_BookingStateLinkRang, BookingStateLinkEnum.wait, ['ARRIVED', 'COMPLETED']), _BookingStateLinkRang);

var getActivePoints = function getActivePoints(list, start, end) {
  return list.filter(function (item) {
    return item.timestamp >= start && item.timestamp <= end;
  });
};

var LinkItem = function LinkItem(_ref) {
  var info = _ref.info;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])({
    initEndPoint: 0,
    dispatchEndPoint: 0,
    waitEndPoint: 0
  }),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState, 2),
      barPoints = _useState2[0],
      setBarPoints = _useState2[1];

  var configPoints = Object(react__WEBPACK_IMPORTED_MODULE_4__["useCallback"])(function () {
    var _info$activities = info.activities,
        activities = _info$activities === void 0 ? [] : _info$activities,
        initiatedTime = info.initiatedTime,
        fulfilledTime = info.fulfilledTime;
    var totalRange = fulfilledTime - initiatedTime;
    var points = getActivePoints(activities, initiatedTime, fulfilledTime);
    var ret = {
      initEndPoint: 0,
      dispatchEndPoint: 0,
      waitEndPoint: 0
    };
    points.forEach(function (item) {
      var bookingState = item.bookingState,
          timestamp = item.timestamp;
      var left = (timestamp - initiatedTime) / totalRange; // console.log('bookingState:', bookingState)

      if (BookingStateLinkRange.init.includes(bookingState)) {
        ret.initEndPoint = left;
      }

      if (BookingStateLinkRange.dispatch.includes(bookingState)) {
        ret.dispatchEndPoint = left;
      }

      if (BookingStateLinkRange.wait.includes(bookingState)) {
        ret.waitEndPoint = left;
      }
    });
    setBarPoints(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, barPoints), ret));
  }, [barPoints, info]);
  var bars = Object(react__WEBPACK_IMPORTED_MODULE_4__["useMemo"])(function () {
    var initEndPoint = barPoints.initEndPoint,
        dispatchEndPoint = barPoints.dispatchEndPoint,
        waitEndPoint = barPoints.waitEndPoint; // console.log('barPoints:', initEndPoint, dispatchEndPoint, waitEndPoint)

    var fn = function fn(a, b) {
      var val = a - b;
      return val >= 0 ? val : 0;
    };

    var waitWidth = function () {
      return dispatchEndPoint ? fn(waitEndPoint, dispatchEndPoint) : fn(waitEndPoint, initEndPoint);
    }();

    var ret = [{
      left: 0,
      width: initEndPoint,
      bgColor: BookingStateLinkColor.init
    }, {
      left: initEndPoint,
      width: fn(dispatchEndPoint, initEndPoint),
      bgColor: BookingStateLinkColor.dispatch
    }, {
      left: dispatchEndPoint || initEndPoint,
      width: waitWidth,
      bgColor: BookingStateLinkColor.wait
    }]; // console.log('bars:', ret)

    return ret;
  }, [barPoints]);
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    configPoints(); // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [info]);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["Fragment"], {
    children: bars.map(function (item, index) {
      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
        sx: {
          position: 'absolute',
          left: item.left * 100 + '%',
          height: 7,
          width: "calc(".concat(item.width * 100 + '%', " + ").concat(item.width !== 0 ? '1px' : 0, ")"),
          backgroundColor: item.bgColor,
          borderRadius: '4px'
        }
      }, index, false, {
        fileName: _jsxFileName,
        lineNumber: 104,
        columnNumber: 9
      }, _this);
    })
  }, void 0, false);
};

var PointView = function PointView(_ref2) {
  var info = _ref2.info;
  var totalRange = info.fulfilledTime - info.initiatedTime;
  var _info$activities2 = info.activities,
      activities = _info$activities2 === void 0 ? [] : _info$activities2;
  var points = activities.filter(function (item) {
    return item.timestamp >= info.initiatedTime && item.timestamp <= info.fulfilledTime;
  });
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["Fragment"], {
    children: points.map(function (item, index) {
      var left = (item.timestamp - info.initiatedTime) / totalRange; // console.log('left:', left)

      var leftPx = left * 100 + '%'; // console.log(item.id, index)

      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
          sx: {
            position: 'absolute',
            top: '2px',
            width: '3px',
            height: '3px',
            borderRadius: '50%',
            backgroundColor: '#ffffff',
            left: "calc(".concat(leftPx, " - ").concat(left > 0.01 ? '1px' : 0, ")")
          }
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 135,
          columnNumber: 13
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
          sx: {
            position: 'absolute',
            top: '7px',
            width: '10px',
            lineHeight: 1.2,
            fontSize: 12,
            transform: 'scale(0.7)',
            left: "calc(".concat(leftPx, " - 5px)")
          },
          children: item.activityDescription
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 146,
          columnNumber: 13
        }, _this)]
      }, item.id, true, {
        fileName: _jsxFileName,
        lineNumber: 134,
        columnNumber: 11
      }, _this);
    })
  }, void 0, false);
};

var Timeline = function Timeline(_ref3) {
  var info = _ref3.info,
      activeColor = _ref3.activeColor;
  var _info$activities3 = info.activities,
      activities = _info$activities3 === void 0 ? [] : _info$activities3;
  var points = activities.filter(function (item) {
    return item.timestamp >= info.initiatedTime && item.timestamp <= info.fulfilledTime;
  }); // console.log(points, points.length)

  var currentTime = moment__WEBPACK_IMPORTED_MODULE_3___default()();
  var totalRange = info.fulfilledTime - info.initiatedTime;
  var activeWidth = Object(react__WEBPACK_IMPORTED_MODULE_4__["useMemo"])(function () {
    if (currentTime.diff(moment__WEBPACK_IMPORTED_MODULE_3___default()(info.fulfilledTime)) >= 0) return 100;
    var currentRange = currentTime.valueOf() - info.initiatedTime;
    var ret = currentRange / totalRange;
    return ret * 100;
  }, [currentTime, info.fulfilledTime, info.initiatedTime, totalRange]);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
    sx: {
      position: 'relative',
      // overflow: 'auto',
      height: points.length ? '30px' : 'auto'
    },
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      sx: {
        overflow: 'auto',
        position: 'relative',
        height: 7,
        borderRadius: '7px',
        background: 'rgba(213, 240, 245, 0.19)'
      },
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
        sx: {
          backgroundColor: activeColor,
          // background: 'transparent',
          height: 7,
          width: activeWidth + '%',
          opacity: 0.7
        }
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 200,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 191,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      sx: {
        position: 'absolute',
        width: 'calc(100% - 14px)',
        // width: '100%',
        height: '7px',
        left: 0,
        top: 0,
        borderRadius: '7px' // background: 'transparent',

      },
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(LinkItem, {
        info: info
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 224,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(PointView, {
        info: info
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 225,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 212,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 183,
    columnNumber: 5
  }, _this);
};

/* harmony default export */ __webpack_exports__["default"] = (Timeline);

/***/ }),

/***/ "./src/pages/BigScreen/blocks/LeftView/OrderBox/index.tsx":
/*!****************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/LeftView/OrderBox/index.tsx ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _components_BorderBox_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../components/BorderBox/index */ "./src/pages/BigScreen/components/BorderBox/index.tsx");
/* harmony import */ var _components_List__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/List */ "./src/pages/BigScreen/blocks/LeftView/OrderBox/components/List.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__);
var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/LeftView/OrderBox/index.tsx",
    _this = undefined;




 // import Tabs from '../../../components/Tabs'
// import { OrderModeEnum } from '../../../types'

 // import Top from './components/Top'
// const TabsOptions = [
//   {
//     label: '服务统计',
//     value: OrderModeEnum.SERVE,
//   },
//   {
//     label: '订单统计',
//     value: OrderModeEnum.ORDER,
//   },
// ]



var OrderBox = function OrderBox() {
  // const [orderMode, setOrderMode] = useState<OrderModeEnum>(OrderModeEnum.SERVE)
  // useEffect(() => {
  //   console.log('orderMode:', orderMode)
  // }, [orderMode])
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(_components_BorderBox_index__WEBPACK_IMPORTED_MODULE_3__["default"], {
    className: "big-screen-block big-screen-order",
    style: {
      height: '100%'
    },
    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Flex"], {
      height: "100%",
      flexDirection: "column",
      overflow: "hidden",
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])("div", {
        className: "big-screen-module-title",
        children: "\u8BA2\u5355\u6570\u636E"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 36,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Flex"], {
        flexDirection: "column",
        overflow: "auto",
        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(_components_List__WEBPACK_IMPORTED_MODULE_4__["default"], {}, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 53,
          columnNumber: 11
        }, _this)
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 51,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 35,
      columnNumber: 7
    }, _this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 29,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps() {
  return {};
};

var mapDispatchToProps = {};
/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(mapStateToProps, mapDispatchToProps)(OrderBox));

/***/ }),

/***/ "./src/pages/BigScreen/blocks/LeftView/index.tsx":
/*!*******************************************************!*\
  !*** ./src/pages/BigScreen/blocks/LeftView/index.tsx ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _Left__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Left */ "./src/pages/BigScreen/blocks/LeftView/Left/index.tsx");
/* harmony import */ var _OrderBox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./OrderBox */ "./src/pages/BigScreen/blocks/LeftView/OrderBox/index.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__);
var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/LeftView/index.tsx",
    _this = undefined;







var LeftView = function LeftView(_ref) {
  var sideViewPage = _ref.sideViewPage;

  if (sideViewPage === 0) {
    return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])(_Left__WEBPACK_IMPORTED_MODULE_2__["default"], {}, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 13,
      columnNumber: 12
    }, _this);
  }

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])(_OrderBox__WEBPACK_IMPORTED_MODULE_3__["default"], {}, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 15,
    columnNumber: 10
  }, _this);
};

var mapStateToProps = function mapStateToProps(_ref2) {
  var screen = _ref2.screen;
  return {
    sideViewPage: screen.sideViewPage
  };
};

var mapDispatchToProps = {};
/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(mapStateToProps, mapDispatchToProps)(LeftView));

/***/ }),

/***/ "./src/pages/BigScreen/blocks/MenuBox/index.tsx":
/*!******************************************************!*\
  !*** ./src/pages/BigScreen/blocks/MenuBox/index.tsx ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var antd_es_modal_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/es/modal/style */ "./node_modules/antd/es/modal/style/index.js");
/* harmony import */ var antd_es_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/es/modal */ "./node_modules/antd/es/modal/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! umi */ "./node_modules/umi/dist/index.esm.js");
/* harmony import */ var _components_Player_VideoBox__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../components/Player/VideoBox */ "./src/pages/BigScreen/components/Player/VideoBox/index.tsx");
/* harmony import */ var _components_Iconfont__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/Iconfont */ "./src/components/Iconfont/index.tsx");
/* harmony import */ var _models_screen__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../models/screen */ "./src/pages/BigScreen/models/screen.ts");
/* harmony import */ var _utils_eventBus__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/utils/eventBus */ "./src/utils/eventBus.ts");
/* harmony import */ var theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! theme-ui/jsx-dev-runtime */ "./node_modules/theme-ui/jsx-dev-runtime/dist/index.esm.js");




var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/MenuBox/index.tsx",
    _this = undefined;











var MenuBox = function MenuBox(_ref) {
  var setState = _ref.setState,
      updateMenu = _ref.updateMenu;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState, 2),
      videoVisible = _useState2[0],
      setVideoVisible = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(true),
      _useState4 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState3, 2),
      threeViewIconSwitch = _useState4[0],
      setThreeViewIconSwitch = _useState4[1]; // useEffect(() => {
  //   console.log('threeViewIconSwitch:', threeViewIconSwitch)
  // }, [threeViewIconSwitch])


  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    _utils_eventBus__WEBPACK_IMPORTED_MODULE_9__["default"].on('setThreeViewIconSwitch', function (bool) {
      bool && setThreeViewIconSwitch(bool);
    });
  }, []);
  var mainStyle = {
    position: 'fixed',
    top: 100,
    right: 420,
    justifyContent: 'flex-end',
    zIndex: 9999
  };
  var btnStyle = {
    padding: '0 15px',
    borderRadius: '3px',
    fontSize: 20,
    border: '1px solid',
    borderColor: 'text-color',
    marginLeft: '15px !important'
  };
  return Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__["jsxDEV"])(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__["Fragment"], {
    children: [Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_4__["Flex"], {
      sx: mainStyle,
      children: [Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_4__["Box"], {
        sx: btnStyle,
        onClick: function onClick() {
          updateMenu(_models_screen__WEBPACK_IMPORTED_MODULE_8__["ScreenMenuKeyEnum"].videoPlayer);
          setState({
            key: 'videoPlay',
            value: true
          });
          setVideoVisible(!videoVisible);
        },
        children: Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_7__["default"], {
          type: "iconcamera"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 57,
          columnNumber: 11
        }, _this)
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 49,
        columnNumber: 9
      }, _this), Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_4__["Box"], {
        sx: btnStyle,
        onClick: function onClick() {
          setThreeViewIconSwitch(function (bool) {
            return !bool;
          });
          updateMenu(_models_screen__WEBPACK_IMPORTED_MODULE_8__["ScreenMenuKeyEnum"].autoRotate);
        },
        children: Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_7__["default"], {
          type: threeViewIconSwitch ? 'iconstop' : 'iconplay'
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 66,
          columnNumber: 11
        }, _this)
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 59,
        columnNumber: 9
      }, _this), Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_4__["Box"], {
        sx: btnStyle,
        onClick: function onClick() {
          updateMenu(_models_screen__WEBPACK_IMPORTED_MODULE_8__["ScreenMenuKeyEnum"].backHome);
        },
        children: Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_7__["default"], {
          type: 'iconhome'
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 74,
          columnNumber: 11
        }, _this)
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 68,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 48,
      columnNumber: 7
    }, _this), Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__["jsxDEV"])(antd_es_modal__WEBPACK_IMPORTED_MODULE_1__["default"], {
      wrapClassName: "big-screen-modal",
      style: {
        top: 200,
        backgroundColor: 'transparent'
      },
      bodyStyle: {
        padding: 0,
        height: 625,
        maxHeight: 625
      },
      closable: false,
      width: 1000,
      title: '',
      visible: videoVisible,
      footer: null,
      destroyOnClose: true,
      zIndex: 10000,
      onCancel: function onCancel() {
        setState({
          key: 'videoPlay',
          value: false
        });
        setVideoVisible(false);
      },
      children: Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__["jsxDEV"])(_components_Player_VideoBox__WEBPACK_IMPORTED_MODULE_6__["default"], {}, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 100,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 77,
      columnNumber: 7
    }, _this)]
  }, void 0, true);
};

var mapStateToProps = function mapStateToProps() {
  return {};
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    setState: function setState(payload) {
      return dispatch({
        type: 'screen/setState',
        payload: payload
      });
    },
    updateMenu: function updateMenu(payload) {
      return dispatch({
        type: 'screen/updateMenu',
        payload: payload
      });
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(umi__WEBPACK_IMPORTED_MODULE_5__["connect"])(mapStateToProps, mapDispatchToProps)(MenuBox));

/***/ }),

/***/ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/DeviceError.tsx":
/*!**********************************************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/DeviceError.tsx ***!
  \**********************************************************************************************/
/*! exports provided: UnavailableEnum, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnavailableEnum", function() { return UnavailableEnum; });
/* harmony import */ var antd_es_popover_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/es/popover/style */ "./node_modules/antd/es/popover/style/index.js");
/* harmony import */ var antd_es_popover__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/es/popover */ "./node_modules/antd/es/popover/index.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__);



var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/DeviceError.tsx",
    _this = undefined;





var UnavailableEnum;

(function (UnavailableEnum) {
  UnavailableEnum["unavailableMarkers"] = "unavailableMarkers";
  UnavailableEnum["unavailableReason"] = "unavailableReason";
  UnavailableEnum["unavailableUntil"] = "unavailableUntil";
})(UnavailableEnum || (UnavailableEnum = {}));

var DeviceError = function DeviceError(_ref) {
  var info = _ref.info,
      children = _ref.children;

  var errorMsg = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_4__["Box"], {
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      children: ["\u53CD\u9988\u539F\u56E0\uFF1A", info.unavailableReason]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 31,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_4__["Box"], {
      children: ["\u9884\u8BA1\u7ED3\u675F\uFF1A", moment__WEBPACK_IMPORTED_MODULE_2___default()(info.unavailableUntil).format('yyyy年MM月DD日 HH:mm:ss')]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 32,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 30,
    columnNumber: 5
  }, _this);

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(antd_es_popover__WEBPACK_IMPORTED_MODULE_1__["default"], {
    content: errorMsg,
    title: '暂不可用',
    children: children
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 36,
    columnNumber: 5
  }, _this);
};

/* harmony default export */ __webpack_exports__["default"] = (DeviceError);

/***/ }),

/***/ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/DeviceStatus.tsx":
/*!***********************************************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/DeviceStatus.tsx ***!
  \***********************************************************************************************/
/*! exports provided: DeviceStatusEnum, DeviceStatusColor, DevcieStatusValues, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeviceStatusEnum", function() { return DeviceStatusEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeviceStatusColor", function() { return DeviceStatusColor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DevcieStatusValues", function() { return DevcieStatusValues; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DeviceStatusBlock; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/toConsumableArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/defineProperty */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _utils_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/utils/constants */ "./src/utils/constants.ts");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__);




var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/DeviceStatus.tsx",
    _DeviceStatusColor,
    _DevcieStatusValues;





var DeviceStatusEnum;

(function (DeviceStatusEnum) {
  DeviceStatusEnum["\u7A7A\u95F2"] = "\u7A7A\u95F2";
  DeviceStatusEnum["\u6D3B\u8DC3"] = "\u6D3B\u8DC3";
  DeviceStatusEnum["\u5145\u7535"] = "\u5145\u7535";
  DeviceStatusEnum["\u6545\u969C"] = "\u6545\u969C";
  DeviceStatusEnum["\u79BB\u7EBF"] = "\u79BB\u7EBF";
})(DeviceStatusEnum || (DeviceStatusEnum = {}));

var DeviceStatusColor = (_DeviceStatusColor = {}, Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(_DeviceStatusColor, DeviceStatusEnum.空闲, '#147AFF'), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(_DeviceStatusColor, DeviceStatusEnum.活跃, '#FCC448'), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(_DeviceStatusColor, DeviceStatusEnum.充电, '#00C199'), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(_DeviceStatusColor, DeviceStatusEnum.故障, '#E33540'), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(_DeviceStatusColor, DeviceStatusEnum.离线, 'rgba(213, 240, 245, 1)'), _DeviceStatusColor);
var DevcieStatusValues = (_DevcieStatusValues = {}, Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(_DevcieStatusValues, DeviceStatusEnum.空闲, [_utils_constants__WEBPACK_IMPORTED_MODULE_5__["DeviceStatus"].IDLE]), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(_DevcieStatusValues, DeviceStatusEnum.活跃, [_utils_constants__WEBPACK_IMPORTED_MODULE_5__["DeviceStatus"].IN_USE, _utils_constants__WEBPACK_IMPORTED_MODULE_5__["DeviceStatus"].BUSY]), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(_DevcieStatusValues, DeviceStatusEnum.充电, [_utils_constants__WEBPACK_IMPORTED_MODULE_5__["DeviceStatus"].CHARGING]), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(_DevcieStatusValues, DeviceStatusEnum.故障, [_utils_constants__WEBPACK_IMPORTED_MODULE_5__["DeviceStatus"].ERROR]), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(_DevcieStatusValues, DeviceStatusEnum.离线, [_utils_constants__WEBPACK_IMPORTED_MODULE_5__["DeviceStatus"].INACTIVE, _utils_constants__WEBPACK_IMPORTED_MODULE_5__["DeviceStatus"].OFFLINE]), _DevcieStatusValues);
var selKeysDefault = [DeviceStatusEnum.空闲, DeviceStatusEnum.活跃, DeviceStatusEnum.充电, DeviceStatusEnum.故障, DeviceStatusEnum.离线];
function DeviceStatusBlock(_ref) {
  var _this = this;

  var onChange = _ref.onChange;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(selKeysDefault),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState, 2),
      selKeys = _useState2[0],
      setSelKeys = _useState2[1];

  var firstUpdate = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])(true);
  var selValues = Object(react__WEBPACK_IMPORTED_MODULE_3__["useMemo"])(function () {
    var ret = [];
    selKeys.forEach(function (item) {
      ret = [].concat(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(ret), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(DevcieStatusValues[item]));
    });
    return ret;
  }, [selKeys]);

  var handleTap = function handleTap(key) {
    // console.log(key)
    if (!selKeys.includes(key)) {
      setSelKeys([].concat(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(selKeys), [key]));
    } else {
      var index = selKeys.indexOf(key); // console.log(index)

      var newKeys = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(selKeys);

      newKeys.splice(index, 1); // console.log(newVals)

      setSelKeys(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(newKeys));
    }
  };

  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    onChange && onChange(selValues, selKeys); // eslint-disable-next-line react-hooks/exhaustive-deps
  }, []);
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if (firstUpdate.current) {
      firstUpdate.current = false;
      return;
    } // console.log('selValues:', selValues)
    // console.log('selKeys:', selKeys)


    onChange && onChange(selValues, selKeys);
  }, [onChange, selKeys, selValues]); // useEffect(() => {
  //   console.log('selKeys:', selKeys)
  // }, [selKeys])

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_4__["Flex"], {
    children: Object.keys(DeviceStatusEnum).map(function (key) {
      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_4__["Flex"], {
        ml: 12,
        alignItems: "center",
        sx: {
          cursor: 'pointer'
        },
        onClick: function onClick() {
          return handleTap(key);
        },
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_4__["Box"], {
          sx: {
            width: 10,
            height: 10,
            marginRight: '4px',
            border: '1px solid rgba(213, 240, 245, 0.2)',
            backgroundColor: selKeys.includes(key) ? DeviceStatusColor[key] : ''
          }
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 95,
          columnNumber: 13
        }, _this), key]
      }, key, true, {
        fileName: _jsxFileName,
        lineNumber: 88,
        columnNumber: 11
      }, _this);
    })
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 85,
    columnNumber: 5
  }, this);
}

/***/ }),

/***/ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/ItemLarge.tsx":
/*!********************************************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/ItemLarge.tsx ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ItemLarge; });
/* harmony import */ var antd_es_tooltip_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/es/tooltip/style */ "./node_modules/antd/es/tooltip/style/index.js");
/* harmony import */ var antd_es_tooltip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/es/tooltip */ "./node_modules/antd/es/tooltip/index.js");
/* harmony import */ var antd_es_image_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd/es/image/style */ "./node_modules/antd/es/image/style/index.js");
/* harmony import */ var antd_es_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd/es/image */ "./node_modules/antd/es/image/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _components_antd__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/antd */ "./src/components/antd/index.ts");
/* harmony import */ var _pages_BigScreen_components_BorderBox__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/pages/BigScreen/components/BorderBox */ "./src/pages/BigScreen/components/BorderBox/index.tsx");
/* harmony import */ var _useDevice__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../useDevice */ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/useDevice.tsx");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/constants */ "./src/constants/index.ts");
/* harmony import */ var _components_Iconfont__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/Iconfont */ "./src/components/Iconfont/index.tsx");
/* harmony import */ var _utils_constants__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/utils/constants */ "./src/utils/constants.ts");
/* harmony import */ var _DeviceError__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./DeviceError */ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/DeviceError.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__);





var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/ItemLarge.tsx",
    _this = undefined;














var BindDeviceBox = function BindDeviceBox(_ref) {
  var _info$battery;

  var info = _ref.info;
  // console.log('BindDeviceBox:', info.deviceStatus)
  var abbreviation = info.abbreviation,
      deviceStatus = info.deviceStatus;
  var batteryPercentage = (info === null || info === void 0 ? void 0 : (_info$battery = info.battery) === null || _info$battery === void 0 ? void 0 : _info$battery.percentage) || 0;
  var batteryIcon = Object(_useDevice__WEBPACK_IMPORTED_MODULE_8__["getBatteryPercentage"])(batteryPercentage);
  var deviceStatusIcon = Object(_useDevice__WEBPACK_IMPORTED_MODULE_8__["getStateIcon"])(deviceStatus, 'icondevicestatus_');
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
    sx: {
      border: '1px solid #00C199FF',
      display: 'inline-block',
      maxWidth: '100%',
      overflow: 'hidden'
    },
    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(_components_antd__WEBPACK_IMPORTED_MODULE_6__["Text"], {
      ellipsis: true,
      style: {
        width: '100%'
      },
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_10__["default"], {
        type: batteryIcon
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 36,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_10__["default"], {
        type: deviceStatusIcon
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 37,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(_components_antd__WEBPACK_IMPORTED_MODULE_6__["Text"], {
        style: {
          color: '#00C199FF'
        },
        children: [abbreviation, "\xA0"]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 39,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 35,
      columnNumber: 7
    }, _this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 27,
    columnNumber: 5
  }, _this);
};

function ItemLarge(_ref2) {
  var _this2 = this;

  var info = _ref2.info,
      deviceType = _ref2.deviceType;

  var _useDevice = Object(_useDevice__WEBPACK_IMPORTED_MODULE_8__["default"])({
    info: info,
    deviceType: deviceType
  }),
      signalIconfont = _useDevice.signalIconfont,
      operationModeIcon = _useDevice.operationModeIcon,
      commandInfo = _useDevice.commandInfo,
      deviceIcon = _useDevice.deviceIcon,
      loadPercentage2 = _useDevice.loadPercentage2,
      batteryPercentage2 = _useDevice.batteryPercentage2,
      isRobot = _useDevice.isRobot;

  var font10 = {
    width: '100%',
    whiteSpace: 'nowrap',
    fontSize: '12px',
    transform: 'scale(0.8)',
    overflow: 'hidden',
    textAlign: 'center'
  };

  var dynamicState = function (info) {
    var _info$load, _info$specification, _info$load2, _info$load3, _info$load4, _info$load5;

    var loadPercentage = (info === null || info === void 0 ? void 0 : (_info$load = info.load) === null || _info$load === void 0 ? void 0 : _info$load.percentage) || 0;

    if (info !== null && info !== void 0 && info.robotSeries) {
      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["Fragment"], {
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_10__["default"], {
          type: "iconspeed1",
          className: "f14"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 70,
          columnNumber: 11
        }, _this2), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
          style: font10,
          children: info !== null && info !== void 0 && info.speed ? info === null || info === void 0 ? void 0 : info.speed : '0.00'
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 71,
          columnNumber: 11
        }, _this2)]
      }, void 0, true);
    }

    if (info !== null && info !== void 0 && info.specification && (info === null || info === void 0 ? void 0 : (_info$specification = info.specification) === null || _info$specification === void 0 ? void 0 : _info$specification.productCategory) === 'HIVE') {
      var _info$specification2 = info === null || info === void 0 ? void 0 : info.specification,
          hiveSeries = _info$specification2.hiveSeries;

      switch (hiveSeries) {
        case _utils_constants__WEBPACK_IMPORTED_MODULE_11__["HiveSeries"].STERILIZATION:
          return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["Fragment"], {
            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_10__["default"], {
              type: loadPercentage2,
              className: "f14"
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 81,
              columnNumber: 15
            }, _this2), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
              style: font10,
              color: loadPercentage === 0 ? 'red' : '',
              children: loadPercentage + '%'
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 82,
              columnNumber: 15
            }, _this2)]
          }, void 0, true);

        case _utils_constants__WEBPACK_IMPORTED_MODULE_11__["HiveSeries"].DELIVERY:
          return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["Fragment"], {
            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_10__["default"], {
              type: "iconbox",
              className: "f14"
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 90,
              columnNumber: 15
            }, _this2), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
              style: font10,
              children: [(info === null || info === void 0 ? void 0 : (_info$load2 = info.load) === null || _info$load2 === void 0 ? void 0 : _info$load2.level) || 0, "/", (info === null || info === void 0 ? void 0 : (_info$load3 = info.load) === null || _info$load3 === void 0 ? void 0 : _info$load3.total) || 0]
            }, void 0, true, {
              fileName: _jsxFileName,
              lineNumber: 91,
              columnNumber: 15
            }, _this2)]
          }, void 0, true);

        default:
          return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["Fragment"], {
            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_10__["default"], {
              type: "iconbox",
              className: "f14"
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 99,
              columnNumber: 15
            }, _this2), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
              style: font10,
              children: [(info === null || info === void 0 ? void 0 : (_info$load4 = info.load) === null || _info$load4 === void 0 ? void 0 : _info$load4.level) || 0, "/", (info === null || info === void 0 ? void 0 : (_info$load5 = info.load) === null || _info$load5 === void 0 ? void 0 : _info$load5.total) || 0]
            }, void 0, true, {
              fileName: _jsxFileName,
              lineNumber: 101,
              columnNumber: 15
            }, _this2)]
          }, void 0, true);
      }
    }

    return '';
  }(info);

  var bindDeviceView = function (info) {
    if (isRobot() && info.hive) {
      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(BindDeviceBox, {
        info: info.hive
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 113,
        columnNumber: 14
      }, _this2);
    }

    if (info.robot) {
      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(BindDeviceBox, {
        info: info.robot
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 116,
        columnNumber: 14
      }, _this2);
    }

    return '';
  }(info);

  var errorView = function (info) {
    if (info !== null && info !== void 0 && info.unavailableMarkers) {
      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(_DeviceError__WEBPACK_IMPORTED_MODULE_12__["default"], {
        info: info,
        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_10__["default"], {
          type: "icondevicestatus_error",
          style: {
            marginRight: '4px'
          }
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 125,
          columnNumber: 11
        }, _this2)
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 124,
        columnNumber: 9
      }, _this2);
    }

    return '';
  }(info);

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(_pages_BigScreen_components_BorderBox__WEBPACK_IMPORTED_MODULE_7__["default"], {
    style: {
      padding: '0',
      width: '100%',
      backgroundColor: info.bgColor || 'transparent'
    },
    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Flex"], {
      sx: {
        height: '100%'
      },
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
        flex: 1,
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Flex"], {
          justifyContent: "space-between",
          alignItems: "center",
          padding: "2px 5px",
          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(_components_antd__WEBPACK_IMPORTED_MODULE_6__["Text"], {
            ellipsis: true,
            className: "f16",
            children: info === null || info === void 0 ? void 0 : info.abbreviation
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 147,
            columnNumber: 13
          }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Flex"], {
            flexShrink: 0,
            children: [errorView, /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_10__["default"], {
              type: signalIconfont,
              style: {
                marginRight: '4px'
              }
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 152,
              columnNumber: 15
            }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_10__["default"], {
              type: batteryPercentage2,
              style: {
                fontSize: 14
              }
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 153,
              columnNumber: 15
            }, this)]
          }, void 0, true, {
            fileName: _jsxFileName,
            lineNumber: 150,
            columnNumber: 13
          }, this)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 146,
          columnNumber: 11
        }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Flex"], {
          sx: {
            padding: '0 5px'
          },
          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(antd_es_image__WEBPACK_IMPORTED_MODULE_3__["default"], {
              preview: false,
              src: deviceIcon,
              width: 60
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 162,
              columnNumber: 15
            }, this)
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 161,
            columnNumber: 13
          }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
            flex: 1,
            overflow: "hidden",
            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Flex"], {
              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Flex"], {
                width: '33%',
                flexDirection: "column",
                alignItems: "center",
                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_10__["default"], {
                  type: operationModeIcon,
                  className: "f14"
                }, void 0, false, {
                  fileName: _jsxFileName,
                  lineNumber: 167,
                  columnNumber: 19
                }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(_components_antd__WEBPACK_IMPORTED_MODULE_6__["Text"], {
                  ellipsis: true,
                  style: font10,
                  children: _constants__WEBPACK_IMPORTED_MODULE_9__["OperationModeStr"][info === null || info === void 0 ? void 0 : info.operationMode] || '通用'
                }, void 0, false, {
                  fileName: _jsxFileName,
                  lineNumber: 168,
                  columnNumber: 19
                }, this)]
              }, void 0, true, {
                fileName: _jsxFileName,
                lineNumber: 166,
                columnNumber: 17
              }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Flex"], {
                width: '33%',
                flexDirection: "column",
                alignItems: "center",
                children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_10__["default"], {
                  type: "icontiaodu1",
                  className: "f14"
                }, void 0, false, {
                  fileName: _jsxFileName,
                  lineNumber: 173,
                  columnNumber: 19
                }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(_components_antd__WEBPACK_IMPORTED_MODULE_6__["Text"], {
                  style: font10,
                  children: _constants__WEBPACK_IMPORTED_MODULE_9__["NavigationStateStr"][info === null || info === void 0 ? void 0 : info.navigationState] || '通用'
                }, void 0, false, {
                  fileName: _jsxFileName,
                  lineNumber: 174,
                  columnNumber: 19
                }, this)]
              }, void 0, true, {
                fileName: _jsxFileName,
                lineNumber: 172,
                columnNumber: 17
              }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Flex"], {
                width: '33%',
                flexDirection: "column",
                alignItems: "center",
                children: dynamicState
              }, void 0, false, {
                fileName: _jsxFileName,
                lineNumber: 176,
                columnNumber: 17
              }, this)]
            }, void 0, true, {
              fileName: _jsxFileName,
              lineNumber: 165,
              columnNumber: 15
            }, this), bindDeviceView]
          }, void 0, true, {
            fileName: _jsxFileName,
            lineNumber: 164,
            columnNumber: 13
          }, this)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 156,
          columnNumber: 11
        }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
          sx: {
            padding: '0 2px',
            backgroundColor: '#D5F0F533' // textAlign: 'center',

          },
          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(antd_es_tooltip__WEBPACK_IMPORTED_MODULE_1__["default"], {
            title: commandInfo ? commandInfo.slice(0, 100) : '暂无指令',
            overlayStyle: {
              width: '150px'
            },
            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(_components_antd__WEBPACK_IMPORTED_MODULE_6__["Text"], {
              ellipsis: true,
              style: {
                width: '100%'
              },
              children: commandInfo
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 196,
              columnNumber: 15
            }, this)
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 190,
            columnNumber: 13
          }, this)
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 183,
          columnNumber: 11
        }, this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 145,
        columnNumber: 9
      }, this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 140,
      columnNumber: 7
    }, this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 133,
    columnNumber: 5
  }, this);
}

/***/ }),

/***/ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/ItemSmall.tsx":
/*!********************************************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/ItemSmall.tsx ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ItemSmall; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2 */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _components_antd__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/antd */ "./src/components/antd/index.ts");
/* harmony import */ var _pages_BigScreen_components_BorderBox2__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/pages/BigScreen/components/BorderBox2 */ "./src/pages/BigScreen/components/BorderBox2/index.tsx");
/* harmony import */ var _components_Iconfont__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/Iconfont */ "./src/components/Iconfont/index.tsx");
/* harmony import */ var _useDevice__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../useDevice */ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/useDevice.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__);

var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/ItemSmall.tsx";







function ItemSmall(_ref) {
  var info = _ref.info,
      deviceType = _ref.deviceType;

  var _useDevice = Object(_useDevice__WEBPACK_IMPORTED_MODULE_6__["default"])({
    info: info,
    deviceType: deviceType
  }),
      signalIconfont = _useDevice.signalIconfont,
      bindCount = _useDevice.bindCount,
      batteryPercentage = _useDevice.batteryPercentage,
      loadPercentage = _useDevice.loadPercentage,
      operationModeIcon = _useDevice.operationModeIcon,
      percentageStyles = _useDevice.percentageStyles;

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(_pages_BigScreen_components_BorderBox2__WEBPACK_IMPORTED_MODULE_4__["default"], {
    style: {
      padding: '5px 2px',
      width: '100%',
      backgroundColor: info.bgColor || 'transparent'
    },
    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Flex"], {
      sx: {
        height: '100%'
      },
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_5__["default"], {
        type: batteryPercentage,
        style: Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, percentageStyles), {}, {
          left: 0,
          marginLeft: '-15px'
        })
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 37,
        columnNumber: 9
      }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
        flex: 1,
        ml: '4px',
        mr: '4px',
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Flex"], {
          justifyContent: "space-between",
          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
            children: operationModeIcon && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_5__["default"], {
              type: operationModeIcon
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 48,
              columnNumber: 40
            }, this)
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 48,
            columnNumber: 13
          }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Flex"], {
            alignItems: "center",
            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_5__["default"], {
              type: signalIconfont,
              style: {
                marginRight: '2px'
              }
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 51,
              columnNumber: 15
            }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_5__["default"], {
              type: "iconspeed1"
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 57,
              columnNumber: 15
            }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(_components_antd__WEBPACK_IMPORTED_MODULE_3__["Text"], {
              children: info.speed || '0'
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 58,
              columnNumber: 15
            }, this)]
          }, void 0, true, {
            fileName: _jsxFileName,
            lineNumber: 49,
            columnNumber: 13
          }, this)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 46,
          columnNumber: 11
        }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Flex"], {
          justifyContent: "space-between",
          alignItems: "center",
          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(_components_antd__WEBPACK_IMPORTED_MODULE_3__["Text"], {
            ellipsis: true,
            children: info === null || info === void 0 ? void 0 : info.abbreviation
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 62,
            columnNumber: 13
          }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
            sx: {
              color: '#00C199',
              border: '1px solid #00C199',
              width: 12,
              height: 12,
              lineHeight: 1
            },
            className: "flex-center",
            children: bindCount
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 64,
            columnNumber: 13
          }, this)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 61,
          columnNumber: 11
        }, this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 45,
        columnNumber: 9
      }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_5__["default"], {
        type: loadPercentage,
        style: Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, percentageStyles), {}, {
          right: 0,
          marginRight: '-15px'
        })
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 78,
        columnNumber: 9
      }, this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 32,
      columnNumber: 7
    }, this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 25,
    columnNumber: 5
  }, this);
}

/***/ }),

/***/ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/List.tsx":
/*!***************************************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/List.tsx ***!
  \***************************************************************************************/
/*! exports provided: CardModeEnum, List, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardModeEnum", function() { return CardModeEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "List", function() { return List; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2 */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _services_api_apparatus_robot__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/services/api/apparatus/robot */ "./src/services/api/apparatus/robot.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/constants */ "./src/constants/index.ts");
/* harmony import */ var _services_api_apparatus_hive__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/services/api/apparatus/hive */ "./src/services/api/apparatus/hive.ts");
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _ListItem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ListItem */ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/ListItem.tsx");
/* harmony import */ var _DeviceStatus__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./DeviceStatus */ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/DeviceStatus.tsx");
/* harmony import */ var _ListTitle__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ListTitle */ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/ListTitle.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__);



var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/List.tsx",
    _this = undefined;












var CardModeEnum;

(function (CardModeEnum) {
  CardModeEnum[CardModeEnum["small"] = 0] = "small";
  CardModeEnum[CardModeEnum["large"] = 1] = "large";
})(CardModeEnum || (CardModeEnum = {}));

var List = function List(_ref) {
  var currentHub = _ref.currentHub,
      selOperationStatus = _ref.selOperationStatus,
      _ref$cardMode = _ref.cardMode,
      cardMode = _ref$cardMode === void 0 ? CardModeEnum.large : _ref$cardMode;
  var timer = Object(react__WEBPACK_IMPORTED_MODULE_2__["useRef"])();
  var firstUpdate = Object(react__WEBPACK_IMPORTED_MODULE_2__["useRef"])(true);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])({
    candlelightList: [],
    sunlightList: [],
    hiveList: []
  }),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState, 2),
      deviceData = _useState2[0],
      setDeviceData = _useState2[1];

  var gridStyles = Object(react__WEBPACK_IMPORTED_MODULE_2__["useMemo"])(function () {
    var cols = cardMode === CardModeEnum.small ? '1fr 1fr 1fr' : '1fr 1fr';
    return {
      display: 'grid',
      gridTemplateColumns: cols,
      gridGap: '8px 4px'
    };
  }, [cardMode]);
  var getData = Object(react__WEBPACK_IMPORTED_MODULE_2__["useCallback"])(function () {
    // console.log('object', selOperationStatus)
    timer.current && clearTimeout(timer.current);

    if (selOperationStatus.length === 0) {
      setDeviceData({
        candlelightList: [],
        sunlightList: [],
        hiveList: []
      });
      return;
    }

    var params = {
      hubId: currentHub === null || currentHub === void 0 ? void 0 : currentHub.id,
      deleted: false,
      resolveAlerts: true,
      resolveCommands: true,
      resolveLockers: true,
      pageSize: 250,
      operationStatus: selOperationStatus.join()
    };
    var pList = [Object(_services_api_apparatus_robot__WEBPACK_IMPORTED_MODULE_4__["getRobotList"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, params), {}, {
      tabKey: _constants__WEBPACK_IMPORTED_MODULE_5__["RobotSeriesEnum"].CANDLELIGHT,
      robotSeries: _constants__WEBPACK_IMPORTED_MODULE_5__["RobotSeriesEnum"].CANDLELIGHT
    })), Object(_services_api_apparatus_robot__WEBPACK_IMPORTED_MODULE_4__["getRobotList"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, params), {}, {
      tabKey: _constants__WEBPACK_IMPORTED_MODULE_5__["RobotSeriesEnum"].SUNLIGHT,
      robotSeries: _constants__WEBPACK_IMPORTED_MODULE_5__["RobotSeriesEnum"].SUNLIGHT
    })), Object(_services_api_apparatus_hive__WEBPACK_IMPORTED_MODULE_6__["getHiveList"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, params))];
    Promise.all(pList).then(function (res) {
      var _res = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(res, 3),
          candlelightList = _res[0].data,
          sunlightList = _res[1].data,
          hiveList = _res[2].data;

      setDeviceData({
        candlelightList: candlelightList,
        sunlightList: sunlightList,
        hiveList: hiveList
      });
    });
    timer.current = setTimeout(function () {
      getData();
    }, 5000);
  }, [currentHub === null || currentHub === void 0 ? void 0 : currentHub.id, selOperationStatus]);

  var setBgColor = function setBgColor(operationStatus) {
    var currKey = '';
    Object.keys(_DeviceStatus__WEBPACK_IMPORTED_MODULE_9__["DevcieStatusValues"]).forEach(function (key) {
      if (_DeviceStatus__WEBPACK_IMPORTED_MODULE_9__["DevcieStatusValues"][key].includes(operationStatus)) {
        currKey = key;
      }
    });
    return _DeviceStatus__WEBPACK_IMPORTED_MODULE_9__["DeviceStatusColor"][currKey] + '3f';
  };

  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
    // console.log('selOperationStatus:', selOperationStatus)
    if (firstUpdate.current) {
      firstUpdate.current = false;
      return;
    }

    getData();
  }, [getData, selOperationStatus]);
  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
    // getData()
    // timer.current = setInterval(() => {
    //   getData()
    // }, 5000)
    return function () {
      timer.current && clearInterval(timer.current);
    }; // eslint-disable-next-line react-hooks/exhaustive-deps
  }, []); // useEffect(() => {
  //   console.log('deviceData:', deviceData)
  // }, [deviceData])

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["Fragment"], {
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Box"], {
      mb: 15,
      sx: {
        display: deviceData.candlelightList.length ? 'block' : 'none'
      },
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(_ListTitle__WEBPACK_IMPORTED_MODULE_10__["default"], {
        title: '烛光底盘',
        list: deviceData.candlelightList
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 144,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Box"], {
        sx: gridStyles,
        children: deviceData.candlelightList.map(function (item) {
          return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(_ListItem__WEBPACK_IMPORTED_MODULE_8__["default"], {
            info: Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, item), {}, {
              bgColor: setBgColor(item.operationStatus)
            }),
            deviceType: _constants__WEBPACK_IMPORTED_MODULE_5__["DeviceTypeEnum"].ROBOT,
            cardMode: cardMode
          }, item.id, false, {
            fileName: _jsxFileName,
            lineNumber: 147,
            columnNumber: 13
          }, _this);
        })
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 145,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 138,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Box"], {
      mb: 15,
      sx: {
        display: deviceData.sunlightList.length ? 'block' : 'none'
      },
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(_ListTitle__WEBPACK_IMPORTED_MODULE_10__["default"], {
        title: '阳光底盘',
        list: deviceData.sunlightList
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 162,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Box"], {
        sx: gridStyles,
        children: deviceData.sunlightList.map(function (item) {
          return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(_ListItem__WEBPACK_IMPORTED_MODULE_8__["default"], {
            info: Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, item), {}, {
              bgColor: setBgColor(item.operationStatus)
            }),
            deviceType: _constants__WEBPACK_IMPORTED_MODULE_5__["DeviceTypeEnum"].ROBOT,
            cardMode: cardMode
          }, item.id, false, {
            fileName: _jsxFileName,
            lineNumber: 165,
            columnNumber: 13
          }, _this);
        })
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 163,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 156,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Box"], {
      mb: 15,
      sx: {
        display: deviceData.hiveList.length ? 'block' : 'none'
      },
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(_ListTitle__WEBPACK_IMPORTED_MODULE_10__["default"], {
        title: '多功能柜',
        list: deviceData.hiveList
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 180,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_7__["Box"], {
        sx: gridStyles,
        children: deviceData.hiveList.map(function (item) {
          return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(_ListItem__WEBPACK_IMPORTED_MODULE_8__["default"], {
            info: Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, item), {}, {
              bgColor: setBgColor(item.operationStatus)
            }),
            deviceType: _constants__WEBPACK_IMPORTED_MODULE_5__["DeviceTypeEnum"].ROBOT,
            cardMode: cardMode
          }, item.id, false, {
            fileName: _jsxFileName,
            lineNumber: 184,
            columnNumber: 15
          }, _this);
        })
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 181,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 174,
      columnNumber: 7
    }, _this)]
  }, void 0, true);
};

var mapStateToProps = function mapStateToProps(_ref2) {
  var user = _ref2.user;
  return {
    currentHub: user.currentHub
  };
};

var mapDispatchToProps = {};
/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["connect"])(mapStateToProps, mapDispatchToProps)(List));

/***/ }),

/***/ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/ListItem.tsx":
/*!*******************************************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/ListItem.tsx ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ListItem; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2 */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ItemSmall__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ItemSmall */ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/ItemSmall.tsx");
/* harmony import */ var _ItemLarge__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ItemLarge */ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/ItemLarge.tsx");
/* harmony import */ var _List__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./List */ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/List.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__);

var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/ListItem.tsx";






function ListItem(props) {
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["Fragment"], {
    children: props.cardMode === _List__WEBPACK_IMPORTED_MODULE_4__["CardModeEnum"].large ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(_ItemLarge__WEBPACK_IMPORTED_MODULE_3__["default"], Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, props), void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 17,
      columnNumber: 9
    }, this) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(_ItemSmall__WEBPACK_IMPORTED_MODULE_2__["default"], Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, props), void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 18,
      columnNumber: 9
    }, this)
  }, void 0, false);
}

/***/ }),

/***/ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/ListTitle.tsx":
/*!********************************************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/ListTitle.tsx ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _DeviceStatus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DeviceStatus */ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/DeviceStatus.tsx");
/* harmony import */ var _components_antd__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/antd */ "./src/components/antd/index.ts");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__);
var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/ListTitle.tsx",
    _this = undefined;







var deviceStatusCountFn = function deviceStatusCountFn(list) {
  var ret = {};
  Object.keys(_DeviceStatus__WEBPACK_IMPORTED_MODULE_2__["DevcieStatusValues"]).forEach(function (key) {
    ret[key] = 0;
    var l = list.filter(function (ite) {
      return _DeviceStatus__WEBPACK_IMPORTED_MODULE_2__["DevcieStatusValues"][key].includes(ite.operationStatus);
    });
    ret[key] = l.length;
  });
  Object.keys(ret).forEach(function (k) {
    if (ret[k] === 0) {
      delete ret[k];
    }
  });
  return ret;
};

var ListTitle = function ListTitle(_ref) {
  var title = _ref.title,
      list = _ref.list;
  var statusCount = deviceStatusCountFn(list);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_1__["Flex"], {
    justifyContent: "space-between",
    alignItems: "center",
    mb: 10,
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_1__["Box"], {
      fontSize: 14,
      children: title
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 25,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_1__["Flex"], {
      children: Object.keys(statusCount).map(function (key, index) {
        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])(_components_antd__WEBPACK_IMPORTED_MODULE_3__["Text"], {
          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])(_components_antd__WEBPACK_IMPORTED_MODULE_3__["Text"], {
            style: {
              display: index !== 0 ? 'inline' : 'none'
            },
            children: "\xA0/\xA0"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 30,
            columnNumber: 15
          }, _this), key, /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])(_components_antd__WEBPACK_IMPORTED_MODULE_3__["Text"], {
            style: {
              color: '#00C199'
            },
            children: statusCount[key]
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 32,
            columnNumber: 15
          }, _this)]
        }, key, true, {
          fileName: _jsxFileName,
          lineNumber: 29,
          columnNumber: 13
        }, _this);
      })
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 26,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 24,
    columnNumber: 5
  }, _this);
};

/* harmony default export */ __webpack_exports__["default"] = (ListTitle);

/***/ }),

/***/ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/index.tsx":
/*!*****************************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/RightView/components/DeviceBox/index.tsx ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _components_BorderBox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../components/BorderBox */ "./src/pages/BigScreen/components/BorderBox/index.tsx");
/* harmony import */ var _components_DeviceStatus__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/DeviceStatus */ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/DeviceStatus.tsx");
/* harmony import */ var _components_List__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/List */ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/components/List.tsx");
/* harmony import */ var _components_Iconfont__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/Iconfont */ "./src/components/Iconfont/index.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__);


var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/RightView/components/DeviceBox/index.tsx",
    _this = undefined;











var DeviceBox = function DeviceBox() {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])([]),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState, 2),
      selOperationStatus = _useState2[0],
      setSelOperationStatus = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])([]),
      _useState4 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState3, 2),
      selOperationKey = _useState4[0],
      setSelOperationKey = _useState4[1];

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(_components_List__WEBPACK_IMPORTED_MODULE_6__["CardModeEnum"].large),
      _useState6 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState5, 2),
      cardMode = _useState6[0],
      setCardMode = _useState6[1]; // useEffect(() => {
  //   console.log('cardMode', cardMode)
  // }, [cardMode])


  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(_components_BorderBox__WEBPACK_IMPORTED_MODULE_4__["default"], {
    className: "big-screen-block big-screen-device",
    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_3__["Flex"], {
      height: "100%",
      flexDirection: "column",
      overflow: "hidden",
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])("div", {
        className: "big-screen-module-title",
        children: ["\u8BBE\u5907\u6570\u636E", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_7__["default"], {
          type: "iconlayout-max",
          style: {
            marginLeft: '5px'
          },
          onClick: function onClick() {
            setCardMode(function (mode) {
              return mode === _components_List__WEBPACK_IMPORTED_MODULE_6__["CardModeEnum"].small ? _components_List__WEBPACK_IMPORTED_MODULE_6__["CardModeEnum"].large : _components_List__WEBPACK_IMPORTED_MODULE_6__["CardModeEnum"].small;
            });
          }
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 25,
          columnNumber: 11
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 23,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_3__["Box"], {
        sx: {
          position: 'absolute',
          top: '10px',
          right: '10px'
        },
        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(_components_DeviceStatus__WEBPACK_IMPORTED_MODULE_5__["default"], {
          onChange: function onChange(selOperationStatusList, selOperationKeyList) {
            setSelOperationStatus(selOperationStatusList);
            setSelOperationKey(selOperationKeyList);
          }
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 44,
          columnNumber: 11
        }, _this)
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 37,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_3__["Flex"], {
        flexDirection: "column",
        overflow: "auto",
        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(_components_List__WEBPACK_IMPORTED_MODULE_6__["default"], {
          selOperationStatus: selOperationStatus,
          selOperationKey: selOperationKey,
          cardMode: cardMode
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 55,
          columnNumber: 11
        }, _this)
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 54,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 22,
      columnNumber: 7
    }, _this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 21,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps() {
  return {};
};

var mapDispatchToProps = {};
/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(mapStateToProps, mapDispatchToProps)(DeviceBox));

/***/ }),

/***/ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/useDevice.tsx":
/*!*********************************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/RightView/components/DeviceBox/useDevice.tsx ***!
  \*********************************************************************************/
/*! exports provided: getBatteryPercentage, getStateIcon, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBatteryPercentage", function() { return getBatteryPercentage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getStateIcon", function() { return getStateIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return useDevice; });
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/constants */ "./src/constants/index.ts");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/constants */ "./src/utils/constants.ts");





var candlelightRobotUrl = __webpack_require__(/*! @/assets/device/candlelight_robot.png */ "./src/assets/device/candlelight_robot.png");

var sunlightRobotUrl = __webpack_require__(/*! @/assets/device/sunlight_robot.png */ "./src/assets/device/sunlight_robot.png");

var hive1Url = __webpack_require__(/*! @/assets/device/hive1.png */ "./src/assets/device/hive1.png"); // 带格口 派件柜


var hive2Url = __webpack_require__(/*! @/assets/device/hive2.png */ "./src/assets/device/hive2.png"); // 消毒柜


var hive3Url = __webpack_require__(/*! @/assets/device/hive3.png */ "./src/assets/device/hive3.png");

var percentageFn = function percentageFn(count) {
  switch (true) {
    case count === 0:
      return '0';

    case count <= 20:
      return '5';

    case count <= 40:
      return '4';

    case count <= 60:
      return '3';

    case count <= 80:
      return '2';

    case count <= 100:
      return '1';

    default:
      return '0';
  }
};

var getBatteryPercentage = function getBatteryPercentage() {
  var count = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  return 'iconleft' + percentageFn(count);
};
var getStateIcon = function getStateIcon() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
  var iconName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'icon';
  state = state.toLowerCase();

  if (state) {
    return iconName + state;
  }

  return 'iconcurrency';
};
function useDevice(_ref) {
  var _info$cellular2, _info$loadedHives3, _info$battery2, _info$load2, _info$load4, _info$battery4, _info$command2, _info$waypoint2, _info$floor2;

  var info = _ref.info,
      _ref$deviceType = _ref.deviceType,
      deviceType = _ref$deviceType === void 0 ? _constants__WEBPACK_IMPORTED_MODULE_0__["DeviceTypeEnum"].ROBOT : _ref$deviceType;

  // console.log('info:', info)
  var getProductCategory = function getProductCategory() {
    var _info$specification;

    return info === null || info === void 0 ? void 0 : (_info$specification = info.specification) === null || _info$specification === void 0 ? void 0 : _info$specification.productCategory;
  };

  var isRobot = function isRobot() {
    return getProductCategory() === _constants__WEBPACK_IMPORTED_MODULE_0__["ProductCategoryEnum"].ROBOT;
  };

  var signalIconfont = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    var _info$cellular;

    var signal = (info === null || info === void 0 ? void 0 : (_info$cellular = info.cellular) === null || _info$cellular === void 0 ? void 0 : _info$cellular.signal) || 0;

    switch (true) {
      case signal === 0:
        return 'iconsignal5';

      case signal <= 25:
        return 'iconsignal4';

      case signal <= 50:
        return 'iconsignal3';

      case signal <= 75:
        return 'iconsignal2';

      case signal <= 100:
        return 'iconsignal1';

      default:
        return 'iconsignal5';
    }
  }, [info === null || info === void 0 ? void 0 : (_info$cellular2 = info.cellular) === null || _info$cellular2 === void 0 ? void 0 : _info$cellular2.signal]);
  var bindCount = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    if (deviceType === _constants__WEBPACK_IMPORTED_MODULE_0__["DeviceTypeEnum"].ROBOT) {
      var _info$loadedHives;

      if (info.hiveId != null) {
        return 1;
      }

      if ((info === null || info === void 0 ? void 0 : (_info$loadedHives = info.loadedHives) === null || _info$loadedHives === void 0 ? void 0 : _info$loadedHives.size) > 0) {
        var _info$loadedHives2;

        return info === null || info === void 0 ? void 0 : (_info$loadedHives2 = info.loadedHives) === null || _info$loadedHives2 === void 0 ? void 0 : _info$loadedHives2.size;
      }

      if (info.dockId != null) {
        return 1;
      }
    }

    if (deviceType === _constants__WEBPACK_IMPORTED_MODULE_0__["DeviceTypeEnum"].HIVE) {
      if (info.robotId != null) {
        return 1;
      }

      if (info.dockId != null) {
        return 1;
      }
    }

    return 0;
  }, [deviceType, info.dockId, info.hiveId, info === null || info === void 0 ? void 0 : (_info$loadedHives3 = info.loadedHives) === null || _info$loadedHives3 === void 0 ? void 0 : _info$loadedHives3.size, info.robotId]);
  var batteryPercentage = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    var _info$battery;

    var count = (info === null || info === void 0 ? void 0 : (_info$battery = info.battery) === null || _info$battery === void 0 ? void 0 : _info$battery.percentage) || 0;
    return getBatteryPercentage(count);
  }, [info === null || info === void 0 ? void 0 : (_info$battery2 = info.battery) === null || _info$battery2 === void 0 ? void 0 : _info$battery2.percentage]);
  var loadPercentage = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    var _info$load;

    var count = (info === null || info === void 0 ? void 0 : (_info$load = info.load) === null || _info$load === void 0 ? void 0 : _info$load.percentage) || 0;
    return getBatteryPercentage(count);
  }, [info === null || info === void 0 ? void 0 : (_info$load2 = info.load) === null || _info$load2 === void 0 ? void 0 : _info$load2.percentage]);
  var loadPercentage2 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    var _info$load3;

    var count = (info === null || info === void 0 ? void 0 : (_info$load3 = info.load) === null || _info$load3 === void 0 ? void 0 : _info$load3.percentage) || 0;
    var percentage = percentageFn(count);
    var ret = 'iconwater' + percentage;
    return ret;
  }, [info === null || info === void 0 ? void 0 : (_info$load4 = info.load) === null || _info$load4 === void 0 ? void 0 : _info$load4.percentage]);
  var batteryPercentage2 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    var _info$battery3;

    var count = (info === null || info === void 0 ? void 0 : (_info$battery3 = info.battery) === null || _info$battery3 === void 0 ? void 0 : _info$battery3.percentage) || 0;
    var percentage = percentageFn(count);
    var ret = 'iconcharge' + percentage;
    return ret;
  }, [info === null || info === void 0 ? void 0 : (_info$battery4 = info.battery) === null || _info$battery4 === void 0 ? void 0 : _info$battery4.percentage]);
  var operationModeIcon = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    return getStateIcon(info.operationMode);
  }, [info]);
  var percentageStyles = {
    height: '100%',
    fontSize: 35,
    position: 'absolute'
  };
  var commandInfo = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    var _info$command, _commands$;

    var commands = info === null || info === void 0 ? void 0 : (_info$command = info.command) === null || _info$command === void 0 ? void 0 : _info$command.commands;
    return commands ? (_commands$ = commands[0]) === null || _commands$ === void 0 ? void 0 : _commands$.description : '';
  }, [info === null || info === void 0 ? void 0 : (_info$command2 = info.command) === null || _info$command2 === void 0 ? void 0 : _info$command2.commands]);
  var alertInfo = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    var _alerts$;

    var alerts = info === null || info === void 0 ? void 0 : info.alerts;
    return alerts ? (_alerts$ = alerts[0]) === null || _alerts$ === void 0 ? void 0 : _alerts$.summary : '';
  }, [info === null || info === void 0 ? void 0 : info.alerts]);
  var currentPosition = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    var _info$waypoint, _info$floor;

    return (info === null || info === void 0 ? void 0 : (_info$waypoint = info.waypoint) === null || _info$waypoint === void 0 ? void 0 : _info$waypoint.name) || ((_info$floor = info.floor) === null || _info$floor === void 0 ? void 0 : _info$floor.fullName) || '';
  }, [info === null || info === void 0 ? void 0 : (_info$waypoint2 = info.waypoint) === null || _info$waypoint2 === void 0 ? void 0 : _info$waypoint2.name, (_info$floor2 = info.floor) === null || _info$floor2 === void 0 ? void 0 : _info$floor2.fullName]);
  var deviceIcon = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    var _info$specification2;

    if (info !== null && info !== void 0 && info.robotSeries) {
      if (info.robotSeries === _constants__WEBPACK_IMPORTED_MODULE_0__["RobotSeriesEnum"].CANDLELIGHT) {
        return candlelightRobotUrl;
      }

      return sunlightRobotUrl;
    }

    if (info !== null && info !== void 0 && info.specification && (info === null || info === void 0 ? void 0 : (_info$specification2 = info.specification) === null || _info$specification2 === void 0 ? void 0 : _info$specification2.productCategory) === 'HIVE') {
      var _info$specification3 = info === null || info === void 0 ? void 0 : info.specification,
          hiveSeries = _info$specification3.hiveSeries;

      switch (hiveSeries) {
        case _utils_constants__WEBPACK_IMPORTED_MODULE_2__["HiveSeries"].STERILIZATION:
          return hive2Url;

        case _utils_constants__WEBPACK_IMPORTED_MODULE_2__["HiveSeries"].DELIVERY:
          return hive1Url;

        default:
          return hive1Url;
      }
    }

    return candlelightRobotUrl;
  }, [info === null || info === void 0 ? void 0 : info.robotSeries, info === null || info === void 0 ? void 0 : info.specification]);
  return {
    signalIconfont: signalIconfont,
    bindCount: bindCount,
    batteryPercentage: batteryPercentage,
    loadPercentage: loadPercentage,
    operationModeIcon: operationModeIcon,
    percentageStyles: percentageStyles,
    commandInfo: commandInfo,
    alertInfo: alertInfo,
    currentPosition: currentPosition,
    deviceIcon: deviceIcon,
    loadPercentage2: loadPercentage2,
    batteryPercentage2: batteryPercentage2,
    getBatteryPercentage: getBatteryPercentage,
    isRobot: isRobot,
    getProductCategory: getProductCategory
  };
}

/***/ }),

/***/ "./src/pages/BigScreen/blocks/RightView/components/Right/AbnormalMonitor.tsx":
/*!***********************************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/RightView/components/Right/AbnormalMonitor.tsx ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _components_Chart__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/Chart */ "./src/components/Chart/index.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _services_api_aurora_screen_report__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/services/api/aurora/screen-report */ "./src/services/api/aurora/screen-report.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _ScrollList__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ScrollList */ "./src/pages/BigScreen/blocks/RightView/components/Right/ScrollList.tsx");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/constants */ "./src/constants/index.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__);



var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/RightView/components/Right/AbnormalMonitor.tsx",
    _this = undefined;














var AbnormalMonitor = function AbnormalMonitor(_ref) {
  var currentHub = _ref.currentHub;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])({}),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState, 2),
      option = _useState2[0],
      setOption = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])([]),
      _useState4 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState3, 2),
      chartData = _useState4[0],
      setChartData = _useState4[1];

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(0),
      _useState6 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState5, 2),
      currentIndex = _useState6[0],
      setCurrentIndex = _useState6[1];

  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])([]),
      _useState8 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState7, 2),
      currentData = _useState8[0],
      setCurrentData = _useState8[1];

  var timer = Object(react__WEBPACK_IMPORTED_MODULE_4__["useRef"])();

  var _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])([]),
      _useState10 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState9, 2),
      scrollData = _useState10[0],
      setScrollData = _useState10[1];

  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    currentData.length && setOption(getOption(currentData));
  }, [currentData]);
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    setCurrentData(currentIndex === 0 ? chartData.slice(0, 5) : chartData.slice(-5));
    setTimer(); // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [currentIndex]);
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    getData();
    var timer = setInterval(function () {
      getData();
    }, 1000 * 60);
    return function () {
      clearInterval(timer);
      clearTimer();
    }; // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [currentHub === null || currentHub === void 0 ? void 0 : currentHub.id]);

  function getData() {
    return _getData.apply(this, arguments);
  }

  function _getData() {
    _getData = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {
      var _yield$getScreenDevic, data;

      return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return Object(_services_api_aurora_screen_report__WEBPACK_IMPORTED_MODULE_7__["getScreenDeviceAlertSum"])({
                hubId: currentHub.id
              });

            case 2:
              _yield$getScreenDevic = _context.sent;
              data = _yield$getScreenDevic.data;
              _context.next = 6;
              return getScrollList();

            case 6:
              setChartData(data);
              setOption(getOption(data.slice(0, 5)));
              setCurrentData(data.slice(0, 5));

            case 9:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));
    return _getData.apply(this, arguments);
  }

  function setTimer() {
    clearTimer();
    timer.current = setTimeout(function () {
      setCurrentIndex(currentIndex ? 0 : 1);
    }, 8000);
  }

  function clearTimer() {
    timer.current && clearTimeout(timer.current);
  }

  function getOption() {
    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
    var list = data.length ? data.sort(function (a, b) {
      return a.count - b.count;
    }) : [];
    var max = list.length ? lodash__WEBPACK_IMPORTED_MODULE_8___default.a.maxBy(list, function (i) {
      return i.count;
    }) : 0;
    return {
      grid: {
        top: 0,
        left: '5%',
        right: '5%',
        bottom: 0
      },
      angleAxis: {
        type: 'value',
        min: 0,
        max: max.count + max.count / 10,
        axisLine: {
          // show: false,
          lineStyle: {
            color: 'rgba(213,240,245, 0.3)'
          }
        },
        axisTick: {
          lineStyle: {
            color: 'rgba(213,240,245,0.1)'
          } // show: false,

        },
        splitLine: {
          // show: false,
          lineStyle: {
            color: 'rgba(213,240,245,0.1)'
          }
        },
        axisLabel: {// show: false,
        }
      },
      radiusAxis: {
        type: 'category',
        data: list.map(function (item) {
          return _constants__WEBPACK_IMPORTED_MODULE_10__["TriggerTypeStr"][item.triggerType].replace('告警', '');
        }),
        z: 100,
        axisLine: {
          show: false
        },
        axisTick: {
          show: false
        },
        axisLabel: {
          show: true,
          margin: 6,
          fontSize: 10,
          formatter: function formatter(value) {
            return value;
          },
          color: '#96F5F6',
          interval: 0
        }
      },
      polar: {
        center: ['50%', '50%'],
        radius: '75%'
      },
      tooltip: {
        show: true
      },
      series: [{
        type: 'bar',
        barWidth: '70%',
        data: [list[0].count],
        coordinateSystem: 'polar',
        stack: 'a',
        roundCap: false,
        // 是否在环形柱条两侧使用圆弧效果
        itemStyle: {
          // color: '#BFA27C',
          color: _constants__WEBPACK_IMPORTED_MODULE_10__["TriggerTypeColor"][list[0].triggerType] // borderRadius: 5,

        },
        // showBackground: true,
        backgroundStyle: {
          // color: 'rgba(255,255,255,0.1)',
          borderColor: 'red',
          borderRadius: 50,
          opacity: 1
        }
      }, {
        type: 'bar',
        data: [0, list[1].count, 0, 0, 0],
        coordinateSystem: 'polar',
        stack: 'a',
        // roundCap: true,
        itemStyle: {
          color: _constants__WEBPACK_IMPORTED_MODULE_10__["TriggerTypeColor"][list[1].triggerType]
        },
        // showBackground: true,
        backgroundStyle: {
          borderColor: 'green' // color: '#27333F',

        }
      }, {
        type: 'bar',
        data: [0, 0, list[2].count, 0, 0],
        coordinateSystem: 'polar',
        stack: 'a',
        // roundCap: true,
        itemStyle: {
          color: _constants__WEBPACK_IMPORTED_MODULE_10__["TriggerTypeColor"][list[2].triggerType] // borderRadius: 5,

        },
        // showBackground: true,
        backgroundStyle: {// color: '#27333F',
        }
      }, {
        type: 'bar',
        data: [0, 0, 0, list[3].count, 0],
        coordinateSystem: 'polar',
        stack: 'a',
        // roundCap: true,
        itemStyle: {
          color: _constants__WEBPACK_IMPORTED_MODULE_10__["TriggerTypeColor"][list[3].triggerType] // borderRadius: 5,

        },
        // showBackground: true,
        backgroundStyle: {// color: '#27333F',
        }
      }, {
        type: 'bar',
        data: [0, 0, 0, 0, list[4].count],
        coordinateSystem: 'polar',
        stack: 'a',
        // roundCap: true,
        itemStyle: {
          color: _constants__WEBPACK_IMPORTED_MODULE_10__["TriggerTypeColor"][list[4].triggerType] // borderRadius: 5,

        },
        showBackground: true,
        backgroundStyle: {
          color: 'rgba(255, 255, 255, 0.1)',
          // borderColor: 'red',
          borderRadius: 50,
          opacity: 1
        }
      }],
      legend: {
        show: false
      }
    };
  }

  function getScrollList() {
    return _getScrollList.apply(this, arguments);
  }

  function _getScrollList() {
    _getScrollList = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2() {
      var _yield$getScreenDevic2, data, list;

      return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              _context2.next = 2;
              return Object(_services_api_aurora_screen_report__WEBPACK_IMPORTED_MODULE_7__["getScreenDeviceAlertDetail"])({
                hubId: currentHub.id
              });

            case 2:
              _yield$getScreenDevic2 = _context2.sent;
              data = _yield$getScreenDevic2.data;
              list = data.map(function (item) {
                var triggerType = item.triggerType,
                    entityName = item.entityName,
                    message = item.message;
                return ["<span style=\"color: ".concat(_constants__WEBPACK_IMPORTED_MODULE_10__["TriggerTypeColor"][triggerType], "; font-size: 12px;\">").concat(_constants__WEBPACK_IMPORTED_MODULE_10__["TriggerTypeStr"][triggerType], "<span>"), moment__WEBPACK_IMPORTED_MODULE_11___default()(item.createdTime).format('HH:mm:ss'), "<span title=\"".concat(entityName, "\">").concat(entityName, "</span> <span title=\"").concat(message, "\">").concat(message, "<span>")];
              });
              setScrollData(list);

            case 6:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee2);
    }));
    return _getScrollList.apply(this, arguments);
  }

  var handleMouseEnter = function handleMouseEnter(e) {
    e.preventDefault();
    clearTimer();
  };

  var handleMouseLeave = function handleMouseLeave(e) {
    e.preventDefault();
    setTimer();
  };

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_6__["Flex"], {
    flex: 1,
    flexDirection: "column",
    justifyContent: "space-between",
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_6__["Flex"], {
      onMouseEnter: handleMouseEnter,
      onMouseLeave: handleMouseLeave,
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_6__["Box"], {
        width: 100,
        children: currentData.map(function (item) {
          return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_6__["Flex"], {
            className: "flex-col-center mb5",
            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_6__["Box"], {
              fontSize: '1.5em',
              fontWeight: "bold",
              children: item.count
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 259,
              columnNumber: 17
            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_6__["Box"], {
              fontSize: '1em',
              children: [_constants__WEBPACK_IMPORTED_MODULE_10__["TriggerTypeStr"][item.triggerType], "/\u5468"]
            }, void 0, true, {
              fileName: _jsxFileName,
              lineNumber: 262,
              columnNumber: 17
            }, _this)]
          }, item.triggerType, true, {
            fileName: _jsxFileName,
            lineNumber: 258,
            columnNumber: 15
          }, _this);
        })
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 255,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__["jsxDEV"])(_components_Chart__WEBPACK_IMPORTED_MODULE_3__["EchartView"], {
        option: option,
        width: '20em',
        height: '20em'
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 267,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 254,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_6__["Box"], {
      flex: "1",
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__["jsxDEV"])(_ScrollList__WEBPACK_IMPORTED_MODULE_9__["default"], {
        list: scrollData
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 270,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 269,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 253,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps(_ref2) {
  var user = _ref2.user;
  return {
    currentHub: user.currentHub
  };
};

var mapDispatchToProps = {};
/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["connect"])(mapStateToProps, mapDispatchToProps)(AbnormalMonitor));

/***/ }),

/***/ "./src/pages/BigScreen/blocks/RightView/components/Right/ActivityMonitor/GaugeChart.tsx":
/*!**********************************************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/RightView/components/Right/ActivityMonitor/GaugeChart.tsx ***!
  \**********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _components_Chart__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/Chart */ "./src/components/Chart/index.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _components_antd__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/antd */ "./src/components/antd/index.ts");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__);


var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/RightView/components/Right/ActivityMonitor/GaugeChart.tsx",
    _this = undefined;







var GaugeChart = function GaugeChart(_ref) {
  var info = _ref.info;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])({}),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState, 2),
      option = _useState2[0],
      setOption = _useState2[1];

  var progress = Object(react__WEBPACK_IMPORTED_MODULE_2__["useMemo"])(function () {
    var _info$score = info.score,
        score = _info$score === void 0 ? 0 : _info$score;
    return Math.floor(score * 100);
  }, [info]);
  var hubLevel = Object(react__WEBPACK_IMPORTED_MODULE_2__["useMemo"])(function () {
    var score = info.score;

    switch (true) {
      case score == null:
        return '休息中';

      case score === 0:
        return '极端低效';

      case progress >= 0.01 && progress <= 0:
        return '低效';

      case progress >= 20 && progress <= 59.99:
        return '效率较低';

      case progress >= 60 && progress <= 79.99:
        return '高效';

      case progress >= 80 && progress <= 99.99:
        return '优秀';

      case progress === 100:
        return '完美';

      default:
        return '休息中';
    }
  }, [info, progress]);

  var getOption = function getOption(value) {
    return {
      grid: {
        top: '5%'
      },
      angleAxis: {
        show: false,
        max: 360 * 100 / 240,
        // -45度到225度，二者偏移值是270度除360度
        type: 'value',
        startAngle: 210,
        // 极坐标初始角度
        splitLine: {
          show: false
        }
      },
      barMaxWidth: 14,
      // 圆环宽度
      radiusAxis: {
        show: false,
        type: 'category'
      },
      // 圆环位置和大小
      polar: {
        center: ['50%', '50%'],
        radius: '170'
      },
      series: [{
        type: 'bar',
        barWidth: 10,
        data: [{
          // 上层圆环，显示数据
          value: value,
          itemStyle: {
            color: {
              // 图形渐变颜色方法，四个数字分别代表，右，下，左，上，offset表示0%到100%
              type: 'linear',
              x: 0,
              y: 0,
              x2: 1,
              // 从左到右 0-1
              y2: 0,
              colorStops: [{
                offset: 0,
                color: '#FFB000FF'
              }, {
                offset: 1,
                color: '#00C199FF'
              }]
            }
          }
        }],
        barGap: '-100%',
        // 柱间距离,上下两层圆环重合
        coordinateSystem: 'polar',
        roundCap: true,
        // 顶端圆角从 v4.5.0 开始支持
        z: 2 // 圆环层级，同zindex

      }, {
        // 下层圆环，显示最大值
        type: 'bar',
        barWidth: 10,
        data: [{
          value: 100,
          itemStyle: {
            color: '#D5F0F533'
          }
        }],
        barGap: '-100%',
        coordinateSystem: 'polar',
        roundCap: true,
        z: 1
      }]
    };
  };

  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
    setOption(getOption(progress));
  }, [progress]);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_3__["Box"], {
    sx: {
      position: 'relative'
    },
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(_components_Chart__WEBPACK_IMPORTED_MODULE_1__["EchartView"], {
      option: option,
      height: 220
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 147,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_3__["Flex"], {
      flexDirection: "column",
      alignItems: "center",
      sx: {
        position: 'absolute',
        top: 70,
        left: 0,
        right: 0
      },
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_3__["Box"], {
        fontSize: 12,
        children: hubLevel
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 172,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_3__["Box"], {
        fontSize: 40,
        fontWeight: "bold",
        children: [progress || '0', /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(_components_antd__WEBPACK_IMPORTED_MODULE_4__["Text"], {
          style: {
            fontSize: 14
          }
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 176,
          columnNumber: 11
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 173,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_3__["Flex"], {
        mt: 12,
        justifyContent: "space-between",
        width: 170,
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_3__["Box"], {
          children: "0"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 179,
          columnNumber: 11
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_3__["Box"], {
          children: "100"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 180,
          columnNumber: 11
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 178,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 148,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 142,
    columnNumber: 5
  }, _this);
};

/* harmony default export */ __webpack_exports__["default"] = (GaugeChart);

/***/ }),

/***/ "./src/pages/BigScreen/blocks/RightView/components/Right/ActivityMonitor/HotChart.tsx":
/*!********************************************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/RightView/components/Right/ActivityMonitor/HotChart.tsx ***!
  \********************************************************************************************/
/*! exports provided: HotPropsEnum, HotPorpsStr, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HotPropsEnum", function() { return HotPropsEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HotPorpsStr", function() { return HotPorpsStr; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2 */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/toConsumableArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/defineProperty */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _components_Chart__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/Chart */ "./src/components/Chart/index.tsx");
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__);





var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/RightView/components/Right/ActivityMonitor/HotChart.tsx",
    _HotPorpsStr,
    _this = undefined;






var Colors = ['#D5F0F533', '#D5F0F566', '#D5F0F599', '#D5F0F5CC', '#D5F0F5', '#00C19933', '#00C19966', '#00C19999', '#00C199CC', '#00C199'];
var Colors2 = ['#FFB00019', '#FFB00033', '#FFB0004c', '#FFB00066', '#FFB0007f', '#FFB00099', '#FFB000cc', '#FFB000', '#E335407f', '#E33540'];
var Classes = ['totalCount', 'punctualCount', 'fulfilledCount', 'averageDuration'];
var HotPropsEnum;

(function (HotPropsEnum) {
  HotPropsEnum["totalCount"] = "totalCount";
  HotPropsEnum["punctualCount"] = "punctualCount";
  HotPropsEnum["fulfilledCount"] = "fulfilledCount";
  HotPropsEnum["averageDuration"] = "averageDuration";
})(HotPropsEnum || (HotPropsEnum = {}));

var HotPorpsStr = (_HotPorpsStr = {}, Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__["default"])(_HotPorpsStr, HotPropsEnum.totalCount, '总订单量'), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__["default"])(_HotPorpsStr, HotPropsEnum.punctualCount, '准时订单数'), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__["default"])(_HotPorpsStr, HotPropsEnum.fulfilledCount, '完成订单数'), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__["default"])(_HotPorpsStr, HotPropsEnum.averageDuration, '平均配送时长(s)'), _HotPorpsStr);

var HotChart = function HotChart(_ref) {
  var data = _ref.data;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])({}),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState, 2),
      option = _useState2[0],
      setOption = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])({}),
      _useState4 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState3, 2),
      option2 = _useState4[0],
      setOption2 = _useState4[1];
  /**
   *
   * @param {number[][]} seriesData
   * @param {object} [grid={}]
   * @param {array} [yAxisData=Classes]
   * @param {boolean} [xAxisVisible=false]
   * @param {any} [colors=Colors]
   * @returns
   */


  function getOption(seriesData) {
    var grid = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var yAxisData = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Classes;
    var xAxisVisible = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
    var colors = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : Colors;
    seriesData = seriesData.map(function (item) {
      return [item[1], item[0], item[2]];
    });

    var hours = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])(new Array(24).keys());

    var visualMapMax = function () {
      var max = 10;
      seriesData.forEach(function (item) {
        if (item[2] > max) {
          max = item[2];
        }
      });
      return max;
    }();

    return {
      tooltip: {
        formatter: function formatter(values) {
          var data = values.data;
          var title = yAxisData.length !== 1 ? HotPorpsStr[Classes[data[1]]] : HotPorpsStr[Classes[3]];
          return "".concat(data[0], ":00-").concat(data[0] + 1, ":00</br>\n           ").concat(title, " ").concat(data[2]);
        }
      },
      grid: Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({
        top: 0,
        left: '1px',
        right: '1px',
        bottom: 0,
        containLabel: false
      }, grid),
      xAxis: {
        show: xAxisVisible,
        type: 'category',
        axisTick: {
          show: true,
          // alignWithLabel: true,
          lineStyle: {
            color: '#D5F0F533'
          }
        },
        axisLine: {
          lineStyle: {
            color: '#D5F0F533'
          }
        },
        data: hours,
        axisLabel: {
          fontSize: 10,
          color: '#d5f0f5',
          interval: 0
        }
      },
      yAxis: {
        show: false,
        type: 'category',
        data: yAxisData
      },
      visualMap: {
        show: false,
        min: 0,
        max: visualMapMax,
        calculable: true,
        textStyle: {
          fontSize: 10,
          color: 'transparent'
        },
        orient: 'horizontal',
        left: 'center',
        inRange: {
          color: colors
        }
      },
      series: [{
        name: '',
        type: 'heatmap',
        data: seriesData,
        label: {
          show: false,
          fontSize: 8
        },
        itemStyle: {
          borderColor: '#D5F0F533',
          borderWidth: 1
        },
        emphasis: {
          itemStyle: {
            borderColor: 'red'
          }
        }
      }]
    };
  }

  var configOption = Object(react__WEBPACK_IMPORTED_MODULE_4__["useCallback"])(function () {
    var ret = [];
    Object.keys(data).forEach(function (key, index) {
      var vals = data[key].map(function (item, inde) {
        return [index, inde, item];
      });
      ret = [].concat(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])(ret), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])(vals));
    });
    var list1 = ret.filter(function (item) {
      return item[0] !== 3;
    });
    var list2 = ret.filter(function (item) {
      return item[0] === 3;
    }).map(function (item) {
      return [0, item[1], item[2]];
    });
    setOption(getOption(list1, {
      bottom: '30px'
    }, Classes.slice(0, -1), true, Colors));
    setOption2(getOption(list2, {
      bottom: 0
    }, ['averageDuration'], false, Colors2));
  }, [data]);
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    configOption();
  }, [configOption, data]);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["Fragment"], {
    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_6__["Box"], {
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(_components_Chart__WEBPACK_IMPORTED_MODULE_5__["EchartView"], {
        option: option2,
        height: '16px'
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 188,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(_components_Chart__WEBPACK_IMPORTED_MODULE_5__["EchartView"], {
        option: option,
        height: '75px'
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 189,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 187,
      columnNumber: 7
    }, _this)
  }, void 0, false);
};

/* harmony default export */ __webpack_exports__["default"] = (HotChart);

/***/ }),

/***/ "./src/pages/BigScreen/blocks/RightView/components/Right/ActivityMonitor/ScrollBoard.tsx":
/*!***********************************************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/RightView/components/Right/ActivityMonitor/ScrollBoard.tsx ***!
  \***********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ScrollBoard; });
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/constants */ "./src/constants/index.ts");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _components_antd__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/antd */ "./src/components/antd/index.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__);
var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/RightView/components/Right/ActivityMonitor/ScrollBoard.tsx";






function ScrollBoard(_ref) {
  var _this = this;

  var _ref$list = _ref.list,
      list = _ref$list === void 0 ? [] : _ref$list;
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
    children: list.map(function (item) {
      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Flex"], {
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
          width: '30px',
          mr: '10px',
          mb: '10px',
          overflow: "hidden",
          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(_components_antd__WEBPACK_IMPORTED_MODULE_3__["Text"], {
            style: {
              color: _constants__WEBPACK_IMPORTED_MODULE_0__["OperationModeColor"][item.operationMode],
              backgroundColor: '#D5F0F533',
              fontSize: '12px',
              padding: '1px 2px'
            },
            children: _constants__WEBPACK_IMPORTED_MODULE_0__["OperationModeStr"][item.operationMode] || '未知'
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 13,
            columnNumber: 13
          }, _this)
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 12,
          columnNumber: 11
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(_components_antd__WEBPACK_IMPORTED_MODULE_3__["Text"], {
          style: {
            width: '50px',
            marginRight: '5px',
            marginBottom: '10px'
          },
          children: moment__WEBPACK_IMPORTED_MODULE_4___default()(item.timestamp).format('HH:mm:ss')
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 24,
          columnNumber: 11
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(_components_antd__WEBPACK_IMPORTED_MODULE_3__["Text"], {
          ellipsis: true,
          style: {
            flex: 1
          },
          title: item.summary,
          children: item.summary
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 33,
          columnNumber: 11
        }, _this)]
      }, item.id, true, {
        fileName: _jsxFileName,
        lineNumber: 11,
        columnNumber: 9
      }, _this);
    })
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 9,
    columnNumber: 5
  }, this);
}

/***/ }),

/***/ "./src/pages/BigScreen/blocks/RightView/components/Right/ActivityMonitor/index.tsx":
/*!*****************************************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/RightView/components/Right/ActivityMonitor/index.tsx ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _services_api_radiance_booking__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/services/api/radiance/booking */ "./src/services/api/radiance/booking.ts");
/* harmony import */ var _HotChart__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./HotChart */ "./src/pages/BigScreen/blocks/RightView/components/Right/ActivityMonitor/HotChart.tsx");
/* harmony import */ var _GaugeChart__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./GaugeChart */ "./src/pages/BigScreen/blocks/RightView/components/Right/ActivityMonitor/GaugeChart.tsx");
/* harmony import */ var _ScrollBoard__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ScrollBoard */ "./src/pages/BigScreen/blocks/RightView/components/Right/ActivityMonitor/ScrollBoard.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__);



var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/RightView/components/Right/ActivityMonitor/index.tsx",
    _this = undefined;












var ActivityMonitor = function ActivityMonitor(_ref) {
  var currentHub = _ref.currentHub;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])([]),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState, 2),
      scrollData = _useState2[0],
      setScrollData = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])({}),
      _useState4 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState3, 2),
      efficacyData = _useState4[0],
      setEfficacyData = _useState4[1];

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
      _useState6 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState5, 2),
      hotChartVisible = _useState6[0],
      setHotChartVisible = _useState6[1];

  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])({
    totalCount: [],
    punctualCount: [],
    fulfilledCount: [],
    averageDuration: []
  }),
      _useState8 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState7, 2),
      hotData = _useState8[0],
      setHotData = _useState8[1];

  var timer = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])(0);

  function getData() {
    return _getData.apply(this, arguments);
  }

  function _getData() {
    _getData = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {
      var _yield$getBookingEffi, data;

      return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              timer.current && clearTimeout(timer.current);
              _context.next = 3;
              return Object(_services_api_radiance_booking__WEBPACK_IMPORTED_MODULE_6__["getBookingEfficacy"])({
                hubId: currentHub.id
              });

            case 3:
              _yield$getBookingEffi = _context.sent;
              data = _yield$getBookingEffi.data;
              data && setEfficacyData(data);
              setHotDataFn(data.timePeriodSummary);
              _context.next = 9;
              return getScrollList();

            case 9:
              timer.current = setTimeout(function () {
                getData();
              }, 5000);

            case 10:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));
    return _getData.apply(this, arguments);
  }

  function getScrollList() {
    return _getScrollList.apply(this, arguments);
  }

  function _getScrollList() {
    _getScrollList = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2() {
      var _yield$getBookingActi, data;

      return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              _context2.next = 2;
              return Object(_services_api_radiance_booking__WEBPACK_IMPORTED_MODULE_6__["getBookingActivity"])({
                hubId: currentHub.id,
                pageSize: 20,
                sort: 'timestamp,DESC'
              });

            case 2:
              _yield$getBookingActi = _context2.sent;
              data = _yield$getBookingActi.data;
              setScrollData(data);

            case 5:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee2);
    }));
    return _getScrollList.apply(this, arguments);
  }

  function setHotDataFn(data) {
    if (!data || data.length === 0) {
      setHotChartVisible(false);
      return;
    }

    setHotChartVisible(true);
    var ret = {
      totalCount: [],
      punctualCount: [],
      fulfilledCount: [],
      averageDuration: []
    };
    data.forEach(function (item) {
      ret.totalCount.push(item.totalCount);
      ret.punctualCount.push(item.punctualCount);
      ret.fulfilledCount.push(item.fulfilledCount);
      ret.averageDuration.push(Math.round(item.averageDuration / 1000));
    });
    setHotData(ret);
  }

  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    getData();
    return function () {
      timer.current && clearInterval(timer.current);
    }; // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [currentHub === null || currentHub === void 0 ? void 0 : currentHub.id]);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Flex"], {
    flex: 1,
    flexDirection: "column",
    justifyContent: "space-between",
    overflow: "hidden",
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Flex"], {
      height: hotChartVisible ? '60%' : '35%',
      flexDirection: "column",
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__["jsxDEV"])(_GaugeChart__WEBPACK_IMPORTED_MODULE_8__["default"], {
        info: efficacyData
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 84,
        columnNumber: 9
      }, _this), hotChartVisible && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__["jsxDEV"])(_HotChart__WEBPACK_IMPORTED_MODULE_7__["default"], {
        data: hotData
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 85,
        columnNumber: 29
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 83,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      flex: "1",
      overflowY: "hidden",
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__["jsxDEV"])(_ScrollBoard__WEBPACK_IMPORTED_MODULE_9__["default"], {
        list: scrollData
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 88,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 87,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 82,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps(_ref2) {
  var user = _ref2.user;
  return {
    currentHub: user.currentHub
  };
};

var mapDispatchToProps = {};
/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["connect"])(mapStateToProps, mapDispatchToProps)(ActivityMonitor));

/***/ }),

/***/ "./src/pages/BigScreen/blocks/RightView/components/Right/ScrollList.tsx":
/*!******************************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/RightView/components/Right/ScrollList.tsx ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2 */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _jiaminghi_data_view_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @jiaminghi/data-view-react */ "./node_modules/@jiaminghi/data-view-react/es/index/index.js");
/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! umi */ "./node_modules/umi/dist/index.esm.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__);



var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/RightView/components/Right/ScrollList.tsx",
    _this = undefined;






var ScrollList = function ScrollList(_ref) {
  var list = _ref.list,
      _ref$rowNum = _ref.rowNum,
      rowNum = _ref$rowNum === void 0 ? 6 : _ref$rowNum,
      _ref$config = _ref.config,
      config = _ref$config === void 0 ? {} : _ref$config;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])({}),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState, 2),
      _config = _useState2[0],
      set_config = _useState2[1];

  var getConfig = Object(react__WEBPACK_IMPORTED_MODULE_2__["useCallback"])(function (data) {
    return Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({
      rowNum: rowNum,
      oddRowBGC: '',
      // evenRowBGC: 'rgb(13, 230, 186, 0.05)',
      evenRowBGC: '',
      waitTime: 2000,
      columnWidth: [85, 90, 250],
      data: data
    }, config);
  }, [config, rowNum]);
  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
    set_config(getConfig(list)); // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [list]);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(_jiaminghi_data_view_react__WEBPACK_IMPORTED_MODULE_3__["ScrollBoard"], {
    config: _config,
    style: {
      width: '100%',
      height: '100%'
    } // onClick={console.log}
    // onMouseOver={console.log}

  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 54,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps(_ref2) {
  var user = _ref2.user;
  return {
    currentHub: user.currentHub
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(umi__WEBPACK_IMPORTED_MODULE_4__["connect"])(mapStateToProps)(ScrollList));

/***/ }),

/***/ "./src/pages/BigScreen/blocks/RightView/components/Right/WorkingData.tsx":
/*!*******************************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/RightView/components/Right/WorkingData.tsx ***!
  \*******************************************************************************/
/*! exports provided: WorkingData, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WorkingData", function() { return WorkingData; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/toConsumableArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/defineProperty */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _components_Chart_EchartGl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/Chart/EchartGl */ "./src/components/Chart/EchartGl.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _services_api_aurora_screen_report__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/services/api/aurora/screen-report */ "./src/services/api/aurora/screen-report.ts");
/* harmony import */ var _components_antd__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/antd */ "./src/components/antd/index.ts");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__);





var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/RightView/components/Right/WorkingData.tsx",
    _ChartClassStr,
    _this = undefined;









var numBox = {
  cursor: 'pointer',
  marginTop: 10,
  fontWeight: 'bold',
  alignItems: 'flex-end',
  overflow: 'hidden'
};
var numStyle = {
  fontSize: '2.5em',
  lineHeight: 1
};
var ChartClasseEnum;

(function (ChartClasseEnum) {
  ChartClasseEnum[ChartClasseEnum["totalMileage"] = 0] = "totalMileage";
  ChartClasseEnum[ChartClasseEnum["totalTime"] = 1] = "totalTime";
  ChartClasseEnum[ChartClasseEnum["totalOrder"] = 2] = "totalOrder";
})(ChartClasseEnum || (ChartClasseEnum = {}));

var ChartClassStr = (_ChartClassStr = {}, Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__["default"])(_ChartClassStr, ChartClasseEnum.totalMileage, '里程'), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__["default"])(_ChartClassStr, ChartClasseEnum.totalTime, '时长'), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__["default"])(_ChartClassStr, ChartClasseEnum.totalOrder, '订单'), _ChartClassStr);
var WorkingData = function WorkingData(_ref) {
  var currentHub = _ref.currentHub;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_6__["useState"])({}),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState, 2),
      option = _useState2[0],
      setOption = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_6__["useState"])({
    totalMileage: 0,
    totalOrder: 0,
    totalTime: 0
  }),
      _useState4 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState3, 2),
      weekData = _useState4[0],
      setWeekData = _useState4[1];

  var chartData = Object(react__WEBPACK_IMPORTED_MODULE_6__["useRef"])([]);
  var visualMapMax = Object(react__WEBPACK_IMPORTED_MODULE_6__["useRef"])(100);
  Object(react__WEBPACK_IMPORTED_MODULE_6__["useEffect"])(function () {
    getData(); // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [currentHub === null || currentHub === void 0 ? void 0 : currentHub.id]);

  function getData() {
    return _getData.apply(this, arguments);
  }

  function _getData() {
    _getData = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee() {
      var _yield$getScreenDevic, data, totalMileage, totalOrder, totalTime, sumData;

      return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return Object(_services_api_aurora_screen_report__WEBPACK_IMPORTED_MODULE_9__["getScreenDeviceWorkSum"])({
                hubId: currentHub.id
              });

            case 2:
              _yield$getScreenDevic = _context.sent;
              data = _yield$getScreenDevic.data;
              totalMileage = data.totalMileage, totalOrder = data.totalOrder, totalTime = data.totalTime;
              setWeekData({
                totalMileage: totalMileage,
                totalOrder: totalOrder,
                totalTime: totalTime
              });
              sumData = (data === null || data === void 0 ? void 0 : data.data) || []; // const chartList: any[] = sumData.map((item: any) => {
              //   return [item.totalMileage, item.totalTime, item.totalOrder]
              // })
              // chartData.current = chartList

              setMaxVal(sumData);
              setOption(getOption(sumData));

            case 9:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));
    return _getData.apply(this, arguments);
  }

  function setMaxVal(list) {
    var newList = list.map(function (item) {
      return [item.totalMileage, item.totalTime, item.totalOrder];
    });
    var maxMileage = Math.max.apply(Math, Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(newList.map(function (item) {
      return item[0];
    })));
    var maxTime = Math.max.apply(Math, Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(newList.map(function (item) {
      return item[1];
    })));
    var maxOrder = Math.max.apply(Math, Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(newList.map(function (item) {
      return item[2];
    })));
    var max = maxMileage;
    maxTime > max && (max = maxTime);
    maxOrder > max && (max = maxOrder);
    visualMapMax.current = max;
  }

  var resolveNum = function resolveNum(num, measurement) {
    var scale = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;
    var ret;
    var m = Math.floor(num);

    if (m.toString().length >= 4 && measurement && scale) {
      ret = (m / scale).toFixed(1) + measurement;
    } else {
      var nSplitList = num.toString().split('.');
      ret = nSplitList.length > 1 && Number(nSplitList[1]) > 0 ? num.toFixed(1) : num;
    }

    return ret;
  };

  var resolvNumFn = function resolvNumFn(num) {
    if (num.toString().length > 4) {
      return resolveNum(num, 'k');
    }

    return num;
  };

  function getOption(list) {
    var days = list.map(function (item) {
      return item.date;
    });
    var sumObj = {
      totalMileage: [],
      totalTime: [],
      totalOrder: []
    };
    list.forEach(function (item) {
      sumObj.totalMileage.push(item.totalMileage);
      sumObj.totalTime.push(item.totalTime);
      sumObj.totalOrder.push(item.totalOrder);
    });
    var seriesData = [];
    Object.keys(sumObj).forEach(function (key, index) {
      var vals = sumObj[key].map(function (item, inde) {
        return [index, inde, item];
      });
      seriesData = [].concat(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(seriesData), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(vals));
    });
    return {
      tooltip: {
        type: 'item',
        formatter: function formatter(_ref2) {
          var data = _ref2.data;
          return "".concat(days[data[0]], "</br>\n          ").concat(ChartClassStr[data[1]], " ").concat(data[2], "\n          ");
        }
      },
      visualMap: {
        max: visualMapMax.current,
        itemWidth: 0,
        itemHeight: 0,
        inRange: {
          color: ['#ffffff', '#0de6ba']
        }
      },
      xAxis3D: {
        show: true,
        name: '',
        type: 'category',
        data: days,
        fontSize: 10,
        // axisLabel: {
        //   interval: 0,
        //   rotate: 90,
        // },
        axisTick: {
          alignWithLabel: true
        },
        axisLine: {
          lineStyle: {
            color: 'rgba(255, 255, 255, 0.2)'
          }
        },
        splitLine: {
          show: true,
          lineStyle: {
            color: ['rgba(255, 255, 255, 0.2)']
          }
        }
      },
      yAxis3D: {
        show: true,
        name: '',
        type: 'category',
        data: ['里程', '时长', '订单'],
        axisLine: {
          lineStyle: {
            color: 'rgba(255, 255, 255, 0.2)'
          }
        },
        splitLine: {
          show: true,
          lineStyle: {
            color: ['rgba(255, 255, 255, 0.2)']
          }
        }
      },
      zAxis3D: {
        show: true,
        name: '',
        type: 'value',
        axisLine: {
          lineStyle: {
            color: 'rgba(255, 255, 255, 0.2)'
          }
        },
        splitLine: {
          show: true,
          lineStyle: {
            color: ['rgba(255, 255, 255, 0.2)']
          }
        }
      },
      grid3D: {
        left: 0,
        right: '5%',
        boxWidth: 120,
        boxDepth: 80,
        light: {
          main: {
            intensity: 1.2
          },
          ambient: {
            intensity: 0.3
          }
        },
        viewControl: {
          alpha: 10,
          // beta,
          autoRotate: true,
          autoRotateSpeed: 3,
          autoRotateAfterStill: 3,
          damping: 0,
          maxBeta: Infinity,
          minBeta: -Infinity,
          animationDurationUpdate: 500
        }
      },
      series: [{
        type: 'bar3D',
        // data: chartData.current,
        data: seriesData.map(function (item) {
          return [item[1], item[0], item[2]];
        }),
        shading: 'color',
        label: {
          show: false,
          fontSize: 16,
          borderWidth: 1
        },
        itemStyle: {
          opacity: 0.4
        },
        emphasis: {
          label: {
            fontSize: 20,
            color: '#ffffff'
          },
          itemStyle: {
            color: 'yellow'
          }
        }
      }]
    };
  }

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_8__["Flex"], {
    flexDirection: "column",
    justifyContent: "space-between",
    flex: 1,
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_8__["Flex"], {
      justifyContent: "space-between",
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_8__["Box"], {
        flex: 1,
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_8__["Box"], {
          children: "\u7D2F\u8BA1\u670D\u52A1\u91CC\u7A0B/\u5468"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 261,
          columnNumber: 11
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_8__["Flex"], {
          sx: numBox,
          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_8__["Box"], {
            style: numStyle,
            children: resolvNumFn(weekData.totalMileage)
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 263,
            columnNumber: 13
          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_8__["Box"], {
            className: "f12",
            children: "km"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 264,
            columnNumber: 13
          }, _this)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 262,
          columnNumber: 11
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 260,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_8__["Box"], {
        flex: 1,
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(_components_antd__WEBPACK_IMPORTED_MODULE_10__["Text"], {
          children: "\u7D2F\u8BA1\u670D\u52A1\u65F6\u957F/\u5468"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 268,
          columnNumber: 11
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_8__["Flex"], {
          sx: numBox,
          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_8__["Box"], {
            style: numStyle,
            children: resolvNumFn(weekData.totalTime)
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 270,
            columnNumber: 13
          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_8__["Box"], {
            className: "f12",
            children: "h"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 271,
            columnNumber: 13
          }, _this)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 269,
          columnNumber: 11
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 267,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_8__["Box"], {
        flex: 1,
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_8__["Box"], {
          children: "\u7D2F\u8BA1\u670D\u52A1\u8BA2\u5355/\u5468"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 275,
          columnNumber: 11
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_8__["Flex"], {
          sx: numBox,
          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_8__["Box"], {
            style: numStyle,
            children: resolvNumFn(weekData.totalOrder)
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 277,
            columnNumber: 13
          }, _this)
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 276,
          columnNumber: 11
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 274,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 259,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_8__["Box"], {
      flex: "1",
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(_components_Chart_EchartGl__WEBPACK_IMPORTED_MODULE_5__["default"], {
        option: option,
        height: "100%"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 282,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 281,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 258,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps(_ref3) {
  var user = _ref3.user;
  return {
    currentHub: user.currentHub
  };
};

var mapDispatchToProps = {};
/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["connect"])(mapStateToProps, mapDispatchToProps)(WorkingData));

/***/ }),

/***/ "./src/pages/BigScreen/blocks/RightView/components/index.tsx":
/*!*******************************************************************!*\
  !*** ./src/pages/BigScreen/blocks/RightView/components/index.tsx ***!
  \*******************************************************************/
/*! exports provided: DeviceBlock, WorkingDataBlock, AbnormalMonitorBlock, ActivityMonitorBlock */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WorkingDataBlock", function() { return WorkingDataBlock; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AbnormalMonitorBlock", function() { return AbnormalMonitorBlock; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActivityMonitorBlock", function() { return ActivityMonitorBlock; });
/* harmony import */ var _pages_BigScreen_components_BorderBox__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/pages/BigScreen/components/BorderBox */ "./src/pages/BigScreen/components/BorderBox/index.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _Right_WorkingData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Right/WorkingData */ "./src/pages/BigScreen/blocks/RightView/components/Right/WorkingData.tsx");
/* harmony import */ var _Right_AbnormalMonitor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Right/AbnormalMonitor */ "./src/pages/BigScreen/blocks/RightView/components/Right/AbnormalMonitor.tsx");
/* harmony import */ var _Right_ActivityMonitor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Right/ActivityMonitor */ "./src/pages/BigScreen/blocks/RightView/components/Right/ActivityMonitor/index.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _DeviceBox__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DeviceBox */ "./src/pages/BigScreen/blocks/RightView/components/DeviceBox/index.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DeviceBlock", function() { return _DeviceBox__WEBPACK_IMPORTED_MODULE_7__["default"]; });

var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/RightView/components/index.tsx",
    _this = undefined;









var WorkingDataBlock = function WorkingDataBlock() {
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(_pages_BigScreen_components_BorderBox__WEBPACK_IMPORTED_MODULE_0__["default"], {
    className: "big-screen-block big-screen-working-data",
    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Flex"], {
      height: "100%",
      flexDirection: "column",
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])("div", {
        className: "big-screen-module-title",
        children: "\u8FD0\u884C\u6570\u636E"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 14,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(_Right_WorkingData__WEBPACK_IMPORTED_MODULE_3__["default"], {}, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 15,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 13,
      columnNumber: 7
    }, _this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 12,
    columnNumber: 5
  }, _this);
};
var AbnormalMonitorBlock = function AbnormalMonitorBlock() {
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(_pages_BigScreen_components_BorderBox__WEBPACK_IMPORTED_MODULE_0__["default"], {
    className: "big-screen-block big-screen-abnormal-monitor",
    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Flex"], {
      height: "100%",
      flexDirection: "column",
      overflow: "hidden",
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])("div", {
        className: "big-screen-module-title",
        children: "\u5F02\u5E38\u76D1\u6D4B"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 25,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(_Right_AbnormalMonitor__WEBPACK_IMPORTED_MODULE_4__["default"], {}, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 26,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 24,
      columnNumber: 7
    }, _this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 23,
    columnNumber: 5
  }, _this);
};
var ActivityMonitorBlock = function ActivityMonitorBlock() {
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(_pages_BigScreen_components_BorderBox__WEBPACK_IMPORTED_MODULE_0__["default"], {
    className: "big-screen-block big-screen-activity-monitor",
    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Flex"], {
      height: "100%",
      flexDirection: "column",
      overflow: "hidden",
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])("div", {
        className: "big-screen-module-title",
        children: "\u6548\u80FD\u76D1\u6D4B"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 36,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(_Right_ActivityMonitor__WEBPACK_IMPORTED_MODULE_5__["default"], {}, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 37,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 35,
      columnNumber: 7
    }, _this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 34,
    columnNumber: 5
  }, _this);
};

/***/ }),

/***/ "./src/pages/BigScreen/blocks/RightView/index.tsx":
/*!********************************************************!*\
  !*** ./src/pages/BigScreen/blocks/RightView/index.tsx ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _layouts_BlockLayout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../layouts/BlockLayout */ "./src/pages/BigScreen/layouts/BlockLayout.tsx");
/* harmony import */ var _components_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/index */ "./src/pages/BigScreen/blocks/RightView/components/index.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__);
var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/blocks/RightView/index.tsx",
    _this = undefined;







var RightView = function RightView(_ref) {
  var sideViewPage = _ref.sideViewPage;

  if (sideViewPage === 0) {
    return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])(_layouts_BlockLayout__WEBPACK_IMPORTED_MODULE_2__["default"], {
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])(_components_index__WEBPACK_IMPORTED_MODULE_3__["WorkingDataBlock"], {}, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 15,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])(_components_index__WEBPACK_IMPORTED_MODULE_3__["ActivityMonitorBlock"], {}, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 16,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 14,
      columnNumber: 7
    }, _this);
  }

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])(_layouts_BlockLayout__WEBPACK_IMPORTED_MODULE_2__["default"], {
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])(_components_index__WEBPACK_IMPORTED_MODULE_3__["DeviceBlock"], {}, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 22,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])(_components_index__WEBPACK_IMPORTED_MODULE_3__["AbnormalMonitorBlock"], {}, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 23,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 21,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps(_ref2) {
  var screen = _ref2.screen;
  return {
    sideViewPage: screen.sideViewPage
  };
};

var mapDispatchToProps = {};
/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(mapStateToProps, mapDispatchToProps)(RightView));

/***/ }),

/***/ "./src/pages/BigScreen/blocks/index.ts":
/*!*********************************************!*\
  !*** ./src/pages/BigScreen/blocks/index.ts ***!
  \*********************************************/
/*! exports provided: Header, LeftView, RightView, MenuBox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Header__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Header */ "./src/pages/BigScreen/blocks/Header/index.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Header", function() { return _Header__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _LeftView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LeftView */ "./src/pages/BigScreen/blocks/LeftView/index.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LeftView", function() { return _LeftView__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _RightView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RightView */ "./src/pages/BigScreen/blocks/RightView/index.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RightView", function() { return _RightView__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var _MenuBox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MenuBox */ "./src/pages/BigScreen/blocks/MenuBox/index.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MenuBox", function() { return _MenuBox__WEBPACK_IMPORTED_MODULE_3__["default"]; });






/***/ }),

/***/ "./src/pages/BigScreen/components/BorderBox/index.tsx":
/*!************************************************************!*\
  !*** ./src/pages/BigScreen/components/BorderBox/index.tsx ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2 */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _style_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./style.less */ "./src/pages/BigScreen/components/BorderBox/style.less");
/* harmony import */ var _style_less__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_style_less__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__);


var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/components/BorderBox/index.tsx",
    _this = undefined;





var BorderBox = function BorderBox(props) {
  var _props$height = props.height,
      height = _props$height === void 0 ? '100%' : _props$height,
      _props$width = props.width,
      width = _props$width === void 0 ? '100%' : _props$width,
      style = props.style,
      className = props.className,
      backgroundColor = props.backgroundColor,
      angleStyle = props.angleStyle,
      children = props.children,
      id = props.id;

  var boxStyle = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({
    width: width,
    height: height,
    backgroundColor: backgroundColor
  }, style);

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__["jsxDEV"])("div", {
    id: id,
    style: boxStyle,
    className: "border-box ".concat(className ? className : ''),
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__["jsxDEV"])("div", {
      className: "anglelt",
      style: angleStyle
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 25,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__["jsxDEV"])("div", {
      className: "anglelb",
      style: angleStyle
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 26,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__["jsxDEV"])("div", {
      className: "anglert",
      style: angleStyle
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 27,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__["jsxDEV"])("div", {
      className: "anglerb",
      style: angleStyle
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 28,
      columnNumber: 7
    }, _this), children]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 24,
    columnNumber: 5
  }, _this);
};

/* harmony default export */ __webpack_exports__["default"] = (BorderBox);

/***/ }),

/***/ "./src/pages/BigScreen/components/BorderBox/style.less":
/*!*************************************************************!*\
  !*** ./src/pages/BigScreen/components/BorderBox/style.less ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(true) {
      // 1624783249009
      var cssReload = __webpack_require__(/*! ./node_modules/@umijs/bundler-webpack/lib/webpack/plugins/mini-css-extract-plugin/src/hmr/hotModuleReplacement.js */ "./node_modules/@umijs/bundler-webpack/lib/webpack/plugins/mini-css-extract-plugin/src/hmr/hotModuleReplacement.js")(module.i, {"publicPath":"./","hmr":true,"locals":false});
      module.hot.dispose(cssReload);
      module.hot.accept(undefined, cssReload);
    }
  

/***/ }),

/***/ "./src/pages/BigScreen/components/BorderBox2/index.tsx":
/*!*************************************************************!*\
  !*** ./src/pages/BigScreen/components/BorderBox2/index.tsx ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return BorderBox2; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2 */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _style_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./style.less */ "./src/pages/BigScreen/components/BorderBox2/style.less");
/* harmony import */ var _style_less__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_style_less__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__);

var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/components/BorderBox2/index.tsx";



function BorderBox2(props) {
  var _props$height = props.height,
      height = _props$height === void 0 ? '100%' : _props$height,
      _props$width = props.width,
      width = _props$width === void 0 ? '100%' : _props$width,
      style = props.style,
      className = props.className,
      backgroundColor = props.backgroundColor,
      angleStyle = props.angleStyle,
      children = props.children;

  var boxStyle = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({
    width: width,
    height: height,
    backgroundColor: backgroundColor
  }, style);

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__["jsxDEV"])("div", {
    style: boxStyle,
    className: "border-box2 ".concat(className ? className : ''),
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__["jsxDEV"])("div", {
      className: "anglelt",
      style: angleStyle
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 15,
      columnNumber: 7
    }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__["jsxDEV"])("div", {
      className: "anglelb",
      style: angleStyle
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 16,
      columnNumber: 7
    }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__["jsxDEV"])("div", {
      className: "anglert",
      style: angleStyle
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 17,
      columnNumber: 7
    }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_3__["jsxDEV"])("div", {
      className: "anglerb",
      style: angleStyle
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 18,
      columnNumber: 7
    }, this), children]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 14,
    columnNumber: 5
  }, this);
}

/***/ }),

/***/ "./src/pages/BigScreen/components/BorderBox2/style.less":
/*!**************************************************************!*\
  !*** ./src/pages/BigScreen/components/BorderBox2/style.less ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(true) {
      // 1624783251308
      var cssReload = __webpack_require__(/*! ./node_modules/@umijs/bundler-webpack/lib/webpack/plugins/mini-css-extract-plugin/src/hmr/hotModuleReplacement.js */ "./node_modules/@umijs/bundler-webpack/lib/webpack/plugins/mini-css-extract-plugin/src/hmr/hotModuleReplacement.js")(module.i, {"publicPath":"./","hmr":true,"locals":false});
      module.hot.dispose(cssReload);
      module.hot.accept(undefined, cssReload);
    }
  

/***/ }),

/***/ "./src/pages/BigScreen/components/HubSelect/components/Filter.tsx":
/*!************************************************************************!*\
  !*** ./src/pages/BigScreen/components/HubSelect/components/Filter.tsx ***!
  \************************************************************************/
/*! exports provided: SortTypeEnum, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SortTypeEnum", function() { return SortTypeEnum; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/toConsumableArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _components_Iconfont__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/Iconfont */ "./src/components/Iconfont/index.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__);



var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/components/HubSelect/components/Filter.tsx",
    _this = undefined;





var SortTypeEnum;

(function (SortTypeEnum) {
  SortTypeEnum["NAME"] = "NAME";
  SortTypeEnum["DEVICE"] = "DEVICE";
  SortTypeEnum["ORDER"] = "ORDER";
  SortTypeEnum["BOOKING"] = "BOOKING";
})(SortTypeEnum || (SortTypeEnum = {}));

var SortTypes = [{
  value: SortTypeEnum.NAME,
  label: '名称排序',
  sort: 0 // 0 升序 1 降序

}, {
  value: SortTypeEnum.DEVICE,
  label: '投入机器',
  sort: 1 // 0 升序 1 降序

}, {
  value: SortTypeEnum.ORDER,
  label: '未结订单',
  sort: 1 // 0 升序 1 降序

}, {
  value: SortTypeEnum.BOOKING,
  label: '调度告警',
  sort: 1 // 0 升序 1 降序

}];

var SortIcon = function SortIcon(_ref) {
  var active = _ref.active,
      mode = _ref.mode;
  // eslint-disable-next-line no-nested-ternary
  return !active ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_4__["default"], {
    type: "iconsort"
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 44,
    columnNumber: 5
  }, _this) : mode === 1 ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_4__["default"], {
    type: "iconsortdown"
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 46,
    columnNumber: 5
  }, _this) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(_components_Iconfont__WEBPACK_IMPORTED_MODULE_4__["default"], {
    type: "iconsortup"
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 48,
    columnNumber: 5
  }, _this);
};

var Filter = function Filter(_ref2) {
  var onChange = _ref2.onChange;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(SortTypes),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState, 2),
      sortList = _useState2[0],
      setSortList = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(0),
      _useState4 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState3, 2),
      currentIndex = _useState4[0],
      setCurrentIndex = _useState4[1];

  var handleTap = function handleTap(item, index) {
    var newList = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(sortList);

    var sort = Number(!item.sort);
    newList.forEach(function (item, inde) {
      if (inde !== index) {
        item.sort = 1;
      } else {
        item.sort = sort;
      }
    });
    var d = sort === 0 ? 'asc' : 'desc';
    onChange === null || onChange === void 0 ? void 0 : onChange("".concat(item.value, ",").concat(d));
    setCurrentIndex(index);
    setSortList(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(newList));
  };

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_3__["Flex"], {
    color: "#D5F0F5FF",
    sx: {
      cursor: 'pointer'
    },
    children: SortTypes.map(function (item, index) {
      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_3__["Flex"], {
        mr: 15,
        alignItems: "center",
        style: {
          color: currentIndex === index ? '#00C199FF' : '#D5F0F5FF'
        },
        onClick: function onClick() {
          return handleTap(item, index);
        },
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_3__["Box"], {
          mr: 10,
          children: item.label
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 83,
          columnNumber: 11
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(SortIcon, {
          active: currentIndex === index,
          mode: item.sort
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 84,
          columnNumber: 11
        }, _this)]
      }, item.label, true, {
        fileName: _jsxFileName,
        lineNumber: 74,
        columnNumber: 9
      }, _this);
    })
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 72,
    columnNumber: 5
  }, _this);
};

/* harmony default export */ __webpack_exports__["default"] = (Filter);

/***/ }),

/***/ "./src/pages/BigScreen/components/HubSelect/components/Header.tsx":
/*!************************************************************************!*\
  !*** ./src/pages/BigScreen/components/HubSelect/components/Header.tsx ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2 */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/common */ "./src/utils/common.ts");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! . */ "./src/pages/BigScreen/components/HubSelect/components/index.ts");
/* harmony import */ var _Filter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Filter */ "./src/pages/BigScreen/components/HubSelect/components/Filter.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__);



var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/components/HubSelect/components/Header.tsx",
    _this = undefined;








var Header = function Header(_ref) {
  var onChange = _ref.onChange,
      count = _ref.count;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])({
    sort: "".concat(_Filter__WEBPACK_IMPORTED_MODULE_6__["SortTypeEnum"].NAME, ",asc")
  }),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState, 2),
      query = _useState2[0],
      setQuery = _useState2[1];

  var handleSearch = function handleSearch(e) {
    var value = e.target.value;
    var res = {};
    Object(_utils_common__WEBPACK_IMPORTED_MODULE_2__["hasChineseChar"])(value) ? res.name = value : res.pinyin = value;
    setQuery(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({
      sort: query === null || query === void 0 ? void 0 : query.sort
    }, res));
  };

  var handleChange = function handleChange(sort) {
    setQuery(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, query), {}, {
      sort: sort
    }));
  };

  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    // console.log('query:', query)
    onChange === null || onChange === void 0 ? void 0 : onChange(query); // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [query]);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_4__["Flex"], {
    justifyContent: "space-between",
    width: '100%',
    padding: '0 15px',
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(___WEBPACK_IMPORTED_MODULE_5__["SearchBar"], {
      onSearch: handleSearch,
      count: count
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 36,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(___WEBPACK_IMPORTED_MODULE_5__["Filter"], {
      onChange: handleChange
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 37,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 35,
    columnNumber: 5
  }, _this);
};

/* harmony default export */ __webpack_exports__["default"] = (Header);

/***/ }),

/***/ "./src/pages/BigScreen/components/HubSelect/components/HubItem.tsx":
/*!*************************************************************************!*\
  !*** ./src/pages/BigScreen/components/HubSelect/components/HubItem.tsx ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/toConsumableArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _components_antd__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/antd */ "./src/components/antd/index.ts");
/* harmony import */ var _HubList__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./HubList */ "./src/pages/BigScreen/components/HubSelect/components/HubList.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__);


var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/components/HubSelect/components/HubItem.tsx",
    _this = undefined;








var hubItemBg = __webpack_require__(/*! @/assets/big-screen/hubitem_bg.png */ "./src/assets/big-screen/hubitem_bg.png");

var HubItem = function HubItem(_ref) {
  var info = _ref.info,
      onClick = _ref.onClick;
  // console.log('info', info)
  var itemStyles = {
    background: "url(".concat(hubItemBg, ") no-repeat center center / 100% 100%"),
    width: 350,
    height: 105,
    overflow: 'hidden',
    color: '#D5F0F5FF'
  };
  var charts = info.charts;
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
    sx: itemStyles,
    onClick: onClick,
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
      textAlign: "center",
      height: 35,
      lineHeight: '35px',
      padding: '0 10px',
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(_components_antd__WEBPACK_IMPORTED_MODULE_3__["Text"], {
        ellipsis: true,
        style: {
          color: '#D5F0F5FF',
          width: '100%'
        },
        children: info.name
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 22,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 21,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Flex"], {
      height: 70,
      alignItems: "center",
      children: Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(charts.keys()).map(function (key) {
        var _charts$get = charts.get(key),
            active = _charts$get.active,
            total = _charts$get.total,
            error = _charts$get.error;

        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Flex"], {
          flex: 1,
          padding: '0 4px',
          alignItems: "center",
          sx: {
            textAlign: 'center',
            justifyContent: 'center'
          },
          children: total ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["Fragment"], {
            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
              width: 15,
              fontSize: 13,
              backgroundColor: _HubList__WEBPACK_IMPORTED_MODULE_4__["ChartNameColor"][key],
              children: key
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 42,
              columnNumber: 19
            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
              sx: {
                margin: '0 2px',
                fontSize: 12
              },
              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
                sx: {
                  borderBottom: '1px solid #D5F0F533',
                  color: '#00C199FF'
                },
                children: active > 9999 ? '1w+' : active
              }, void 0, false, {
                fileName: _jsxFileName,
                lineNumber: 46,
                columnNumber: 21
              }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
                children: total > 9999 ? '1w+' : total
              }, void 0, false, {
                fileName: _jsxFileName,
                lineNumber: 49,
                columnNumber: 21
              }, _this)]
            }, void 0, true, {
              fileName: _jsxFileName,
              lineNumber: 45,
              columnNumber: 19
            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_5__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_2__["Box"], {
              sx: {
                height: 20,
                fontSize: 13,
                padding: '0 1px',
                lineHeight: '20px',
                backgroundColor: '#E33540FF'
              },
              children: error > 99 ? '99+' : error
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 51,
              columnNumber: 19
            }, _this)]
          }, void 0, true) : ''
        }, key, false, {
          fileName: _jsxFileName,
          lineNumber: 30,
          columnNumber: 13
        }, _this);
      })
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 26,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 20,
    columnNumber: 5
  }, _this);
};

/* harmony default export */ __webpack_exports__["default"] = (HubItem);

/***/ }),

/***/ "./src/pages/BigScreen/components/HubSelect/components/HubList.tsx":
/*!*************************************************************************!*\
  !*** ./src/pages/BigScreen/components/HubSelect/components/HubList.tsx ***!
  \*************************************************************************/
/*! exports provided: ChartNameColor, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChartNameColor", function() { return ChartNameColor; });
/* harmony import */ var antd_es_message_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/es/message/style */ "./node_modules/antd/es/message/style/index.js");
/* harmony import */ var antd_es_message__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/es/message */ "./node_modules/antd/es/message/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/toConsumableArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/defineProperty */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! umi */ "./node_modules/umi/dist/index.esm.js");
/* harmony import */ var _HubItem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./HubItem */ "./src/pages/BigScreen/components/HubSelect/components/HubItem.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__);





var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/components/HubSelect/components/HubList.tsx",
    _ChartNameColor,
    _this = undefined;






var ChartNameEnum;

(function (ChartNameEnum) {
  ChartNameEnum["\u4E1A\u52A1"] = "\u4E1A\u52A1";
  ChartNameEnum["\u8C03\u5EA6"] = "\u8C03\u5EA6";
  ChartNameEnum["\u9633\u5149"] = "\u9633\u5149";
  ChartNameEnum["\u70DB\u5149"] = "\u70DB\u5149";
  ChartNameEnum["\u67DC\u4F53"] = "\u67DC\u4F53";
})(ChartNameEnum || (ChartNameEnum = {}));

var ChartNameColor = (_ChartNameColor = {}, Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__["default"])(_ChartNameColor, ChartNameEnum.业务, '#D5F0F533'), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__["default"])(_ChartNameColor, ChartNameEnum.调度, '#00C19933'), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__["default"])(_ChartNameColor, ChartNameEnum.阳光, '#FFB00033'), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__["default"])(_ChartNameColor, ChartNameEnum.烛光, '#147AFF33'), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__["default"])(_ChartNameColor, ChartNameEnum.柜体, '#E3354033'), _ChartNameColor);

var HubList = function HubList(_ref) {
  var list = _ref.list,
      userHubList = _ref.userHubList,
      updateCurrentHub = _ref.updateCurrentHub,
      onHide = _ref.onHide;
  // console.log('list', list)
  var ListStyles = {
    padding: 30,
    display: 'grid',
    gridTemplateColumns: '1fr 1fr 1fr',
    gridGap: '30px 15px'
  };
  var chartData = Object(react__WEBPACK_IMPORTED_MODULE_4__["useMemo"])(function () {
    if (list.length === 0) return [];

    var newList = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__["default"])(list);

    var names = ['业务', '调度', '阳光', '烛光', '柜体'];
    var keys = ['orderCount', 'bookingCount', 'sunlight', 'candlelight', 'hiveCount'];
    newList.forEach(function (hub) {
      var charts = new Map();
      names.forEach(function (key, index) {
        var val = index > 1 && index < 4 ? hub.robotCount[keys[index]] : hub[keys[index]];
        var data = confData(key, val);
        charts.set(key, data);
      });
      hub.charts = charts;
    });
    return newList;
  }, [list]);

  function confData(key, data) {
    var ret = {
      active: 0,
      error: 0,
      total: 0
    };

    switch (key) {
      case '业务':
        ret.active = data.arrived + data.confirmed + data.onRoute + data.paid + data.pending + data.processed;
        ret.error = data.failed + data.unclaimed;
        ret.total = Object.keys(data).reduce(function (t, v) {
          return typeof t === 'number' ? t + data[v] : data[t] + data[v];
        }, 0);
        break;

      case '阳光':
      case '烛光':
      case '柜体':
        ret.active = data.active + data.busy + data.charging + data.idle;
        ret.error = data.error + data.maintenance + data.unknown;
        ret.total = Object.keys(data).reduce(function (t, v) {
          return typeof t === 'number' ? t + data[v] : data[t] + data[v];
        }, 0);
        break;

      case '调度':
        {
          // console.log(data)
          var tranDispatch = function tranDispatch(data) {
            var dropOff = data.drop_off,
                pickUp = data.pick_up;
            var options = ['arrived', 'cancelled', 'completed', 'confirmed', 'departed', 'expired', 'failed', 'requested'];
            var activeOptions = ['departed', 'arrived', 'requested', 'confirmed'];
            var errorOptions = ['expired', 'failed', 'cancelled'];
            var total = options.reduce(function (t, v) {
              return t + dropOff[v] + pickUp[v];
            }, 0);
            var active = activeOptions.reduce(function (t, v) {
              return t + dropOff[v] + pickUp[v];
            }, 0);
            var error = errorOptions.reduce(function (t, v) {
              return t + dropOff[v] + pickUp[v];
            }, 0);
            return {
              total: total,
              active: active,
              error: error
            };
          };

          var _tranDispatch = tranDispatch(data),
              total = _tranDispatch.total,
              active = _tranDispatch.active,
              error = _tranDispatch.error;

          ret.total = total || 0;
          ret.active = active || 0;
          ret.error = error || 0;
          break;
        }

      default:
    }

    return ret;
  }

  var handleHubSelect = function handleHubSelect(hubId) {
    var hub = userHubList.find(function (hub) {
      return hub.id === hubId;
    });

    if (!hub) {
      return antd_es_message__WEBPACK_IMPORTED_MODULE_1__["default"].error('园区未找到！');
    }

    updateCurrentHub(hub).then(function () {
      onHide === null || onHide === void 0 ? void 0 : onHide();
    });
  };

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
    flexWrap: "wrap",
    sx: ListStyles,
    children: chartData.map(function (info) {
      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(_HubItem__WEBPACK_IMPORTED_MODULE_7__["default"], {
        info: info,
        onClick: function onClick() {
          return handleHubSelect(info.id);
        }
      }, info.id, false, {
        fileName: _jsxFileName,
        lineNumber: 124,
        columnNumber: 9
      }, _this);
    })
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 122,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps(_ref2) {
  var user = _ref2.user;
  return {
    userHubList: user.userHubList
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    updateCurrentHub: function updateCurrentHub(hub) {
      return dispatch({
        type: 'user/updateCurrentHub',
        payload: hub
      });
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(umi__WEBPACK_IMPORTED_MODULE_6__["connect"])(mapStateToProps, mapDispatchToProps)(HubList));

/***/ }),

/***/ "./src/pages/BigScreen/components/HubSelect/components/SearchBar.tsx":
/*!***************************************************************************!*\
  !*** ./src/pages/BigScreen/components/HubSelect/components/SearchBar.tsx ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var antd_es_space_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/es/space/style */ "./node_modules/antd/es/space/style/index.js");
/* harmony import */ var antd_es_space__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/es/space */ "./node_modules/antd/es/space/index.js");
/* harmony import */ var antd_es_typography_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd/es/typography/style */ "./node_modules/antd/es/typography/style/index.js");
/* harmony import */ var antd_es_typography__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd/es/typography */ "./node_modules/antd/es/typography/index.js");
/* harmony import */ var antd_es_input_style__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! antd/es/input/style */ "./node_modules/antd/es/input/style/index.js");
/* harmony import */ var antd_es_input__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! antd/es/input */ "./node_modules/antd/es/input/index.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__);







var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/components/HubSelect/components/SearchBar.tsx",
    _this = undefined;





var SearchBar = function SearchBar(_ref) {
  var onSearch = _ref.onSearch,
      count = _ref.count;
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(antd_es_space__WEBPACK_IMPORTED_MODULE_1__["default"], {
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(antd_es_input__WEBPACK_IMPORTED_MODULE_5__["default"], {
      style: {
        backgroundColor: '#FFFFFF33',
        border: 'none',
        color: '#D5F0F5FF'
      },
      placeholder: "\u8BF7\u8F93\u5165\u4E2D/\u82F1\u6587\u56ED\u533A\u540D\u79F0",
      onChange: Object(lodash__WEBPACK_IMPORTED_MODULE_6__["debounce"])(onSearch, 500)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 8,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(antd_es_typography__WEBPACK_IMPORTED_MODULE_3__["default"], {
      style: {
        color: '#D5F0F5FF'
      },
      children: ["\u7B26\u5408\u6761\u4EF6\u7684\u56ED\u533A\u6709", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])("span", {
        children: count
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 18,
        columnNumber: 17
      }, _this), "\u4E2A"]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 17,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 7,
    columnNumber: 5
  }, _this);
};

/* harmony default export */ __webpack_exports__["default"] = (SearchBar);

/***/ }),

/***/ "./src/pages/BigScreen/components/HubSelect/components/index.ts":
/*!**********************************************************************!*\
  !*** ./src/pages/BigScreen/components/HubSelect/components/index.ts ***!
  \**********************************************************************/
/*! exports provided: Filter, Header, HubItem, HubList, SearchBar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Filter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Filter */ "./src/pages/BigScreen/components/HubSelect/components/Filter.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Filter", function() { return _Filter__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _Header__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Header */ "./src/pages/BigScreen/components/HubSelect/components/Header.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Header", function() { return _Header__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _HubItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./HubItem */ "./src/pages/BigScreen/components/HubSelect/components/HubItem.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "HubItem", function() { return _HubItem__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var _HubList__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./HubList */ "./src/pages/BigScreen/components/HubSelect/components/HubList.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "HubList", function() { return _HubList__WEBPACK_IMPORTED_MODULE_3__["default"]; });

/* harmony import */ var _SearchBar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SearchBar */ "./src/pages/BigScreen/components/HubSelect/components/SearchBar.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SearchBar", function() { return _SearchBar__WEBPACK_IMPORTED_MODULE_4__["default"]; });







/***/ }),

/***/ "./src/pages/BigScreen/components/HubSelect/index.module.less":
/*!********************************************************************!*\
  !*** ./src/pages/BigScreen/components/HubSelect/index.module.less ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(true) {
      // 1624783248695
      var cssReload = __webpack_require__(/*! ./node_modules/@umijs/bundler-webpack/lib/webpack/plugins/mini-css-extract-plugin/src/hmr/hotModuleReplacement.js */ "./node_modules/@umijs/bundler-webpack/lib/webpack/plugins/mini-css-extract-plugin/src/hmr/hotModuleReplacement.js")(module.i, {"publicPath":"./","hmr":true,"locals":false});
      module.hot.dispose(cssReload);
      module.hot.accept(undefined, cssReload);
    }
  

/***/ }),

/***/ "./src/pages/BigScreen/components/HubSelect/index.tsx":
/*!************************************************************!*\
  !*** ./src/pages/BigScreen/components/HubSelect/index.tsx ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _hooks_useServer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/hooks/useServer */ "./src/hooks/useServer.ts");
/* harmony import */ var _services_api_aurora_hub_report__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/services/api/aurora/hub-report */ "./src/services/api/aurora/hub-report.ts");
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components */ "./src/pages/BigScreen/components/HubSelect/components/index.ts");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./index.module.less */ "./src/pages/BigScreen/components/HubSelect/index.module.less");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_index_module_less__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _BorderBox__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../BorderBox */ "./src/pages/BigScreen/components/BorderBox/index.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__);
var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/components/HubSelect/index.tsx",
    _this = undefined;










var HubSelect = function HubSelect(_ref) {
  var _server$data$length, _server$data;

  var onHide = _ref.onHide;
  var server = Object(_hooks_useServer__WEBPACK_IMPORTED_MODULE_1__["default"])(_services_api_aurora_hub_report__WEBPACK_IMPORTED_MODULE_2__["getHubList"], {
    params: {},
    defaultData: [],
    delay: true
  });

  var handleChange = function handleChange(query) {
    server.setParams(query, true);
  };

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(_BorderBox__WEBPACK_IMPORTED_MODULE_6__["default"], {
    className: "hub-select",
    style: {
      width: 1190,
      height: 900
    },
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_3__["Flex"], {
      height: 50,
      alignItems: "center",
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(_components__WEBPACK_IMPORTED_MODULE_4__["Header"], {
        onChange: handleChange,
        count: (_server$data$length = (_server$data = server.data) === null || _server$data === void 0 ? void 0 : _server$data.length) !== null && _server$data$length !== void 0 ? _server$data$length : 0
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 29,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 28,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_3__["Box"], {
      height: 850,
      overflow: "auto",
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_7__["jsxDEV"])(_components__WEBPACK_IMPORTED_MODULE_4__["HubList"], {
        list: server.data || [],
        onHide: onHide
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 32,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 31,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 21,
    columnNumber: 5
  }, _this);
};

/* harmony default export */ __webpack_exports__["default"] = (HubSelect);

/***/ }),

/***/ "./src/pages/BigScreen/components/Player/AudioBox/index.tsx":
/*!******************************************************************!*\
  !*** ./src/pages/BigScreen/components/Player/AudioBox/index.tsx ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_player__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-player */ "./node_modules/react-player/lib/index.js");
/* harmony import */ var react_player__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_player__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! umi */ "./node_modules/umi/dist/index.esm.js");
/* harmony import */ var _usePlayer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../usePlayer */ "./src/pages/BigScreen/components/Player/usePlayer.ts");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__);
var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/components/Player/AudioBox/index.tsx";
// import { Button, Modal } from 'antd'





var AudioUrl = 'http://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/audios/cti_bg.mp3';

function AudioBox(_ref) {
  var videoPlay = _ref.videoPlay;

  var _usePlayer = Object(_usePlayer__WEBPACK_IMPORTED_MODULE_3__["default"])(),
      getPlayerInstance = _usePlayer.getPlayerInstance,
      playing = _usePlayer.playing,
      handlePlayPause = _usePlayer.handlePlayPause,
      handleError = _usePlayer.handleError,
      handleReady = _usePlayer.handleReady,
      canPlay = _usePlayer.canPlay;

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (canPlay) {
      handlePlayPause(!videoPlay);
    } // eslint-disable-next-line react-hooks/exhaustive-deps

  }, [videoPlay]);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])("div", {
    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])(react_player__WEBPACK_IMPORTED_MODULE_1___default.a, {
      ref: function ref(playerInstance) {
        getPlayerInstance(playerInstance);
      },
      style: {
        display: 'none'
      },
      url: AudioUrl,
      playing: playing,
      loop: true // controls={true}
      ,
      file: {
        forceAudio: true
      },
      onError: handleError,
      onReady: handleReady
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 29,
      columnNumber: 7
    }, this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 28,
    columnNumber: 5
  }, this);
}

var mapStateToProps = function mapStateToProps(_ref2) {
  var screen = _ref2.screen;
  return {
    videoPlay: screen.videoPlay
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(umi__WEBPACK_IMPORTED_MODULE_2__["connect"])(mapStateToProps)(AudioBox));

/***/ }),

/***/ "./src/pages/BigScreen/components/Player/VideoBox/index.tsx":
/*!******************************************************************!*\
  !*** ./src/pages/BigScreen/components/Player/VideoBox/index.tsx ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/defineProperty */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _pages_BigScreen_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/pages/BigScreen/types */ "./src/pages/BigScreen/types.ts");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_player__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-player */ "./node_modules/react-player/lib/index.js");
/* harmony import */ var react_player__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_player__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var _BorderBox_index__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../BorderBox/index */ "./src/pages/BigScreen/components/BorderBox/index.tsx");
/* harmony import */ var _Tabs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../Tabs */ "./src/pages/BigScreen/components/Tabs/index.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__);



var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/components/Player/VideoBox/index.tsx",
    _VideoUrls,
    _this = undefined;








var VideoUrls = (_VideoUrls = {}, Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])(_VideoUrls, _pages_BigScreen_types__WEBPACK_IMPORTED_MODULE_2__["SolutionTabsEnum"].BUILDING, 'http://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/videos/building.mp4'), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])(_VideoUrls, _pages_BigScreen_types__WEBPACK_IMPORTED_MODULE_2__["SolutionTabsEnum"].HOSPITAL, 'http://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/videos/hospital.mp4'), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])(_VideoUrls, _pages_BigScreen_types__WEBPACK_IMPORTED_MODULE_2__["SolutionTabsEnum"].SANITATION, // 'http://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/videos/city.mp4',
'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/cti-cleaner-1.MP4'), _VideoUrls);
var tabOptions = [{
  label: '智慧楼宇',
  value: _pages_BigScreen_types__WEBPACK_IMPORTED_MODULE_2__["SolutionTabsEnum"].BUILDING,
  imgUrl: __webpack_require__(/*! @/assets/device/02.gif */ "./src/assets/device/02.gif")
}, {
  label: '智慧医院',
  value: _pages_BigScreen_types__WEBPACK_IMPORTED_MODULE_2__["SolutionTabsEnum"].HOSPITAL,
  imgUrl: __webpack_require__(/*! @/assets/device/01.gif */ "./src/assets/device/01.gif")
}, {
  label: '智慧环卫',
  value: _pages_BigScreen_types__WEBPACK_IMPORTED_MODULE_2__["SolutionTabsEnum"].SANITATION,
  imgUrl: __webpack_require__(/*! @/assets/device/03.gif */ "./src/assets/device/03.gif")
}];

var AudioBox = function AudioBox(_ref) {
  var type = _ref.type;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(true),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState, 2),
      playing = _useState2[0],
      setPlaying = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(tabOptions[0]),
      _useState4 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState3, 2),
      currentTab = _useState4[0],
      setCurrentTab = _useState4[1];

  var url = Object(react__WEBPACK_IMPORTED_MODULE_3__["useMemo"])(function () {
    return VideoUrls[currentTab.value] || '';
  }, [currentTab]);
  var styles = {
    width: 1000,
    height: 625,
    padding: 10,
    backgroundColor: 'transparent',
    cursor: 'pointer'
  };

  var handleError = function handleError(err) {
    console.log('audio error:', err);
  };

  var handleReady = function handleReady() {// console.log('onReady')
    // isCanPlay()
  };

  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if (type) {
      var tab = tabOptions.find(function (item) {
        return item.value === type;
      });
      tab && setCurrentTab(tab);
    }
  }, [type]);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(_BorderBox_index__WEBPACK_IMPORTED_MODULE_6__["default"], {
    style: styles,
    id: "video-palyer",
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(_Tabs__WEBPACK_IMPORTED_MODULE_7__["default"], {
      style: {
        left: 10,
        top: 10
      },
      tabs: tabOptions,
      onChange: function onChange(data) {
        setCurrentTab(data);
      }
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 80,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_5__["Box"], {
      sx: {
        marginTop: 40,
        height: 562
      },
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_8__["jsxDEV"])(react_player__WEBPACK_IMPORTED_MODULE_4___default.a, {
        style: {
          lineHeight: 1
        },
        url: url,
        playing: playing,
        pip: false,
        stopOnUnmount: true,
        loop: false,
        width: '100%',
        height: '100%',
        controls: true,
        config: {
          file: {
            forceVideo: true,
            attributes: {
              disablepictureinpicture: 'true',
              controlsList: 'nodownload'
            }
          }
        },
        onError: handleError,
        onReady: handleReady
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 96,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 90,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 79,
    columnNumber: 5
  }, _this);
};

/* harmony default export */ __webpack_exports__["default"] = (AudioBox);

/***/ }),

/***/ "./src/pages/BigScreen/components/Player/usePlayer.ts":
/*!************************************************************!*\
  !*** ./src/pages/BigScreen/components/Player/usePlayer.ts ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var antd_es_modal_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/es/modal/style */ "./node_modules/antd/es/modal/style/index.js");
/* harmony import */ var antd_es_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/es/modal */ "./node_modules/antd/es/modal/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);





var usePlayer = function usePlayer() {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState, 2),
      playing = _useState2[0],
      setPlaying = _useState2[1]; // eslint-disable-next-line no-underscore-dangle


  var _player = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])(null); // eslint-disable-next-line no-underscore-dangle


  var _canPlay = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])(false); // eslint-disable-next-line no-underscore-dangle


  var _isFirst = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])(true);

  var getPlayerInstance = function getPlayerInstance(instance) {
    _player.current = instance;
  };

  var hasInstance = function hasInstance() {
    return _player.current !== null;
  };

  var handlePlay = function handlePlay() {
    // console.log('onPlay')
    if (!_canPlay.current) {
      _canPlay.current = true;
    }

    setPlaying(true);
  };

  var handlePause = function handlePause() {
    playing && setPlaying(false);
  };

  var handlePlayPause = function handlePlayPause(key) {
    setPlaying(key);
  };

  var handleStop = function handleStop() {
    setPlaying(false);
  };

  var reStart = function reStart() {
    _player.current && _player.current.seekTo(0);
    handlePlay();
  };

  var isCanPlay = function isCanPlay() {
    if (true) return;
    if (!_isFirst.current) return;

    antd_es_modal__WEBPACK_IMPORTED_MODULE_1__["default"].confirm({
      title: 'Radiance需要获取音频播放权限',
      onOk: function onOk() {
        _isFirst.current = false;
        _canPlay.current = true;
        reStart();
      },
      onCancel: function onCancel() {
        _isFirst.current = false;
        handlePause();
      }
    });
  };

  var handleError = function handleError(err) {
    console.error('audio error:', err);
    _canPlay.current = false;
    setTimeout(function () {
      isCanPlay();
    }, 0);
  };

  var handleReady = function handleReady() {
    // 检测是否支持默认播放
    setTimeout(function () {
      if (true) return;
      handlePlay();
    }, 1000);
  };

  return {
    player: _player.current,
    getPlayerInstance: getPlayerInstance,
    hasInstance: hasInstance,
    playing: playing,
    setPlaying: setPlaying,
    handlePlay: handlePlay,
    handlePause: handlePause,
    handlePlayPause: handlePlayPause,
    handleError: handleError,
    handleReady: handleReady,
    reStart: reStart,
    isCanPlay: isCanPlay,
    isFirst: _isFirst.current,
    canPlay: _canPlay.current
  };
};

/* harmony default export */ __webpack_exports__["default"] = (usePlayer);

/***/ }),

/***/ "./src/pages/BigScreen/components/Tabs/index.tsx":
/*!*******************************************************!*\
  !*** ./src/pages/BigScreen/components/Tabs/index.tsx ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Tabs; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2 */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! theme-ui/jsx-dev-runtime */ "./node_modules/theme-ui/jsx-dev-runtime/dist/index.esm.js");


var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/components/Tabs/index.tsx";

/** @jsxImportSource theme-ui */



var defaultTabs = [{
  label: '楼宇'
}, {
  label: '医院'
}, {
  label: '环卫'
}];
function Tabs(_ref) {
  var _this = this;

  var tabs = _ref.tabs,
      onChange = _ref.onChange,
      style = _ref.style,
      _ref$activeKey = _ref.activeKey,
      activeKey = _ref$activeKey === void 0 ? 0 : _ref$activeKey;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(0),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState, 2),
      currentIndex = _useState2[0],
      setCurrentIndex = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(defaultTabs),
      _useState4 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState3, 2),
      tabsData = _useState4[0],
      setTabsData = _useState4[1];

  var handleChange = function handleChange(data, index) {
    setCurrentIndex(index);
    onChange && onChange(data, index);
  };

  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
    setTabsData(tabs);
  }, [tabs]);
  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
    setCurrentIndex(activeKey);
  }, [activeKey]);
  return Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_3__["Flex"], {
    sx: Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({
      position: 'absolute',
      top: '15px',
      right: '15px'
    }, style),
    children: tabsData.map(function (item, index) {
      return Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_3__["Box"], {
        onClick: function onClick() {
          return handleChange(item, index);
        },
        sx: {
          cursor: 'pointer',
          color: currentIndex === index ? 'primary' : 'white',
          whiteSpace: 'nowrap',
          transform: 'skewX(-15deg)',
          background: currentIndex === index ? 'rgb(13, 230, 186, 0.1)' : 'rgba(255, 255, 255, .3)'
        },
        margin: "0 1px",
        padding: "4px 10px",
        children: Object(theme_ui_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])("div", {
          style: {
            transform: 'skewX(15deg)'
          },
          className: "f12",
          children: item.label
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 65,
          columnNumber: 8
        }, _this)
      }, item.label, false, {
        fileName: _jsxFileName,
        lineNumber: 53,
        columnNumber: 51
      }, _this);
    })
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 47,
    columnNumber: 5
  }, this);
}

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/GDscreen.tsx":
/*!****************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/GDscreen.tsx ***!
  \****************************************************************/
/*! exports provided: GDscreen, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GDscreen", function() { return GDscreen; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! umi */ "./node_modules/umi/dist/index.esm.js");
/* harmony import */ var _index_less_modules__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.less?modules */ "./src/pages/BigScreen/components/ThreeScene/index.less?modules");
/* harmony import */ var _index_less_modules__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_index_less_modules__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _amap_amap_jsapi_loader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @amap/amap-jsapi-loader */ "./node_modules/@amap/amap-jsapi-loader/dist/index.js");
/* harmony import */ var _amap_amap_jsapi_loader__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_amap_amap_jsapi_loader__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__);
var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/components/ThreeScene/GDscreen.tsx",
    _this = undefined;






var map;
var GDscreen = function GDscreen(props) {
  var currentHub = props.currentHub;
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    initAmap();
  }, []);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    initAmap();
  }, [currentHub]);

  function initAmap() {
    var location = currentHub.location;
    _amap_amap_jsapi_loader__WEBPACK_IMPORTED_MODULE_3___default.a.load({
      key: '0fa7d55621c39cf556bfbe14464d0536',
      // 申请好的Web端开发者Key，首次调用 load 时必填
      version: '2.0',
      // 指定要加载的 JSAPI 的版本，缺省时默认为 1.4.15
      plugins: [] // 插件列表

    }).then(function (AMap) {
      map = new AMap.Map('gdmap-scene', {
        center: [location[1], location[0]],
        zoom: 18,
        zooms: [16, 23],
        pitch: 32,
        // 地图俯仰角度，有效范围 0 度- 83 度
        viewMode: '3D',
        // 地图模式
        mapStyle: 'amap://styles/e5eacf24fd4a2515fbf650bf71750878' // 设置地图的显示样式

      });
    }).catch(function (e) {//   console.log(e)
    });
  }

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])("div", {
    className: _index_less_modules__WEBPACK_IMPORTED_MODULE_2___default.a['big-3dScene'],
    id: "gdmap-scene"
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 37,
    columnNumber: 10
  }, _this);
};

var mapStateToProps = function mapStateToProps(_ref) {
  var mqtt = _ref.mqtt,
      user = _ref.user;
  return {
    socket: mqtt.socket,
    currentHub: user.currentHub
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    initSceneSetter: function initSceneSetter() {
      dispatch({
        type: 'sceneSetter/initSceneSetter'
      });
    },
    clearState: function clearState() {
      dispatch({
        type: 'sceneSetter/clearState'
      });
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(umi__WEBPACK_IMPORTED_MODULE_1__["connect"])(mapStateToProps, mapDispatchToProps)(GDscreen));

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/ThreeScene.tsx":
/*!******************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/ThreeScene.tsx ***!
  \******************************************************************/
/*! exports provided: ThreeScene, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThreeScene", function() { return ThreeScene; });
/* harmony import */ var antd_es_button_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/es/button/style */ "./node_modules/antd/es/button/style/index.js");
/* harmony import */ var antd_es_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/es/button */ "./node_modules/antd/es/button/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! umi */ "./node_modules/umi/dist/index.esm.js");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _utils_ThreeTool__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/ThreeTool */ "./src/pages/BigScreen/utils/ThreeTool.ts");
/* harmony import */ var _components_index__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/index */ "./src/pages/BigScreen/components/ThreeScene/components/index.ts");
/* harmony import */ var three_examples_jsm_libs_stats_module_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! three/examples/jsm/libs/stats.module.js */ "./node_modules/three/examples/jsm/libs/stats.module.js");
/* harmony import */ var _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../models/threeModels/index */ "./src/pages/BigScreen/models/threeModels/index.ts");
/* harmony import */ var _utils_eventBus__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/utils/eventBus */ "./src/utils/eventBus.ts");
/* harmony import */ var _components_tools_painter__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/tools/painter */ "./src/pages/BigScreen/components/ThreeScene/components/tools/painter.ts");
/* harmony import */ var _index_less_modules__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./index.less?modules */ "./src/pages/BigScreen/components/ThreeScene/index.less?modules");
/* harmony import */ var _index_less_modules__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_index_less_modules__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _models_screen__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../models/screen */ "./src/pages/BigScreen/models/screen.ts");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_15__);




var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/components/ThreeScene/ThreeScene.tsx",
    _this = undefined;














var prototypes = {};
var raf;
var stats;
var sceneNow;
var scenes = [{
  name: 'BuildingArea',
  fn: _components_index__WEBPACK_IMPORTED_MODULE_8__["loadBuildingArea"],
  scene: null,
  objects: [],
  updates: []
}, {
  name: 'IndoorArea',
  fn: _components_index__WEBPACK_IMPORTED_MODULE_8__["loadInside"],
  scene: null,
  objects: [],
  updates: []
}, {
  name: 'RobotExhibit',
  fn: _components_index__WEBPACK_IMPORTED_MODULE_8__["loadBigRobot"],
  scene: null,
  objects: [],
  updates: []
}];
var mouse = new three__WEBPACK_IMPORTED_MODULE_5__["Vector2"](2, 2);
var raycaster = new three__WEBPACK_IMPORTED_MODULE_5__["Raycaster"]();
var raycasterClick = new three__WEBPACK_IMPORTED_MODULE_5__["Raycaster"]();
var robots = {};
var rendererNow;
var ThreeScene = function ThreeScene(props) {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState, 2),
      showScene = _useState2[0],
      setShowScene = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(),
      _useState4 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState3, 2),
      bigRobotItem = _useState4[0],
      setBigRobotItem = _useState4[1];

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
      _useState6 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState5, 2),
      displayWindow = _useState6[0],
      setDisplayWindow = _useState6[1];

  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
      _useState8 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState7, 2),
      prototypesDone = _useState8[0],
      setPrototypesDone = _useState8[1];

  var _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(),
      _useState10 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState9, 2),
      sceneName = _useState10[0],
      setSceneName = _useState10[1];

  var _useState11 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(true),
      _useState12 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState11, 2),
      autoRotate = _useState12[0],
      setAutoRotate = _useState12[1];

  var _useState13 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(),
      _useState14 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState13, 2),
      selectedItem = _useState14[0],
      setSelectedItem = _useState14[1];

  var clock = new three__WEBPACK_IMPORTED_MODULE_5__["Clock"]();
  var mouseSelected = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])();
  var sceneNameRef = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])();
  var currentHubRef = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])();
  var selectedItemRef = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])();
  var renderer = props.renderer,
      camera = props.camera,
      initSceneSetter = props.initSceneSetter,
      socket = props.socket,
      clearState = props.clearState,
      composer = props.composer,
      currentHub = props.currentHub,
      menuKey = props.menuKey,
      menuCount = props.menuCount,
      controls = props.controls; //   let sceneNow = loadScenes({ currentHub, renderer, camera, controls, socket })

  var center = [113.94245812, 22.57581673];

  if (currentHub.id === 'cefbcf55-f582-4609-8803-dc4b4f6b3607') {
    center = [113.94490717, 22.58303714];
  }

  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if ({"UMI_ENV":"prod","REACT_APP_LOCAL_HOST":"http://localhost:8088","REACT_APP_ENV":"development","REACT_APP_NAME":"开发环境（生产api）","REACT_APP_HOST":"http://localhost:8088","REACT_APP_API":"https://api.ctirobot.com","REACT_APP_TOKEN":"Basic UFlpWGJtOWRpTUp5YnJoTjptamtCQWFwdGs5UE1qaXlw"}.UMI_ENV === 'deploy') {
      initSceneSetter();
      Object(_components_index__WEBPACK_IMPORTED_MODULE_8__["GetMachineObject"])({
        setMachineObjects: setMachineObjects
      });
    }

    _utils_eventBus__WEBPACK_IMPORTED_MODULE_11__["default"].on('bigRobotShow', function (data) {
      setBigRobotItem(data);
      setDisplayWindow(true);
    });
    return function () {
      if (rendererNow) {
        unmount();
      }
    };
  }, []);

  function setMachineObjects(datas) {
    datas.forEach(function (data) {
      prototypes[data.name] = data;
    });
    setPrototypesDone(true); //
    //  checkObject(sceneNameRef.current)
  }

  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if (currentHubRef.current) {
      //   setShowScene(false)
      currentHubRef.current = currentHub;
      console.log('changeCurrentHub', currentHub); //   unmount()

      changeCurrentHub(currentHub);
    } else {
      currentHubRef.current = currentHub;
    }
  }, [currentHub]);
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if (prototypesDone) {
      setAnimation(sceneNameRef.current, 'set');
    }
  }, [prototypesDone]);
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    sceneNameRef.current = sceneName;
  }, [sceneName]);
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    selectedItemRef.current = selectedItem;
  }, [selectedItem]);

  function changeCurrentHub(currentHub) {
    setAnimation(sceneNameRef.current, 'clear');
    var ss = scenes.find(function (i) {
      return i.name === 'BuildingArea';
    });
    var sInside = scenes.find(function (i) {
      return i.name === 'IndoorArea';
    });
    Object(_utils_ThreeTool__WEBPACK_IMPORTED_MODULE_7__["disposeObjects"])(ss.scene);
    _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Building"].dispose();
    _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Floor"].disposeFloor();
    Object(_utils_ThreeTool__WEBPACK_IMPORTED_MODULE_7__["disposeObjects"])(sInside.scene); // disposeLights(scenes[2].scene)

    initScene('change');
    backToHome(); //    setToScene('BuildingArea')
  }

  function unmount() {
    unListenEventListener(); //   window.removeEventListener('resize', onWindowResize)
    // Scene.scenes.forEach((scene: any) => {
    //   scene.clearObjects()
    // })

    _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Scene"].scenes = [];
    setSceneName('');
    sceneNow = undefined;
    cancelAnimationFrame(raf);
    var ss = scenes.find(function (i) {
      return i.name === 'BuildingArea';
    });
    _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Building"].dispose();
    _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Floor"].disposeFloor();
    _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["BigRobot"].dispose();
    scenes.forEach(function (item) {
      var scene = item.scene;
      Object(_utils_ThreeTool__WEBPACK_IMPORTED_MODULE_7__["disposeObjects"])(scene);
    }); // disposeObjects(scenes[2].scene)
    //  disposeLights(scenes[2].scene)

    clearRenderer(rendererNow);
    clearState();
  }

  function unListenEventListener() {
    var _document$getElementB;

    window.removeEventListener('pointermove', Object(lodash__WEBPACK_IMPORTED_MODULE_6__["throttle"])(onmousemove, 100));
    (_document$getElementB = document.getElementById('big-3dScene')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.removeEventListener('pointerup', onPointerUp);
    window.removeEventListener('resize', onWindowResize);
  }

  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if (bigRobotItem) {
      setToScene('RobotExhibit'); //   setBigRobotItem(undefined)
    }
  }, [bigRobotItem]);

  var closeControlModal = function closeControlModal() {
    setSelectedItem(undefined);
  };

  function onWindowResize() {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
    composer.setSize(window.innerWidth, window.innerHeight);
  }

  var buildingClick = function buildingClick(event) {
    var meshs = [];
    var build = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Building"].buildings.find(function (i) {
      return i.name === 'centerBuilding';
    });

    if (build) {
      if (event.button === 0) {
        var mesh = build.object;
        _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Building"].buildings.forEach(function (item) {
          meshs.push(item.object);
        });
        var intersects = raycaster.intersectObjects(meshs, true);

        if (intersects.length > 0) {
          if (intersects[0].object === mesh) {
            setToScene('IndoorArea');
          }
        }
      }
    }
  };

  function onmousemove(event) {
    mouse.x = event.clientX / renderer.domElement.clientWidth * 2 - 1;
    mouse.y = -(event.clientY / renderer.domElement.clientHeight) * 2 + 1;
    var scenename = sceneNameRef.current;

    switch (scenename) {
      case 'BuildingArea':
        onMouseBuilding();
        break;

      case 'IndoorArea':
        onMouseRobot();
        break;

      default:
        null;
    }
  }

  function onPointerUp(event) {
    mouse.x = event.clientX / renderer.domElement.clientWidth * 2 - 1;
    mouse.y = -(event.clientY / renderer.domElement.clientHeight) * 2 + 1;
    var scenename = sceneNameRef.current;

    switch (scenename) {
      case 'BuildingArea':
        buildingClick(event);
        break;

      case 'IndoorArea':
        // InteriorListener({
        //   robots,
        //   camera,
        //   controls,
        //   event,
        //   raycaster,
        //   selectedItem: selectedItemRef.current,
        //   pointerSelected,
        //   renderer: rendererNow,
        //   addUpdates: addUpdateFun,
        // })
        //   robotClick(event)
        break;

      default:
        null;
    }
  }

  var init = function init() {
    initScene();
    stats = Object(three_examples_jsm_libs_stats_module_js__WEBPACK_IMPORTED_MODULE_9__["default"])();

    if (true) {
      var _document$getElementB2;

      (_document$getElementB2 = document.getElementById('big-3dScene')) === null || _document$getElementB2 === void 0 ? void 0 : _document$getElementB2.appendChild(stats.domElement);
    }
  };

  var setScreen = function setScreen() {
    if (renderer) {
      var _document$getElementB3, _document$getElementB4;

      (_document$getElementB3 = document.getElementById('big-3dScene')) === null || _document$getElementB3 === void 0 ? void 0 : _document$getElementB3.appendChild(renderer.domElement);
      window.addEventListener('pointermove', Object(lodash__WEBPACK_IMPORTED_MODULE_6__["throttle"])(onmousemove, 100));
      (_document$getElementB4 = document.getElementById('big-3dScene')) === null || _document$getElementB4 === void 0 ? void 0 : _document$getElementB4.addEventListener('pointerup', onPointerUp);
      window.addEventListener('resize', onWindowResize);
      animate();
    }
  };

  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if (renderer) {
      rendererNow = renderer;
      init();
      setScreen();
    }
  }, [renderer]);

  function clearRenderer(renderer) {
    renderer.dispose(); //   renderer.forceContextLoss()
    // renderer.context = null
    // renderer.domElement = null

    renderer = null;
  }

  function getObjects(value, name) {
    var item = scenes.find(function (i) {
      return i.name === name;
    });
    item.objects.push(value);
  }

  function initScene() {
    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'initial';
    var length = scenes.length;

    if (value === 'change') {
      length = scenes.length - 1;
    }

    for (var i = 0; i < length; i += 1) {
      var item = scenes[i];

      if (!item.scene) {
        var scene = new three__WEBPACK_IMPORTED_MODULE_5__["Scene"]();
        scene.background = new three__WEBPACK_IMPORTED_MODULE_5__["Color"](0x272727);
        item.scene = scene;
      }

      item.fn({
        renderer: renderer,
        camera: camera,
        controls: controls,
        scene: item.scene,
        composer: composer,
        currentHub: currentHubRef.current,
        addObjects: getObjects,
        addUpdates: addUpdateFun
      });
    }

    setToScene('BuildingArea');
    listenVisible();
  }

  function pointerSelected(item) {
    setSelectedItem(item);
  }

  function addUpdateFun(callback, sceneName) {
    var item = scenes.find(function (i) {
      return i.name === sceneName;
    });
    item.updates.push(callback);
  }

  function onMouseRobot() {
    var robot = checkRobotItem();

    if (robot) {
      Object(_components_tools_painter__WEBPACK_IMPORTED_MODULE_12__["showrobotInfoWindow"])(robot);
    } else {
      Object(_components_tools_painter__WEBPACK_IMPORTED_MODULE_12__["clearrobotInfoWindow"])();
    }
  }

  function setAnimation(sceneName, action) {
    console.log('setAnimation');
    Object(_components_index__WEBPACK_IMPORTED_MODULE_8__["animationControl"])({
      sceneName: sceneName,
      socket: socket,
      robots: robots,
      prototypes: prototypes,
      currentHub: currentHubRef.current,
      action: action
    });
  }

  function checkRobotItem() {
    var objects = [];
    _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Floor"].traverse(function (floor) {
      objects = objects.concat(floor.robotsObject.children);
    });
    var checkValue;

    function checkParent(object, robotItem) {
      if (object.parent) {
        if (object.parent === robotItem) {
          checkValue = object.parent;
        } else {
          checkParent(object.parent, robotItem);
        }
      } else {
        return false;
      }
    }

    var intersects = raycaster.intersectObjects(sceneNow.children, true);

    if (intersects.length > 0) {
      for (var item in robots) {
        if (Object.prototype.hasOwnProperty.call(robots, item)) {
          var robotItem = robots[item];

          if (robots[item].object) {
            checkParent(intersects[0].object, robotItem.object);

            if (checkValue) {
              return robots[item];
            }
          }
        }
      }
    }

    return false;
  }

  function listenVisible() {
    document.addEventListener('visibilitychange', function () {
      // 页面变为不可见时触发
      if (document.visibilityState === 'hidden') {
        clear(sceneNameRef.current);
      } // 页面变为可见时触发


      if (document.visibilityState === 'visible') {
        setAnimation(sceneNameRef.current, 'set'); //      connectSocket(sceneNameRef.current)
      }
    });
  }

  function drawRobotPointer(robot) {
    var pointer = robot.object.children.find(function (i) {
      return i.name === 'pointer';
    });

    if (!pointer) {
      var p = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Pointer"]({});
      p.setPosition(90);
      p.object.parent = robot.object;
      robot.object.children.push(p.object); // sceneNow.add(p.object)

      mouseSelected.current = p;
    }
  }

  function clearRobotPointer() {
    if (mouseSelected.current && !selectedItem) {
      var pointer = mouseSelected.current;

      if (pointer) {
        var robot = pointer.object.parent;
        var index = robot.children.indexOf(pointer.object);
        robot.remove(pointer.object); // robot.children.splice(index,1)

        pointer.dispose();
        mouseSelected.current = undefined;
      }
    }
  }

  function onMouseBuilding() {
    var build = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Building"].buildings.find(function (build) {
      return build.name === 'centerBuilding';
    });

    if (build) {
      var mesh = build.object;
      var intersects = raycaster.intersectObjects([mesh]);

      if (intersects.length > 0) {
        if (intersects[0].object === mesh) {
          var originColor = {};
          mesh.material.color.getHSL(originColor);
          var color = new three__WEBPACK_IMPORTED_MODULE_5__["Color"]();
          color.setHSL(originColor.h, originColor.s, 1);
          mesh.material.color = color;
        }
      } else {
        mesh.material.color = new three__WEBPACK_IMPORTED_MODULE_5__["Color"](0x5adbc9);
      }
    }
  }

  function animate() {
    raf = requestAnimationFrame(animate);
    controls.update(); // only required if controls.enableDamping = true, or if controls.autoRotate = true

    raycaster.setFromCamera(mouse, camera);
    raycasterClick.setFromCamera(mouse, camera);
     true && stats.update();
    renderer.render(sceneNow, camera);
    var delta = clock.getDelta();

    for (var item in robots) {
      if (robots[item].mixer) {
        robots[item].mixer.update(delta);
      }
    }

    if (sceneNameRef.current === 'BuildingArea') {
      var _robots = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["OutdoorArea"].outdoorArea.robots;

      for (var _item in _robots) {
        if (_robots[_item].mixer) {
          _robots[_item].mixer.update(delta);
        }
      }
    }

    var sceneItem = scenes.find(function (i) {
      return i.name === sceneNameRef.current;
    });

    if (sceneItem) {
      sceneItem.updates.forEach(function (fn) {
        fn();
      });
    }
  }

  function cameraControl(sceneName) {
    var currentHub = currentHubRef.current;
    console.log(currentHub);

    switch (sceneName) {
      case 'IndoorArea':
        controls.enablePan = true;

        if (currentHub.id === 'e90d7310-959c-4948-bf09-c67e93600848') {
          camera.position.set(200, 1400, 3100);
        } else {
          camera.position.set(900, 3400, 6100);
        }

        controls.target.set(0, 250, 0);
        controls.maxDistance = Infinity;
        break;

      case 'BuildingArea':
        controls.enablePan = true;
        controls.autoRotateSpeed = 1;
        controls.autoRotate = true;
        _utils_eventBus__WEBPACK_IMPORTED_MODULE_11__["default"].emit('setThreeViewIconSwitch', true);
        setAutoRotate(true);
        controls.maxDistance = 4000;

        if (currentHub.id === 'e90d7310-959c-4948-bf09-c67e93600848') {
          camera.position.set(1000, 280, 1000);
        } else {
          camera.position.set(500, 180, 500);
        }

        controls.target.set(0, 0, 0);
        break;

      case 'RobotExhibit':
        camera.fov = 45;
        controls.enablePan = false;
        controls.autoRotateSpeed = 2;
        camera.position.set(30, 4, 0);
        controls.target.set(0, 0, 0);
        controls.maxDistance = 200;
        break;

      default:
        null;
    }
  }

  function setToScene(value) {
    var item = scenes.find(function (i) {
      return i.name === value;
    });

    if (value !== sceneName) {
      sceneNow = item.scene;
      setSceneName(item.name);
      cameraControl(item.name);

      if (item.name === 'IndoorArea') {
        setAnimation(value, 'set');
        setBigRobotItem(undefined);
      } else if (value === 'BuildingArea') {
        setAnimation(value, 'set');
        setBigRobotItem(undefined);
      } else {
        clear(sceneName); //   setAnimation(value, 'clear')
      }
    }
  }

  function backToHome() {
    if (sceneName === 'BuildingArea') {
      cameraControl('BuildingArea');
    } else {
      setToScene('BuildingArea');
      setDisplayWindow(false);
    }
  }

  function clear(sceneName) {
    robots = {};
    setAnimation(sceneName, 'clear'); // unlistenSockets('leave')

    if (sceneName === 'IndoorArea') {
      _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Floor"].traverse(function (floor) {
        floor.clearMachines();
      });
    } else if (sceneName === 'BuildingArea') {
      _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["OutdoorArea"].outdoorArea.clearMachines();
    }
  }

  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    console.log(controls, autoRotate);

    if (controls) {
      controls.autoRotate = autoRotate;
    }
  }, [autoRotate]);

  var handleAutoRotate = function handleAutoRotate() {
    setAutoRotate(!autoRotate);
  };

  var activateScreen = function activateScreen() {
    setShowScene(true);
    Object(_components_index__WEBPACK_IMPORTED_MODULE_8__["GetMachineObject"])({
      setMachineObjects: setMachineObjects
    });
    initSceneSetter();
  };

  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if (menuKey === _models_screen__WEBPACK_IMPORTED_MODULE_14__["ScreenMenuKeyEnum"].autoRotate) {
      handleAutoRotate();
    }

    if (menuKey === _models_screen__WEBPACK_IMPORTED_MODULE_14__["ScreenMenuKeyEnum"].backHome) {
      backToHome();
    } // eslint-disable-next-line react-hooks/exhaustive-deps

  }, [menuKey, menuCount]);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_15__["jsxDEV"])(react__WEBPACK_IMPORTED_MODULE_3__["Fragment"], {
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_15__["jsxDEV"])("div", {
      className: _index_less_modules__WEBPACK_IMPORTED_MODULE_13___default.a['big-3dScene'],
      id: "big-3dScene"
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 617,
      columnNumber: 7
    }, _this), !showScene && {"UMI_ENV":"prod","REACT_APP_LOCAL_HOST":"http://localhost:8088","REACT_APP_ENV":"development","REACT_APP_NAME":"开发环境（生产api）","REACT_APP_HOST":"http://localhost:8088","REACT_APP_API":"https://api.ctirobot.com","REACT_APP_TOKEN":"Basic UFlpWGJtOWRpTUp5YnJoTjptamtCQWFwdGs5UE1qaXlw"}.UMI_ENV !== 'deploy' ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_15__["jsxDEV"])("div", {
      className: _index_less_modules__WEBPACK_IMPORTED_MODULE_13___default.a['scene-but'],
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_15__["jsxDEV"])(antd_es_button__WEBPACK_IMPORTED_MODULE_1__["default"], {
        onClick: activateScreen,
        children: "\u5F00\u542F3d\u5730\u56FE\u754C\u9762"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 620,
        columnNumber: 11
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 619,
      columnNumber: 9
    }, _this) : null, sceneName === 'RobotExhibit' ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_15__["jsxDEV"])(_components_index__WEBPACK_IMPORTED_MODULE_8__["RobotDisplay"], {
      bigRobotItem: bigRobotItem,
      camera: camera,
      controls: controls
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 624,
      columnNumber: 9
    }, _this) : null, sceneName === 'IndoorArea' ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_15__["jsxDEV"])(_components_index__WEBPACK_IMPORTED_MODULE_8__["FloorDisplay"], {
      currentHub: currentHub
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 627,
      columnNumber: 37
    }, _this) : null, selectedItem && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_15__["jsxDEV"])(_components_index__WEBPACK_IMPORTED_MODULE_8__["DeviceControlPanel"], {
      selectedItem: selectedItem,
      closeControlModal: closeControlModal
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 629,
      columnNumber: 9
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 616,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps(_ref) {
  var sceneSetter = _ref.sceneSetter,
      mqtt = _ref.mqtt,
      user = _ref.user,
      screen = _ref.screen;
  return {
    renderer: sceneSetter.renderer,
    camera: sceneSetter.camera,
    controls: sceneSetter.controls,
    scenes: sceneSetter.scenes,
    composer: sceneSetter.composer,
    socket: mqtt.socket,
    currentHub: user.currentHub,
    menuKey: screen.menuKey,
    menuCount: screen.menuCount
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    initSceneSetter: function initSceneSetter() {
      dispatch({
        type: 'sceneSetter/initSceneSetter'
      });
    },
    clearState: function clearState() {
      dispatch({
        type: 'sceneSetter/clearState'
      });
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(umi__WEBPACK_IMPORTED_MODULE_4__["connect"])(mapStateToProps, mapDispatchToProps)(ThreeScene));

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/assets/LineMaterial.js":
/*!**************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/assets/LineMaterial.js ***!
  \**************************************************************************/
/*! exports provided: LineMaterial */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LineMaterial", function() { return LineMaterial; });
/* harmony import */ var three_build_three_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three/build/three.js */ "./node_modules/three/build/three.js");
/* harmony import */ var three_build_three_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three_build_three_js__WEBPACK_IMPORTED_MODULE_0__);

three_build_three_js__WEBPACK_IMPORTED_MODULE_0__["UniformsLib"].line = {
  worldUnits: {
    value: 1
  },
  linewidth: {
    value: 1
  },
  resolution: {
    value: new three_build_three_js__WEBPACK_IMPORTED_MODULE_0__["Vector2"](1, 1)
  },
  dashScale: {
    value: 1
  },
  dashSize: {
    value: 1
  },
  gapSize: {
    value: 1
  } // todo FIX - maybe change to totalSize

};
three_build_three_js__WEBPACK_IMPORTED_MODULE_0__["ShaderLib"]['line'] = {
  uniforms: three_build_three_js__WEBPACK_IMPORTED_MODULE_0__["UniformsUtils"].merge([three_build_three_js__WEBPACK_IMPORTED_MODULE_0__["UniformsLib"].common, three_build_three_js__WEBPACK_IMPORTED_MODULE_0__["UniformsLib"].fog, three_build_three_js__WEBPACK_IMPORTED_MODULE_0__["UniformsLib"].line]),
  vertexShader: "\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\t\tvarying vec2 vUv;\n\t\tvarying vec4 worldPos;\n\t\tvarying vec3 worldStart;\n\t\tvarying vec3 worldEnd;\n\t\t#ifdef USE_DASH\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\t\t#endif\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\t\t}\n\t\tvoid main() {\n\t\t\t#ifdef USE_COLOR\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\t\t\t#endif\n\t\t\t#ifdef USE_DASH\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\t\t\t#endif\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\t\t\tvUv = uv;\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\t\t\tworldStart = start.xyz;\n\t\t\tworldEnd = end.xyz;\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\t\t\tif ( perspective ) {\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\t\t\t\t\ttrimSegment( start, end );\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\t\t\t\t\ttrimSegment( end, start );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\t\t\t// ndc space\n\t\t\tvec3 ndcStart = clipStart.xyz / clipStart.w;\n\t\t\tvec3 ndcEnd = clipEnd.xyz / clipEnd.w;\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd.xy - ndcStart.xy;\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\t\t\t#ifdef WORLD_UNITS\n\t\t\t\t// get the offset direction as perpendicular to the view vector\n\t\t\t\tvec3 worldDir = normalize( end.xyz - start.xyz );\n\t\t\t\tvec3 offset;\n\t\t\t\tif ( position.y < 0.5 ) {\n\t\t\t\t\toffset = normalize( cross( start.xyz, worldDir ) );\n\t\t\t\t} else {\n\t\t\t\t\toffset = normalize( cross( end.xyz, worldDir ) );\n\t\t\t\t}\n\t\t\t\t// sign flip\n\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\t\t\t\tfloat forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );\n\t\t\t\t// don't extend the line if we're rendering dashes because we\n\t\t\t\t// won't be rendering the endcaps\n\t\t\t\t#ifndef USE_DASH\n\t\t\t\t\t// extend the line bounds to encompass  endcaps\n\t\t\t\t\tstart.xyz += - worldDir * linewidth * 0.5;\n\t\t\t\t\tend.xyz += worldDir * linewidth * 0.5;\n\t\t\t\t\t// shift the position of the quad so it hugs the forward edge of the line\n\t\t\t\t\toffset.xy -= dir * forwardOffset;\n\t\t\t\t#endif\n\t\t\t\t// endcaps\n\t\t\t\tif ( position.y > 1.0 || position.y < 0.0 ) {\n\t\t\t\t\toffset.xy += dir * 2.0 * forwardOffset;\n\t\t\t\t}\n\t\t\t\t// adjust for linewidth\n\t\t\t\toffset *= linewidth * 0.5;\n\t\t\t\t// set the world position\n\t\t\t\tworldPos = ( position.y < 0.5 ) ? start : end;\n\t\t\t\tworldPos.xyz += offset;\n\t\t\t\t// project the worldpos\n\t\t\t\tvec4 clip = projectionMatrix * worldPos;\n\t\t\t\t// shift the depth of the projected points so the line\n\t\t\t\t// segements overlap neatly\n\t\t\t\tvec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;\n\t\t\t\tclip.z = clipPose.z * clip.w;\n\t\t\t#else\n\t\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\t\t\t\t// undo aspect ratio adjustment\n\t\t\t\tdir.x /= aspect;\n\t\t\t\toffset.x /= aspect;\n\t\t\t\t// sign flip\n\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\t\t\t\t// endcaps\n\t\t\t\tif ( position.y < 0.0 ) {\n\t\t\t\t\toffset += - dir;\n\t\t\t\t} else if ( position.y > 1.0 ) {\n\t\t\t\t\toffset += dir;\n\t\t\t\t}\n\t\t\t\t// adjust for linewidth\n\t\t\t\toffset *= linewidth;\n\t\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\t\toffset /= resolution.y;\n\t\t\t\t// select end\n\t\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\t\t\t\t// back to clip space\n\t\t\t\toffset *= clip.w;\n\t\t\t\tclip.xy += offset;\n\t\t\t#endif\n\t\t\tgl_Position = clip;\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\t\t}\n\t\t",
  fragmentShader: "\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\t\tuniform float linewidth;\n\t\t#ifdef USE_DASH\n\t\t\tuniform float dashSize;\n\t\t\tuniform float gapSize;\n\t\t#endif\n\t\tvarying float vLineDistance;\n\t\tvarying vec4 worldPos;\n\t\tvarying vec3 worldStart;\n\t\tvarying vec3 worldEnd;\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\t\tvarying vec2 vUv;\n\t\tvec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {\n\t\t\tfloat mua;\n\t\t\tfloat mub;\n\t\t\tvec3 p13 = p1 - p3;\n\t\t\tvec3 p43 = p4 - p3;\n\t\t\tvec3 p21 = p2 - p1;\n\t\t\tfloat d1343 = dot( p13, p43 );\n\t\t\tfloat d4321 = dot( p43, p21 );\n\t\t\tfloat d1321 = dot( p13, p21 );\n\t\t\tfloat d4343 = dot( p43, p43 );\n\t\t\tfloat d2121 = dot( p21, p21 );\n\t\t\tfloat denom = d2121 * d4343 - d4321 * d4321;\n\t\t\tfloat numer = d1343 * d4321 - d1321 * d4343;\n\t\t\tmua = numer / denom;\n\t\t\tmua = clamp( mua, 0.0, 1.0 );\n\t\t\tmub = ( d1343 + d4321 * ( mua ) ) / d4343;\n\t\t\tmub = clamp( mub, 0.0, 1.0 );\n\t\t\treturn vec2( mua, mub );\n\t\t}\n\t\tvoid main() {\n\t\t\t#include <clipping_planes_fragment>\n\t\t\t#ifdef USE_DASH\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\t\t\t\tif ( mod( vLineDistance, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\t\t\t#endif\n\t\t\t#ifdef WORLD_UNITS\n\t\t\t\t// Find the closest points on the view ray and the line segment\n\t\t\t\tvec3 rayEnd = normalize( worldPos.xyz ) * 1e5;\n\t\t\t\tvec3 lineDir = worldEnd - worldStart;\n\t\t\t\tvec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );\n\t\t\t\tvec3 p1 = worldStart + lineDir * params.x;\n\t\t\t\tvec3 p2 = rayEnd * params.y;\n\t\t\t\tvec3 delta = p1 - p2;\n\t\t\t\tfloat len = length( delta );\n\t\t\t\tfloat norm = len / linewidth;\n\t\t\t\t#ifndef USE_DASH\n\t\t\t\t\tif (norm > 0.5) discard;\n\t\t\t\t#endif\n\t\t\t#else\n\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\t\t\t\t\tfloat a = vUv.x;\n\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\t\tfloat len2 = a * a + b * b;\n\t\t\t\t\tif ( len2 > 1.0 ) discard;\n\t\t\t\t}\n\t\t\t#endif\n\t\t\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, diffuseColor.a );\n\t\t\t#include <premultiplied_alpha_fragment>\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\t\t}\n\t\t"
};

var LineMaterial = function LineMaterial(parameters) {
  three_build_three_js__WEBPACK_IMPORTED_MODULE_0__["ShaderMaterial"].call(this, {
    type: 'LineMaterial',
    uniforms: three_build_three_js__WEBPACK_IMPORTED_MODULE_0__["UniformsUtils"].clone(three_build_three_js__WEBPACK_IMPORTED_MODULE_0__["ShaderLib"]['line'].uniforms),
    vertexShader: three_build_three_js__WEBPACK_IMPORTED_MODULE_0__["ShaderLib"]['line'].vertexShader,
    fragmentShader: three_build_three_js__WEBPACK_IMPORTED_MODULE_0__["ShaderLib"].line.fragmentShader
  });
  this.dashed = false;
  Object.defineProperties(this, {
    color: {
      enumerable: true,
      get: function get() {
        return this.uniforms.diffuse.value;
      },
      set: function set(value) {
        this.uniforms.diffuse.value = value;
      }
    },
    worldUnits: {
      enumerable: true,
      get: function get() {
        return 'WORLD_UNITS' in this.defines;
      },
      set: function set(value) {
        if (value === true) {
          this.defines.WORLD_UNITS = '';
        } else {
          delete this.defines.WORLD_UNITS;
        }
      }
    },
    linewidth: {
      enumerable: true,
      get: function get() {
        return this.uniforms.linewidth.value;
      },
      set: function set(value) {
        this.uniforms.linewidth.value = value;
      }
    },
    dashScale: {
      enumerable: true,
      get: function get() {
        return this.uniforms.dashScale.value;
      },
      set: function set(value) {
        this.uniforms.dashScale.value = value;
      }
    },
    dashSize: {
      enumerable: true,
      get: function get() {
        return this.uniforms.dashSize.value;
      },
      set: function set(value) {
        this.uniforms.dashSize.value = value;
      }
    },
    gapSize: {
      enumerable: true,
      get: function get() {
        return this.uniforms.gapSize.value;
      },
      set: function set(value) {
        this.uniforms.gapSize.value = value;
      }
    },
    resolution: {
      enumerable: true,
      get: function get() {
        return this.uniforms.resolution.value;
      },
      set: function set(value) {
        this.uniforms.resolution.value.copy(value);
      }
    }
  });
  this.setValues(parameters);
};

LineMaterial.prototype = Object.create(three_build_three_js__WEBPACK_IMPORTED_MODULE_0__["ShaderMaterial"].prototype);
LineMaterial.prototype.constructor = LineMaterial;
LineMaterial.prototype.isLineMaterial = true;

LineMaterial.prototype.copy = function (source) {
  three_build_three_js__WEBPACK_IMPORTED_MODULE_0__["ShaderMaterial"].prototype.copy.call(this, source);
  this.color.copy(source.color);
  this.linewidth = source.linewidth;
  this.resolution = source.resolution; // todo

  return this;
};



/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/controls/XuzhouRobotsAnimation.ts":
/*!************************************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/controls/XuzhouRobotsAnimation.ts ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RobotsAnimation; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2 */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../models/threeModels/index */ "./src/pages/BigScreen/models/threeModels/index.ts");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _services_api_aurora_screen_indoor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/services/api/aurora/screen-indoor */ "./src/services/api/aurora/screen-indoor.ts");
/* harmony import */ var three_examples_jsm_lines_LineGeometry_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! three/examples/jsm/lines/LineGeometry.js */ "./node_modules/three/examples/jsm/lines/LineGeometry.js");
/* harmony import */ var _assets_LineMaterial_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../assets/LineMaterial.js */ "./src/pages/BigScreen/components/ThreeScene/assets/LineMaterial.js");
/* harmony import */ var three_examples_jsm_lines_Line2_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! three/examples/jsm/lines/Line2.js */ "./node_modules/three/examples/jsm/lines/Line2.js");
/* harmony import */ var _utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../utils/CoordinateTool */ "./src/pages/BigScreen/utils/CoordinateTool.ts");












var outdoorRobots = [{
  id: '310',
  name: '阳光环卫#310车',
  robotType: 'SRST10',
  coordinates: [680, 120, 0, Math.PI / 2],
  radian: Math.PI / 2,
  floorId: '5967eed7-1420-46cf-9210-ca2fa088e98b',
  hive: true
}, {
  id: '306',
  name: '阳光环卫#306车',
  robotType: 'SRST10',
  coordinates: [580, 130, 0, Math.PI / 2],
  radian: Math.PI / 2,
  floorId: '5967eed7-1420-46cf-9210-ca2fa088e98b',
  hive: true
}, {
  id: '307',
  name: '阳光环卫#307车',
  robotType: 'SRST10',
  coordinates: [310, 140, 0, Math.PI / 2],
  radian: Math.PI / 2,
  floorId: '5967eed7-1420-46cf-9210-ca2fa088e98b',
  hive: true
}, {
  id: '206',
  name: '阳光#206车',
  robotType: 'SRG020',
  coordinates: [-970, 250, 0, Math.PI / 2],
  radian: Math.PI / 2 - 0.7,
  floorId: '5967eed7-1420-46cf-9210-ca2fa088e98b',
  hive: false
}];
function RobotsAnimation(_ref) {
  var robots = _ref.robots,
      socket = _ref.socket,
      currentHub = _ref.currentHub,
      prototypes = _ref.prototypes,
      stop = _ref.stop;
  var robotFloorDataBefore = null;
  var hiveDatas = {};
  var robotObject = prototypes.candleLight;
  var hiveObject = prototypes.hiveDelivery6; // let hiveObject:any

  var init = function init() {
    if (robotObject) {
      _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["Floor"].traverse(function (floor) {
        floor.clearMachines(); //     robotFloorDataBefore = undefined
      });
      robotFloorDataBefore = null;
      getDatas();
    }

    var baseRobotUrl = '/robot-info-production/';
    var baseHiveUrl = '/hive-info-production/';
    robotSocet(baseRobotUrl + currentHub.id + '/#');
    hiveSocket(baseHiveUrl + currentHub.id + '/#'); //  getInitialData(floors)
  };

  function setdOutdoorRobot() {
    for (var i = 0; i < outdoorRobots.length; i += 1) {
      var item = outdoorRobots[i];
      var robot = null;

      var _robotObject = checkRobotType(item.robotType);

      robot = _robotObject.clone();
      robot.name = item.name;
      robot.userData.type = 'robot';
      var floor = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["Floor"].floors[item.floorId];
      var geo = item.coordinates;
      setRobotPosition(robot, geo);
      robot.rotateY(item.coordinates[3]);
      var name = item.name,
          id = item.id,
          coordinates = item.coordinates;
      var insiderobot = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["InsideRobot"]({
        name: name,
        id: id,
        position: geo,
        radian: coordinates[3],
        floorName: floor.floorName
      });
      insiderobot.object = robot; //  robots[item.id] = { ...item, object: robot }

      insiderobot.setSprite(item);
      insiderobot.drawEdgeLine(robot);
      floor.addRobotItem(insiderobot);

      if (item.hive) {
        var prototypeObject = checkHiveType('CLEANING');
        var hive = prototypeObject.clone();
        hive.rotateY(Math.PI / 2); // robot.add(hive)

        hive.parent = robot;
        hive.machineType = 'CLEANING';
        robot.children.push(hive);
      }
    }
  }

  function getDatas() {
    return _getDatas.apply(this, arguments);
  }

  function _getDatas() {
    _getDatas = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {
      var _yield$getRobotsData, data, sumDatas;

      return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return Object(_services_api_aurora_screen_indoor__WEBPACK_IMPORTED_MODULE_7__["getRobotsData"])({
                hubId: currentHub.id,
                deleted: false,
                pageSize: 100
              });

            case 2:
              _yield$getRobotsData = _context.sent;
              data = _yield$getRobotsData.data;
              sumDatas = [];
              console.log(data);
              setdOutdoorRobot();
              _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["Floor"].traverse(function (floor) {
                //
                var robotDatas = data.filter(function (item, index) {
                  if (item.floorId) {
                    return checkRobotStatus(item.operationStatus) && item.floorId === floor.id;
                  }

                  return null;
                });
                sumDatas = sumDatas.concat(robotDatas); // console.log(robotDatas)

                robotDatas.forEach(function (item, index) {
                  if (checkRobotStatus(item.operationStatus) && item.floorId === floor.id && item.indoor) {
                    addInitialRobot(item, floor);
                  }
                });
              });
              robotFloorDataBefore = [].concat(sumDatas);

            case 9:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));
    return _getDatas.apply(this, arguments);
  }

  function hiveSocket(topicOfHiveOnFloor) {
    if (socket) {
      socket.send(topicOfHiveOnFloor);
      socket.listen(topicOfHiveOnFloor, Object(lodash__WEBPACK_IMPORTED_MODULE_5__["throttle"])(function (data) {
        if (hiveObject) {
          _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["Floor"].traverse(function (floor) {
            var items = data.filter(function (i) {
              if (i.floorId) {
                return i.floorId === floor.id;
              }

              return null;
            });
            hiveDatas[floor.id] = items;
          }); //        hiveDatas[floor.floorName] = data
        }
      }, 500));
    }
  }

  function robotSocet(topicOfRobotOnFloor) {
    if (socket) {
      socket.send(topicOfRobotOnFloor);
      socket.listen(topicOfRobotOnFloor, Object(lodash__WEBPACK_IMPORTED_MODULE_5__["throttle"])(function (data) {
        if (robotObject && hiveObject && robotFloorDataBefore) {
          //     console.log(data,data[0].updateTime)
          data.forEach(function (item) {
            if (item.floorId && item.indoor) {
              var floor = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["Floor"].floors[item.floorId];
              floor && robotControl(item);
            } else {// robotControl(item)
            }
          });
        }
      }, 500));
    }
  }

  function robotControl(item) {
    if (!item.coordinates) {
      return null;
    }

    var itemBefore = robotFloorDataBefore.find(function (i) {
      return i.id === item.id;
    });
    var floor;

    if (!item.floorId) {
      floor = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["Floor"].floors['d822a410-efe4-4589-bc69-06974c9050e0'];
    } else {
      floor = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["Floor"].floors[item.floorId];
    }

    if (!itemBefore) {
      addRobot(item, floor);
      robotFloorDataBefore.push(item);
      return null;
    }

    if (!itemBefore.floorId) {
      console.log(_models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["Floor"].floors[itemBefore.floorId], _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["Floor"].floors, itemBefore.name, itemBefore);
    }

    if (item.floorId && checkChangeFloor(itemBefore, item)) {
      removeRobot(item, _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["Floor"].floors[itemBefore.floorId]);
      addRobot(item, floor);
    } //    const geo = calMapOriginDeviation(item.coordinates, floor)


    var robotItem = robots[item.id];
    var robot = robotItem.object; //   console.log(robots,robot)

    if (itemBefore) {
      var geo;
      var geoB;
      var angles = [];

      if (!item.indoor) {
        //     geo = calMapOriginDeviation(item.coordinates, floor)
        var cc = calMapOutdoorDeviation(item, floor);
        geo = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__["calMapOriginDeviation"])(cc, floor);
        var ccB = calMapOutdoorDeviation(itemBefore, floor);
        geoB = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__["calMapOriginDeviation"])(ccB, floor);
        angles = [itemBefore.coordinates[3] + Math.PI, item.coordinates[3] + Math.PI];
      } else {
        geo = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__["calMapOriginDeviation"])(item.coordinates, floor);
        geoB = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__["calMapOriginDeviation"])(itemBefore.coordinates, floor);
        angles = [itemBefore.coordinates[3], item.coordinates[3]];
      } //  const angles = [itemBefore.coordinates[3], item.coordinates[3]]


      var geos = [geoB[0], 0.1, -geoB[1], geo[0], 0.1, -geo[1]]; // console.log(item.name, geo,geoB,item.location,item)

      if (itemBefore.updateTime) {
        var timeDif = (item.updateTime - itemBefore.updateTime) / 1000;
        checkAnimationAction(item.id, item, robot, angles, geos, [0, timeDif], floor);
      } else {
        var index = robotFloorDataBefore.indexOf(itemBefore);
        index >= 0 && (robotFloorDataBefore[index] = item);
      }
    } // const robotItem = floor.robots[item.id]

  }

  init();

  function calMapOutdoorDeviation(item, floor) {
    var indoorCoor = [-0.7564640011526729, 0.5449893642988224];
    var dd = [-5.998693788802345, 0.9404211764567036]; // console.log(calMapOriginDeviation(dd,floor))

    var a = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__["WSG84TOMercatorCenter"])({
      lng: item.location[1],
      lat: item.location[0]
    }, [117.615940661861, 34.0757245186384]); //   console.log('calIndoor', calMapOriginDeviation(indoorCoor, floor))
    //  console.log('calA', calMapOriginDeviation(a, floor))
    // console.log(
    //   'calTest',
    //   calMapOriginDeviation(
    //     [-0.7564640011526729 + 37.2188834361732, 0.5449893642988224 -1.4902657964266837],
    //     floor,
    //   ),
    // )

    var cc = [indoorCoor[0] - a[0] * 0.83, indoorCoor[1] + a[1] * 0.83]; // console.log('cc,a', cc, a)

    return cc;
  }

  function addInitialRobot(item, floor) {
    var geo;

    if (item.coordinates) {
      if (!item.indoor) {
        //     geo = calMapOriginDeviation(item.coordinates, floor)
        var cc = calMapOutdoorDeviation(item, floor);
        geo = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__["calMapOriginDeviation"])(cc, floor); //    console.log(item.name, geo,item.location)
      } else {
        geo = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__["calMapOriginDeviation"])(item.coordinates, floor);
      } // const geo = calMapOriginDeviation(item.coordinates, floor)


      var robot = null;

      var _robotObject2 = checkRobotType(item.robotType);

      robot = _robotObject2.clone();
      robot.name = item.name;
      robot.userData.type = 'robot';
      setRobotPosition(robot, geo);

      if (!item.indoor) {
        robot.rotateY(item.coordinates[3] + Math.PI);
      } else {
        robot.rotateY(item.coordinates[3]);
      }

      var name = item.name,
          id = item.id,
          coordinates = item.coordinates;
      var insiderobot = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["InsideRobot"]({
        name: name,
        id: id,
        position: geo,
        radian: coordinates[3],
        floorName: floor.floorName,
        battery: item.battery || {},
        speed: item.speed || 0,
        navigationState: item.navigationState || '-',
        cellular: item.cellular || {},
        jackRaised: item.jackRaised || '-',
        clutchDisengaged: item.clutchDisengaged || '-',
        emergencyStopEngaged: item.emergencyStopEngaged || '-'
      });
      insiderobot.object = robot;
      robots[item.id] = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, item), {}, {
        object: robot
      });
      insiderobot.setSprite(item);
      insiderobot.drawEdgeLine(robot);
      floor.addRobotItem(insiderobot);

      if (item.hive) {
        addHive(robot, item.hive);
      }
    }
  }

  function addRobot(item, floor) {
    if (item.coordinates) {
      var geo = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__["calMapOriginDeviation"])(item.coordinates, floor);

      var _robotObject3 = checkRobotType(item.robotType);

      var robot = _robotObject3.clone();

      robot.name = item.name;
      robot.userData.type = 'robot'; // robot.children.push(sprite)

      setRobotPosition(robot, geo);

      if (!item.indoor) {
        robot.rotateY(item.coordinates[3] + Math.PI);
      } else {
        robot.rotateY(item.coordinates[3]);
      } // robots.robotsObject.add(robot)
      // Floor.floors[0].robotsObject.children
      // robots[item.id] = Object.assign({ object: robot }, item)


      robots[item.id] = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, item), {}, {
        object: robot
      });
      var name = item.name,
          id = item.id,
          coordinates = item.coordinates,
          floorName = item.floorName;
      var insiderobot = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["InsideRobot"]({
        name: name,
        id: id,
        position: geo,
        radian: coordinates[3],
        floorName: floorName,
        battery: item.battery || {},
        speed: item.speed || 0,
        navigationState: item.navigationState || '-',
        cellular: item.cellular || {},
        jackRaised: item.jackRaised || '-',
        clutchDisengaged: item.clutchDisengaged || '-',
        emergencyStopEngaged: item.emergencyStopEngaged || '-'
      });
      insiderobot.object = robot;
      insiderobot.setSprite(item);
      insiderobot.drawEdgeLine(robot);
      floor.addRobotItem(insiderobot);

      if (item.hive) {
        addHive(robot, item.hive);
      }
    }
  }

  function checkRobotType(robotType) {
    if (robotType.includes('BR')) {
      return prototypes.candleLight;
    }

    if (robotType.includes('SRG')) {
      return prototypes.sunLight;
    }

    if (robotType.includes('SRS')) {
      return prototypes.sunCleanInside;
    }

    return prototypes.candleLight;
  }

  function checkHiveType(mode) {
    var clone;

    switch (mode) {
      case 'GUIDE':
        return prototypes.hiveGuide;

      case 'STERILIZATION':
        return prototypes.hiveClean;

      case 'PRIVATE_SHARED':
        return prototypes.hiveMedical4;

      case 'CLEANING':
        clone = prototypes.hiveVacuumInside.clone();
        clone.rotateY(-Math.PI / 2);
        return clone;

      default:
        return prototypes.hiveDelivery6;
    }
  }

  function addHive(robot, hiveData) {
    //  if (hiveObject) {
    var prototypeObject = checkHiveType(hiveData.operationMode);
    var hive = prototypeObject.clone();
    hive.rotateY(Math.PI / 2); // robot.add(hive)

    hive.parent = robot;
    hive.name = hiveData.name;
    hive.machineType = hiveData.operationMode;
    robot.children.push(hive); //  }
  }

  function setRobotPosition(object, geo) {
    var x = geo[0];
    var y = 0.1;
    var z = -geo[1];
    object.position.set(x, y, z);
  }

  function removeRobot(item, floor) {
    var robotItem = robots[item.id];
    var object = robotItem.object;
    console.log(item, floor);

    if (floor.robotsObject) {
      floor.robotsObject.remove(object);
    } else {
      console.log(item.name);
    }

    if (robotItem.pathObject) {
      // robots.pathsObject.remove(robotItem.pathObject)
      floor.animationTraceObejct.remove(robotItem.pathObject);
    } // const itemBefore = robotFloorDataBefore.find((i: any) => {
    //   return i.id === item.id
    // })
    // const i = robotFloorDataBefore.indexOf(itemBefore)
    // i && robotFloorDataBefore.splice(i, 1)
    // robots[item.id] = undefined

  }

  function checkChangeFloor(itemBefore, item) {
    if (itemBefore.floorId === item.floorId) {
      return false;
    }

    return true;
  }

  function checkAnimationAction(id, item, object, angles, geos, timeDif, floor) {
    // const item = data.find((i: any) => {
    //   return i.id === id
    // })
    //  const indexI = robotFloorDataBefore.indexOf(item)
    var clipAction = robots[id].clipAction;
    var itemBefore = robotFloorDataBefore.find(function (i) {
      return i.id === id;
    });
    var index = robotFloorDataBefore.indexOf(itemBefore);
    var value1 = checkDataTime(itemBefore.updateTime, item.updateTime);
    var value2 = checkRobotPosDif(itemBefore.coordinates, item.coordinates);

    if (item.name) {
      if (clipAction) {
        if (value1 && value2) {
          if (clipAction.isRunning()) {
            if (robots[id].staging) {
              var stage = {
                robot: object,
                geos: geos,
                angles: angles,
                timeDif: timeDif,
                id: id,
                pathCoordinates: item.pathCoordinates,
                item: item
              };
              robots[id].staging.push(stage);
            } else {
              var _stage = {
                robot: object,
                geos: geos,
                angles: angles,
                timeDif: timeDif,
                id: id,
                pathCoordinates: item.pathCoordinates,
                item: item
              };
              robots[id].staging = [_stage];
            }
          } else {
            var time = moment__WEBPACK_IMPORTED_MODULE_6___default()().format('x');
            animation(object, geos, angles, timeDif, id, floor, item);
          }
        }
      } else {
        animation(object, geos, angles, timeDif, id, floor, item);
      }
    }

    if (robotFloorDataBefore) {
      robotFloorDataBefore[index] = item;
    }

    return {};
  }

  function animation(object, geos, angles, times, id, floor, item) {
    var positionKF = new three__WEBPACK_IMPORTED_MODULE_4__["VectorKeyframeTrack"]('.position', times, geos);
    var yAxis = new three__WEBPACK_IMPORTED_MODULE_4__["Vector3"](0, 1, 0);
    var qInitial = new three__WEBPACK_IMPORTED_MODULE_4__["Quaternion"]().setFromAxisAngle(yAxis, angles[0]);
    var qFinal = new three__WEBPACK_IMPORTED_MODULE_4__["Quaternion"]().setFromAxisAngle(yAxis, angles[1]);
    var quaternionKF = new three__WEBPACK_IMPORTED_MODULE_4__["QuaternionKeyframeTrack"]('.quaternion', [0, 1, 2], [qInitial.x, qInitial.y, qInitial.z, qInitial.w, qFinal.x, qFinal.y, qFinal.z, qFinal.w, qInitial.x, qInitial.y, qInitial.z, qInitial.w]);
    robots[id] = Object.assign(robots[id], item);
    checkHive(item, object, id, floor);
    var clip = new three__WEBPACK_IMPORTED_MODULE_4__["AnimationClip"]('Action', times[1], [positionKF, quaternionKF]); // setup the THREE.AnimationMixer

    var mixer = new three__WEBPACK_IMPORTED_MODULE_4__["AnimationMixer"](object);
    robots[id].mixer = mixer; // create a ClipAction and set it to play
    // let clipAction

    var clipAction = mixer.clipAction(clip);
    clipAction.loop = three__WEBPACK_IMPORTED_MODULE_4__["LoopOnce"];
    clipAction.clampWhenFinished = true;

    if (item.navigationState === 'MOUNTING' || item.navigationState === 'UNMOUNTING') {
      if (robots[id].staging) {
        if (robots[id].staging.length === 1) {
          robots[id].staging = undefined;
        } else {
          robots[id].staging.shift();
        }
      }
    } else {
      clipAction.play();
    }

    drawPathCoordinates(item.pathCoordinates, id, floor);
    robots[id].clipAction = clipAction;
    robots[id].mixer.addEventListener('finished', function fin() {
      if (robots[id].staging) {
        var _robots$id$staging$ = robots[id].staging[0],
            _geos = _robots$id$staging$.geos,
            _angles = _robots$id$staging$.angles,
            timeDif = _robots$id$staging$.timeDif,
            pathCoordinates = _robots$id$staging$.pathCoordinates,
            _item = _robots$id$staging$.item;

        if (robots[id].staging.length === 1) {
          robots[id].staging = undefined;
        } else {
          robots[id].staging.shift();
        }

        animation(object, _geos, _angles, timeDif, id, floor, _item); // let geos = stagingClip
      } else {//   robots[id].mixer.removeEventListener(fin)
        }
    });
  }

  function checkHive(item, robot, id, floor) {
    var hive = robot.children.find(function (obj) {
      // console.log(obj.name,item.name)
      return obj.machineType;
    });

    if (!item.hive) {
      if (hive) {
        //   console.log('卸箱', item, hive)
        unmountHive(robot, hive, floor);

        if (hiveDatas[floor.id]) {
          var ii = hiveDatas[floor.id].find(function (i) {
            return i.name === hive.name;
          });

          if (ii) {
            var x = Math.sin(item.coordinates[3] - Math.PI) * 35;
            var y = Math.cos(item.coordinates[3] - Math.PI) * 35; // let pos = [item.]

            var pos = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__["calMapOriginDeviation"])(item.coordinates, floor);
            var geo = [pos[0] - x, pos[1] + y]; //  geo = calMapOriginDeviation(item.coordinates, floor)
            // const geo = calMapOriginDeviation(ii.coordinates, floor)

            var staticHive = floor.addStaticHive(ii, hive, [geo[0], 0.1, -geo[1]]); //         const sprite = setSprite(ii)
            //       sprite.parent = staticHive
            //      staticHive.children.push(sprite)
          }
        }

        return;
      }
    }

    if (!hive) {
      if (item.hive) {
        addHive(robot, item.hive);
        floor.removeStaticHive(item.hive.id);
      }
    }
  }

  function unmountHive(robot, hive, floor) {
    var index = robot.children.indexOf(hive);
    robot.remove(hive);
  }

  function drawPathCoordinates(pathCoordinates, id, floor) {
    var item = robots[id];

    if (item.pathObject) {
      floor.animationTraceObejct.remove(item.pathObject);
    }

    var geos = [];

    if (pathCoordinates && item) {
      if (pathCoordinates.length > 0) {
        pathCoordinates.forEach(function (coor) {
          var geo = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__["calMapOriginDeviation"])(coor, floor);
          geos.push(geo[0], 1.2, -geo[1]);
        });
        var line2 = drawLine(geos);
        floor.animationTraceObejct.add(line2);
        item.pathObject = line2;
      }
    }
  }

  function drawLine(geos) {
    var geometry = new three_examples_jsm_lines_LineGeometry_js__WEBPACK_IMPORTED_MODULE_8__["LineGeometry"]();
    var matLine = new _assets_LineMaterial_js__WEBPACK_IMPORTED_MODULE_9__["LineMaterial"]({
      color: 0x15e298,
      linewidth: 10,
      // in pixels
      dashed: false,
      worldUnits: true,
      vertexColors: false
    });
    geometry.setPositions(geos);
    var line2 = new three_examples_jsm_lines_Line2_js__WEBPACK_IMPORTED_MODULE_10__["Line2"](geometry, matLine);
    line2.computeLineDistances();
    line2.scale.set(1, 1, 1);
    matLine.resolution.set(window.innerWidth, window.innerHeight);
    line2.renderOrder = 10;
    return line2;
  }

  function checkRobotPosDif(geo, geoBefore) {
    var difx = geo[0] - geoBefore[0];
    var dify = geo[1] - geoBefore[1];
    var difangle = geo[3] - geoBefore[3];

    if (Math.abs(difx) > 0.0000001 || Math.abs(dify) > 0.0000001 || Math.abs(difangle) > 0.000001) {
      return true;
    }

    return false;
  }

  function checkDataTime(startTime, endTime) {
    var time = moment__WEBPACK_IMPORTED_MODULE_6___default()().format('x');
    var timeDif = (endTime - startTime) / 1000;
    var timeIsNow = true;

    if (endTime - Number(time) > 5) {
      timeIsNow = false;
    }

    if (timeDif < 0 || timeDif > 5 || timeDif === 0) {
      return false;
    }

    return true;
  }

  function checkRobotStatus(operationStatus) {
    if (operationStatus === 'OFFLINE' || operationStatus === 'INACTIVE' // operationStatus === 'MAINTENANCE' ||
    //  operationStatus === 'ERROR' ||
    // operationStatus === 'UNKNOWN'
    ) {
        return false;
      }

    return true;
  }

  return {};
}

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/controls/animationControl.ts":
/*!*******************************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/controls/animationControl.ts ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AnimationControl; });
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../index */ "./src/pages/BigScreen/components/ThreeScene/components/index.ts");
 // const prototypes = {}

function AnimationControl(_ref) {
  var sceneName = _ref.sceneName,
      socket = _ref.socket,
      currentHub = _ref.currentHub,
      robots = _ref.robots,
      prototypes = _ref.prototypes,
      action = _ref.action;
  init();

  function init() {
    switch (action) {
      case 'set':
        checkObject();
        break;

      case 'clear':
        unlistenSockets('clear');
        break;

      default:
        unlistenSockets('clear');
    }
  }

  function checkObject() {
    if (prototypes.candleLight) {
      connectSocket(sceneName);
    }
  }

  function unlistenSockets(sceneName) {
    var unlistenInside = function unlistenInside() {
      var baseRobotUrl = '/robot-info-production/';
      var baseHiveUrl = '/hive-info-production/';
      var baseElevator = '/active-production/Elevator/'; // Floor.traverse((floor: any) => {
      //   if (socket) {

      socket.unListen(baseHiveUrl + currentHub.id + '/#');
      socket.unListen(baseRobotUrl + currentHub.id + '/#'); //     socket.unListen(baseElevator + currentHub.id+'/#')
      //   }
      // })
    };

    var unlistenOutside = function unlistenOutside() {
      var topic = '/robot-info-production/';
      socket.unListen(topic + currentHub.id + '/outdoor/#');
    };

    switch (sceneName) {
      case 'IndoorArea':
        unlistenOutside();
        break;

      case 'BuildingArea':
        unlistenInside();
        break;

      case 'RobotExhibit':
        unlistenOutside();
        unlistenInside();
        break;

      default:
        unlistenOutside();
        unlistenInside();
    }
  }

  function connectSocket(sceneName) {
    unlistenSockets(sceneName); // socket.unListen(topicOfRobotOnFloor)

    if (sceneName === 'IndoorArea') {
      if (currentHub.id === 'ad0aece3-6520-4b2e-b038-4a5b0ddcb57c') {
        Object(_index__WEBPACK_IMPORTED_MODULE_0__["XuzhourobotsAnimation"])({
          socket: socket,
          robots: robots,
          currentHub: currentHub,
          prototypes: prototypes
        });
      } else {
        Object(_index__WEBPACK_IMPORTED_MODULE_0__["robotsAnimation"])({
          socket: socket,
          robots: robots,
          currentHub: currentHub,
          prototypes: prototypes
        });
      }

      Object(_index__WEBPACK_IMPORTED_MODULE_0__["hiveStaticControl"])({
        prototypes: prototypes,
        currentHub: currentHub
      }); // elevatorControl({
      //   socket,currentHub
      // })
    } else if (sceneName === 'BuildingArea') {
      Object(_index__WEBPACK_IMPORTED_MODULE_0__["outsideRobotsAnimation"])({
        //   scene: sceneNow,
        socket: socket,
        currentHub: currentHub,
        prototypes: prototypes
      });
    }
  }

  return {
    set: function set() {
      init();
    }
  };
}

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/controls/elevatorControl.ts":
/*!******************************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/controls/elevatorControl.ts ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return elevatorControl; });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _models_threeModels_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../models/threeModels/index */ "./src/pages/BigScreen/models/threeModels/index.ts");


function elevatorControl(props) {
  var socket = props.socket,
      currentHub = props.currentHub;
  init();

  function init() {
    //  getElevatorData()
    getData();
  }

  function getData() {
    var ele = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_1__["Elevator"].elevators;
    console.log(ele);
  }

  function getElevatorData() {
    console.log('getelevatordata');
    var topicOfElevator = '/active-production/Elevator/e90d7310-959c-4948-bf09-c67e93600848/#';

    if (socket) {
      socket.send(topicOfElevator);
      socket.listen(topicOfElevator, Object(lodash__WEBPACK_IMPORTED_MODULE_0__["throttle"])(function (data) {//  console.log(data)
        //      robotControl(data)
      }, 500));
    }
  }
}

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/controls/hiveStaticControl.ts":
/*!********************************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/controls/hiveStaticControl.ts ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return hiveStaticControl; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _models_threeModels_Floor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../models/threeModels/Floor */ "./src/pages/BigScreen/models/threeModels/Floor.ts");
/* harmony import */ var _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../models/threeModels/index */ "./src/pages/BigScreen/models/threeModels/index.ts");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
/* harmony import */ var _utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../utils/CoordinateTool */ "./src/pages/BigScreen/utils/CoordinateTool.ts");
/* harmony import */ var _services_api_aurora_screen_indoor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/services/api/aurora/screen-indoor */ "./src/services/api/aurora/screen-indoor.ts");







function hiveStaticControl(_ref) {
  var currentHub = _ref.currentHub,
      prototypes = _ref.prototypes;
  var buildingId = '0ad080f8-938f-4cda-8aa1-00727f409964';

  if (currentHub.id === 'cefbcf55-f582-4609-8803-dc4b4f6b3607') {
    buildingId = '8260149d-4cca-482b-972f-ae9f700f4503';
  }

  var init = function init() {
    var floors = []; // Floor.floors.forEach((floor: any) => {
    //   floors.push(floor.id)
    // })

    _models_threeModels_Floor__WEBPACK_IMPORTED_MODULE_2__["Floor"].traverse(function (floor) {
      floors.push(floor.id);
    });
    getInitialData(floors);
  };

  function getInitialData(_x) {
    return _getInitialData.apply(this, arguments);
  }

  function _getInitialData() {
    _getInitialData = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(floorId) {
      var _yield$getHivesData, data;

      return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return Object(_services_api_aurora_screen_indoor__WEBPACK_IMPORTED_MODULE_6__["getHivesData"])({
                // buildingId,
                // floorId,
                hubId: currentHub.id,
                page: 0,
                pageSize: 500
              });

            case 2:
              _yield$getHivesData = _context.sent;
              data = _yield$getHivesData.data;
              data.forEach(function (hiveItem) {
                if (!hiveItem.robot) {
                  showHive(hiveItem);
                }
              });

            case 5:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));
    return _getInitialData.apply(this, arguments);
  }

  function setSprite(item) {
    var canvas = document.createElement('canvas');
    var ctx = canvas.getContext('2d');
    var rate;
    var width;

    if (ctx) {
      ctx.font = 'Bold 20px Arial';
      var word = item.name;
      width = ctx === null || ctx === void 0 ? void 0 : ctx.measureText(word).width;
      rate = width / 300;
      var distance = 2; //   ctx.fillRect(0, 0, 300, 150)

      canvas.width = width;
      canvas.height = 30;
      ctx.fillStyle = 'rgba(255, 255, 255, 1.0)';
      ctx.font = 'Bold 20px Arial';
      ctx.fillText(word, distance, 14 + 2);
      var rateH = 30 / width;
    }

    var texture = new three__WEBPACK_IMPORTED_MODULE_4__["Texture"](canvas);
    texture.needsUpdate = true;
    var spriteMaterial = new three__WEBPACK_IMPORTED_MODULE_4__["SpriteMaterial"]({
      map: texture,
      depthTest: true
    });
    var sprite = new three__WEBPACK_IMPORTED_MODULE_4__["Sprite"](spriteMaterial);
    sprite.center = new three__WEBPACK_IMPORTED_MODULE_4__["Vector2"](0.5, 0);
    sprite.position.set(0, 40, 0); // 300px*150px  100  50

    var scaleX = rate * 100;
    var scaleY = rate * 100 * 30 / width;
    sprite.scale.set(scaleX, scaleY, 1);
    sprite.renderOrder = 100;
    return sprite;
  }

  function checkHiveType(mode) {
    switch (mode) {
      case 'GUIDE':
        return prototypes['hiveGuide'];

      case 'STERILIZATION':
        return prototypes['hiveClean'];

      case 'PRIVATE_SHARED':
        return prototypes['hiveMedical4'];

      default:
        return prototypes['hiveDelivery6'];
    }
  }

  function calMapOutdoorDeviation(item, floor) {
    var indoorCoor = [-0.7564640011526729, 0.5449893642988224];
    var dd = [-5.998693788802345, 0.9404211764567036]; // console.log(calMapOriginDeviation(dd, floor))

    var a = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_5__["WSG84TOMercatorCenter"])({
      lng: item.location[1],
      lat: item.location[0]
    }, [117.615940661861, 34.0757245186384]); //  console.log(calMapOriginDeviation(indoorCoor, floor))
    //  console.log(calMapOriginDeviation([-a[0], a[1]], floor))
    ///  console.log(calMapOriginDeviation([-6, a[0]], floor))

    var cc = [indoorCoor[0] - a[0] + 1.5, indoorCoor[1] + a[1]]; // console.log(cc, a)
    //   console.log('cctrans', calMapOriginDeviation(cc, floor))
    //  return [-a[1]+indoorCoor[0],a[0]]

    return cc;
  }

  function showHive(item) {
    var floor = _models_threeModels_Floor__WEBPACK_IMPORTED_MODULE_2__["Floor"].floors[item.floorId];

    if (floor && item.coordinates) {
      var geo;

      if (item.floorId === 'd822a410-efe4-4589-bc69-06974c9050e0') {
        var cc = calMapOutdoorDeviation(item, floor);
        geo = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_5__["calMapOriginDeviation"])(cc, floor); //   geo = [-1200,200]
        // console.log(item.name, geo)
      } else if (item.dock && item.dock.qr) {
        var x = Math.sin(item.coordinates[3] - Math.PI) * 35;
        var y = Math.cos(item.coordinates[3] - Math.PI) * 35; // let pos = [item.]

        var pos = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_5__["calMapOriginDeviation"])(item.coordinates, floor);
        geo = [pos[0] - x, pos[1] + y]; //  console.log('guiziPoint',item.name,pos,geo,x,y)
        //     geo = calMapOriginDeviation(item.coordinates, floor)
      } else {
        geo = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_5__["calMapOriginDeviation"])(item.coordinates, floor);
      } //  let hive = hiveObject.clone()


      var id = item.id,
          name = item.name,
          coordinates = item.coordinates,
          level = item.level,
          operationMode = item.operationMode;
      var hive = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["Hive"]({
        id: id,
        name: name,
        coordinates: coordinates,
        position: [geo[0], 0.1, -geo[1]],
        level: level
      });
      var prototypeObject = checkHiveType(operationMode);
      hive.object = prototypeObject.clone();
      hive.setPosition([geo[0], 0.1, -geo[1]]);

      if (item.coordinates) {
        //  hive.rotationY  = item.coordinates[3]
        if (item.floorId === 'd822a410-efe4-4589-bc69-06974c9050e0') {
          hive.setRotation(item.coordinates[3] + Math.PI);
        } else {
          hive.setRotation(item.coordinates[3] + Math.PI / 2);
        }
      } //  const sprite = setSprite(item)
      //   sprite.parent = hive.object
      //   hive.object.children.push(sprite)
      //  sprite.name = 'nameSprite'
      //    setHivePosition(hive,geo)


      hive.setSprite(item);
      floor.robotsObject.add(hive.object);
      floor.staticHives.push(hive);
    }
  }

  init();
}

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/controls/outsideRobotsAnimation.ts":
/*!*************************************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/controls/outsideRobotsAnimation.ts ***!
  \*************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return outsideRobotsAnimation; });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _models_threeModels_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../models/threeModels/index */ "./src/pages/BigScreen/models/threeModels/index.ts");
/* harmony import */ var _utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../utils/CoordinateTool */ "./src/pages/BigScreen/utils/CoordinateTool.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var three_examples_jsm_lines_LineGeometry_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three/examples/jsm/lines/LineGeometry.js */ "./node_modules/three/examples/jsm/lines/LineGeometry.js");
/* harmony import */ var _assets_LineMaterial_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../assets/LineMaterial.js */ "./src/pages/BigScreen/components/ThreeScene/assets/LineMaterial.js");
/* harmony import */ var three_examples_jsm_lines_Line2_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! three/examples/jsm/lines/Line2.js */ "./node_modules/three/examples/jsm/lines/Line2.js");








function outsideRobotsAnimation(_ref) {
  var scene = _ref.scene,
      socket = _ref.socket,
      currentHub = _ref.currentHub,
      prototypes = _ref.prototypes;
  var center = [113.94245812, 22.57581673];

  if (currentHub.id === 'cefbcf55-f582-4609-8803-dc4b4f6b3607') {
    center = [113.94490717, 22.58303714];
  }

  var robotDataBefore = [];
  init();

  function init() {
    getOutsideDatas(); //  getOutsideDatasTest()
  }

  function getOutsideDatasTest() {
    var topicOfRobotOutside = '/robot-info-production/29117cb9-32f8-4135-b04b-d72c5d7a6290/outdoor/#'; //  '/robot-info-production/5e1673d9-5a63-4b3f-a118-711f7ff0950d/outdoor/#'

    if (socket) {
      socket.send(topicOfRobotOutside);
      socket.listen(topicOfRobotOutside, Object(lodash__WEBPACK_IMPORTED_MODULE_1__["throttle"])(function (data) {
        //    console.log(data)
        robotControlB(data);
      }, 500));
    }
  }

  function getOutsideDatas() {
    var topicOfRobotOutside = '/robot-info-production/e90d7310-959c-4948-bf09-c67e93600848/outdoor/#';

    if (socket) {
      socket.send(topicOfRobotOutside);
      socket.listen(topicOfRobotOutside, Object(lodash__WEBPACK_IMPORTED_MODULE_1__["throttle"])(function (data) {
        //  console.log(data)
        robotControl(data);
      }, 500));
    }
  }

  function addRobot(item, geo) {
    var name = item.name,
        id = item.id,
        location = item.location;
    var robotsObject = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_2__["OutdoorArea"].outdoorArea.robotsObject;
    var robotObject = prototypes.sunClean;
    var object = robotObject.clone();
    var x = geo[0];
    var y = 0;
    var z = -geo[1];
    object.position.set(x, y, z);
    object.name = name;
    item.coordinates && object.rotateY(item.coordinates[3]);
    var robot = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_2__["OutsideRobot"]({
      name: name,
      id: id,
      location: location,
      position: [x, y, z]
    }); // OutsideRobot.addRobots(robot)

    _models_threeModels_index__WEBPACK_IMPORTED_MODULE_2__["OutdoorArea"].outdoorArea.addRobotItem(robot);
    robot.object = object;
    robot.setSprite(item, 8, 30);
    robotsObject.add(object);

    if (item.hive) {
      addHive(robot.object, item.hive);
    }
  }

  function robotControl(data) {
    data.forEach(function (item, index) {
      if (item.location) {
        var geo = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_3__["WSG84TOMercatorCenter"])({
          lng: item.location[1],
          lat: item.location[0]
        }, center);
        var robotItem = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_2__["OutdoorArea"].outdoorArea.robots[item.id];

        if (!robotItem) {
          addRobot(item, geo);
          robotDataBefore.push(item);
        } else {
          var robot = robotItem.object;
          var itemBefore = robotDataBefore.find(function (i) {
            return i.id === item.id;
          });

          if (itemBefore) {
            var geoB = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_3__["WSG84TOMercatorCenter"])({
              lng: itemBefore.location[1],
              lat: itemBefore.location[0]
            }, center); // const geoB = calMapOriginDeviation(itemBefore.coordinates, floor)

            var angles = [itemBefore.coordinates[3], item.coordinates[3]];
            var geos = [geoB[0], 0, -geoB[1], geo[0], 0, -geo[1]];
            var timeDif = (item.updateTime - itemBefore.updateTime) / 1000;
            checkAnimationAction(item.id, data, robot, angles, geos, [0, timeDif]);
          }
        }
      }
    });
  }

  function robotControlB(data) {
    var center = [113.93587984327917, 22.66939379561437]; //  const center = [114.14053788057107, 22.58161531146062]

    data.forEach(function (item, index) {
      if (item.location) {
        var geo = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_3__["WSG84TOMercatorCenter"])({
          lng: item.location[1],
          lat: item.location[0]
        }, center);
        var robotItem = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_2__["OutdoorArea"].outdoorArea.robots[item.id];

        if (!robotItem) {
          addRobot(item, geo);
          robotDataBefore.push(item);
        } else {
          var robot = robotItem.object;
          var itemBefore = robotDataBefore.find(function (i) {
            return i.id === item.id;
          });

          if (itemBefore) {
            var geoB = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_3__["WSG84TOMercatorCenter"])({
              lng: itemBefore.location[1],
              lat: itemBefore.location[0]
            }, center); // const geoB = calMapOriginDeviation(itemBefore.coordinates, floor)

            var angles = [itemBefore.coordinates[3], item.coordinates[3]];
            var geos = [geoB[0], 0, -geoB[1], geo[0], 0, -geo[1]];
            var timeDif = (item.updateTime - itemBefore.updateTime) / 1000;
            checkAnimationAction(item.id, data, robot, angles, geos, [0, timeDif]);
          }
        }
      }
    });
  }

  function checkAnimationAction(id, data, object, angles, geos, timeDif) //  floor: any,
  {
    var item = data.find(function (i) {
      return i.id === id;
    });
    var robots = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_2__["OutdoorArea"].outdoorArea.robots;
    var indexI = data.indexOf(item);
    var clipAction = robots[id].clipAction;
    var itemBefore = robotDataBefore.find(function (i) {
      return i.id === id;
    });
    var index = robotDataBefore.indexOf(itemBefore);
    var value1 = checkDataTime(itemBefore.updateTime, item.updateTime);
    var value2 = checkRobotPosDif(itemBefore.location, item.location);

    if (item.name) {
      if (clipAction) {
        if (value1 && value2) {
          if (clipAction.isRunning()) {
            if (robots[id].staging) {
              var stage = {
                robot: object,
                geos: geos,
                angles: angles,
                timeDif: timeDif,
                id: id,
                pathLocations: item.pathLocations,
                item: item
              };
              robots[id].staging.push(stage);
            } else {
              var _stage = {
                robot: object,
                geos: geos,
                angles: angles,
                timeDif: timeDif,
                id: id,
                pathLocations: item.pathLocations,
                item: item
              };
              robots[id].staging = [_stage];
            }
          } else {
            var time = moment__WEBPACK_IMPORTED_MODULE_4___default()().format('x'); // console.log(
            //   'nononononononoanimate',
            //   item.name,
            //   'before',
            //   geos,
            //   angles,
            //   timeDif,
            //   object.position,
            // )

            animation(object, geos, angles, timeDif, id, item);
          }
        } else {// console.log(value1,value2)
          // console.log('itemBefore.updateTime, item.updateTime',itemBefore.updateTime, item.updateTime)
        }
      } else {
        animation(object, geos, angles, timeDif, id, item); //  animation(object, geos, angles, timeDif, id, item.pathCoordinates, item)
      }
    }

    robotDataBefore[index] = data[indexI];
    return {};
  }

  function animation(object, geos, angles, times, id, //   pathLocations: any,
  // floor: any,
  item) {
    var robots = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_2__["OutdoorArea"].outdoorArea.robots;
    var positionKF = new three__WEBPACK_IMPORTED_MODULE_0__["VectorKeyframeTrack"]('.position', times, geos);
    var rotationTrack = new three__WEBPACK_IMPORTED_MODULE_0__["KeyframeTrack"]('object.rotation[y]', times, angles); // 关键帧轨道

    var yAxis = new three__WEBPACK_IMPORTED_MODULE_0__["Vector3"](0, 1, 0);
    var qInitial = new three__WEBPACK_IMPORTED_MODULE_0__["Quaternion"]().setFromAxisAngle(yAxis, angles[0]);
    var qFinal = new three__WEBPACK_IMPORTED_MODULE_0__["Quaternion"]().setFromAxisAngle(yAxis, angles[1]);
    var quaternionKF = new three__WEBPACK_IMPORTED_MODULE_0__["QuaternionKeyframeTrack"]('.quaternion', [0, 1, 2], [qInitial.x, qInitial.y, qInitial.z, qInitial.w, qFinal.x, qFinal.y, qFinal.z, qFinal.w, qInitial.x, qInitial.y, qInitial.z, qInitial.w]); //  checkHive(item, object, id, floor)

    var clip = new three__WEBPACK_IMPORTED_MODULE_0__["AnimationClip"]('Action', times[1], [positionKF, quaternionKF]); // setup the THREE.AnimationMixer

    var mixer = new three__WEBPACK_IMPORTED_MODULE_0__["AnimationMixer"](object);
    robots[id].mixer = mixer; // create a ClipAction and set it to play
    // let clipAction

    var clipAction = mixer.clipAction(clip);
    clipAction.loop = three__WEBPACK_IMPORTED_MODULE_0__["LoopOnce"];
    clipAction.clampWhenFinished = true;

    if (item.navigationState === 'MOUNTING' || item.navigationState === 'UNMOUNTING') {
      if (robots[id].staging) {
        if (robots[id].staging.length === 1) {
          robots[id].staging = undefined;
        } else {
          robots[id].staging.shift();
        }
      }
    } else {
      clipAction.play();
    }

    drawCleanArea(item.details, id);
    drawPathCoordinates(item.pathLocations, id);
    robots[id].clipAction = clipAction;
    robots[id].mixer.addEventListener('finished', function fin() {
      // console.log(stagingClip)
      if (robots[id].staging.length > 0) {
        var _robots$id$staging$ = robots[id].staging[0],
            _geos = _robots$id$staging$.geos,
            _angles = _robots$id$staging$.angles,
            timeDif = _robots$id$staging$.timeDif,
            _item = _robots$id$staging$.item; // if (robots[id].staging.length === 1) {
        //   robots[id].staging = undefined
        //   //     console.log(robots[id].staging)
        // } else {
        //     console.log(robots[id].staging[0])

        robots[id].staging.shift(); //    console.log(robots[id].staging[0])
        //  }

        animation(object, _geos, _angles, timeDif, id, _item); // let geos = stagingClip
      } else {//   robots[id].mixer.removeEventListener(fin)
        }
    });
  }

  function drawCleanArea(details, id) {
    var _OutdoorArea$outdoorA = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_2__["OutdoorArea"].outdoorArea,
        robots = _OutdoorArea$outdoorA.robots,
        animationTraceObejct = _OutdoorArea$outdoorA.animationTraceObejct;
    var item = robots[id];

    if (item.cleanObject) {
      animationTraceObejct.remove(item.cleanObject);
    }

    if (details) {
      if (details.sweepInfo) {
        var cleanObject = new three__WEBPACK_IMPORTED_MODULE_0__["Object3D"]();

        if (details.sweepInfo.cleanAreaPolygon) {
          var _details$sweepInfo = details.sweepInfo,
              cleanAreaPolygon = _details$sweepInfo.cleanAreaPolygon,
              cleanPath = _details$sweepInfo.cleanPath,
              cleanTrajectoryPath = _details$sweepInfo.cleanTrajectoryPath; // const areaMesh = drawArea(cleanAreaPolygon)

          var areaMesh = drawLine(cleanAreaPolygon, 0xfc5821);
          var path = drawLine(cleanPath, 0xeafc21);
          var trajectoryPath = drawLine(cleanTrajectoryPath, 0xac21fc); // const areaMesh = drawLineNormal(cleanAreaPolygon, 0xfc5821)
          // const path = drawLineNormal(cleanPath, 0xeafc21)
          // const trajectoryPath = drawLineNormal(cleanTrajectoryPath, 0xac21fc)
          // const areaMeshPoint = drawLinePoint(cleanAreaPolygon, 0xfc5821)
          // const pathPoint = drawLinePoint(cleanPath, 0xeafc21)
          // const trajectoryPathPoint = drawLinePoint(cleanTrajectoryPath, 0xac21fc)

          cleanObject.add(path);
          cleanObject.add(trajectoryPath);
          cleanObject.add(areaMesh); // cleanObject.add(areaMeshPoint)
          // cleanObject.add(pathPoint)
          // cleanObject.add(trajectoryPathPoint)
        }

        _models_threeModels_index__WEBPACK_IMPORTED_MODULE_2__["OutdoorArea"].outdoorArea.animationTraceObejct.add(cleanObject);
        item.cleanObject = cleanObject;
      }
    }
  }

  function drawArea(cleanAreaPolygon) {
    // const center =  [22.66941044421346, 113.93589827726021]// [114.14053788057107, 22.58161531146062]
    var shape = new three__WEBPACK_IMPORTED_MODULE_0__["Shape"]();
    cleanAreaPolygon.forEach(function (geo, index) {
      var pos = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_3__["WSG84TOMercatorCenter"])({
        lng: geo[1],
        lat: geo[0]
      }, center);

      if (index === 0) {
        shape.moveTo(-pos[0], pos[1]);
      } else {
        shape.lineTo(-pos[0], pos[1]);
      }
    });
    var geometry = new three__WEBPACK_IMPORTED_MODULE_0__["ShapeGeometry"](shape);
    var material = new three__WEBPACK_IMPORTED_MODULE_0__["MeshBasicMaterial"]({
      color: 0x00ff00,
      side: three__WEBPACK_IMPORTED_MODULE_0__["DoubleSide"]
    });
    var mesh = new three__WEBPACK_IMPORTED_MODULE_0__["Mesh"](geometry, material);
    mesh.position.set(0, 1, 0);
    mesh.rotateX(Math.PI / 2);
    return mesh;
  }

  function drawPathCoordinates(pathLocations, id) {
    var _OutdoorArea$outdoorA2 = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_2__["OutdoorArea"].outdoorArea,
        robots = _OutdoorArea$outdoorA2.robots,
        animationTraceObejct = _OutdoorArea$outdoorA2.animationTraceObejct;
    var item = robots[id];

    if (item.pathObject) {
      animationTraceObejct.remove(item.pathObject);
    }

    var geos = [];

    if (pathLocations) {
      var pathObject = new three__WEBPACK_IMPORTED_MODULE_0__["Object3D"]();

      if (pathLocations.length > 0) {
        // pathLocations.forEach((coor: any) => {
        //   const geo = WSG84TOMercatorCenter(
        //     {
        //       lng: coor[1],
        //       lat: coor[0],
        //     },
        //     center,
        //   )
        //   geos.push(geo[0], -0.2, -geo[1])
        // })
        //        console.log(p1, p0)
        var line = drawLine(pathLocations, 0x15e298);
        pathObject.add(line);
        _models_threeModels_index__WEBPACK_IMPORTED_MODULE_2__["OutdoorArea"].outdoorArea.animationTraceObejct.add(pathObject);
        item.pathObject = pathObject;
      }
    }
  }

  function drawLine(geos, color) {
    // const center =[22.66939379561437, 113.93587984327917]// [ 114.14053788057107,22.58161531146062]
    var pos = [];
    geos.forEach(function (coor) {
      var geo = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_3__["WSG84TOMercatorCenter"])({
        lng: coor[1],
        lat: coor[0]
      }, center);
      pos.push(geo[0], -0.2, -geo[1]);
    });
    var geometry = new three_examples_jsm_lines_LineGeometry_js__WEBPACK_IMPORTED_MODULE_5__["LineGeometry"]();
    var matLine = new _assets_LineMaterial_js__WEBPACK_IMPORTED_MODULE_6__["LineMaterial"]({
      color: color,
      linewidth: 0.4,
      // in pixels
      dashed: false,
      worldUnits: true,
      vertexColors: false
    });
    geometry.setPositions(pos);
    var line2 = new three_examples_jsm_lines_Line2_js__WEBPACK_IMPORTED_MODULE_7__["Line2"](geometry, matLine);
    matLine.resolution.set(window.innerWidth, window.innerHeight);
    line2.renderOrder = 10;
    return line2;
  }

  function drawLineNormal(geos, color) {
    //      const center = [22.66941044421346, 113.93589827726021]// [ 114.14053788057107,22.58161531146062]
    var pos = [];
    geos.forEach(function (coor) {
      var geo = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_3__["WSG84TOMercatorCenter"])({
        lng: coor[1],
        lat: coor[0]
      }, center);
      pos.push(new three__WEBPACK_IMPORTED_MODULE_0__["Vector3"](geo[0], -0.2, -geo[1]));
    });
    var geometry = new three__WEBPACK_IMPORTED_MODULE_0__["BufferGeometry"]().setFromPoints(pos);
    var material = new three__WEBPACK_IMPORTED_MODULE_0__["LineBasicMaterial"]({
      color: color
    });
    var line = new three__WEBPACK_IMPORTED_MODULE_0__["Line"](geometry, material);
    return line;
  }

  function drawLinePoint(geos, color) {
    // const center = [ 114.14053788057107,22.58161531146062]
    var pos = [];
    geos.forEach(function (coor) {
      var geo = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_3__["WSG84TOMercatorCenter"])({
        lng: coor[1],
        lat: coor[0]
      }, center);
      pos.push(geo[0], -0.2, -geo[1]);
    });
    var geometry = new three__WEBPACK_IMPORTED_MODULE_0__["BufferGeometry"]();
    geometry.setAttribute('position', new three__WEBPACK_IMPORTED_MODULE_0__["Float32BufferAttribute"](pos, 3));
    var material = new three__WEBPACK_IMPORTED_MODULE_0__["PointsMaterial"]({
      color: color
    });
    var points = new three__WEBPACK_IMPORTED_MODULE_0__["Points"](geometry, material);
    return points;
  } // function checkHiveType(mode: any) {
  //   switch (mode) {
  //     case 'GUIDE':
  //       return prototypes['hiveGuide']
  //     case 'STERILIZATION':
  //       return prototypes['hiveClean']
  //     case 'PRIVATE_SHARED':
  //       return prototypes['hiveMedical4']
  //     default:
  //       return prototypes['hiveDelivery6']
  //   }
  // }


  function addHive(robot, hiveData) {
    //  if (hiveObject) {
    var prototypeObject = prototypes['hiveVacuum'];
    var hive = prototypeObject.clone(); //  hive.rotateY(Math.PI / 2)
    // robot.add(hive)

    hive.parent = robot;
    hive.name = hiveData.name;
    hive.machineType = hiveData.operationMode;
    robot.children.push(hive); //  }
  }

  function checkRobotPosDif(geo, geoBefore) {
    var difx = geo[0] - geoBefore[0];
    var dify = geo[1] - geoBefore[1];
    var difangle = geo[3] - geoBefore[3];

    if (Math.abs(difx) > 0.00000001 || Math.abs(dify) > 0.0000001 || Math.abs(difangle) > 0.000001) {
      return true;
    }

    return false;
  }

  function checkDataTime(startTime, endTime) {
    var time = moment__WEBPACK_IMPORTED_MODULE_4___default()().format('x');
    var timeDif = (endTime - startTime) / 1000;
    var timeIsNow = true;

    if (endTime - Number(time) > 5) {
      timeIsNow = false;
    }

    if (timeDif < 0 || timeDif > 5 || timeDif === 0) {
      return false;
    }

    return true;
  }
}

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/controls/robotControl.ts":
/*!***************************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/controls/robotControl.ts ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return robotControl; });
function robotControl(_ref) {
  var scene = _ref.scene,
      robot = _ref.robot;

  function init() {}

  function showControlFrame() {}
}

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/controls/robotsAnimation.ts":
/*!******************************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/controls/robotsAnimation.ts ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RobotsAnimation; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2 */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../models/threeModels/index */ "./src/pages/BigScreen/models/threeModels/index.ts");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _services_api_aurora_screen_indoor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/services/api/aurora/screen-indoor */ "./src/services/api/aurora/screen-indoor.ts");
/* harmony import */ var three_examples_jsm_lines_LineGeometry_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! three/examples/jsm/lines/LineGeometry.js */ "./node_modules/three/examples/jsm/lines/LineGeometry.js");
/* harmony import */ var _assets_LineMaterial_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../assets/LineMaterial.js */ "./src/pages/BigScreen/components/ThreeScene/assets/LineMaterial.js");
/* harmony import */ var three_examples_jsm_lines_Line2_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! three/examples/jsm/lines/Line2.js */ "./node_modules/three/examples/jsm/lines/Line2.js");
/* harmony import */ var _utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../utils/CoordinateTool */ "./src/pages/BigScreen/utils/CoordinateTool.ts");












function RobotsAnimation(_ref) {
  var robots = _ref.robots,
      socket = _ref.socket,
      currentHub = _ref.currentHub,
      prototypes = _ref.prototypes,
      stop = _ref.stop;
  var robotFloorDataBefore = null;
  var hiveDatas = {};
  var robotObject = prototypes.candleLight;
  var hiveObject = prototypes.hiveDelivery6; // let hiveObject:any

  var init = function init() {
    if (robotObject) {
      _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["Floor"].traverse(function (floor) {
        floor.clearMachines(); //     robotFloorDataBefore = undefined
      });
      robotFloorDataBefore = null;
      getDatas();
    }

    var baseRobotUrl = '/robot-info-production/';
    var baseHiveUrl = '/hive-info-production/';
    robotSocet(baseRobotUrl + currentHub.id + '/#');
    hiveSocket(baseHiveUrl + currentHub.id + '/#'); //  getInitialData(floors)
  };

  function getDatas() {
    return _getDatas.apply(this, arguments);
  }

  function _getDatas() {
    _getDatas = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {
      var _yield$getRobotsData, data, sumDatas;

      return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return Object(_services_api_aurora_screen_indoor__WEBPACK_IMPORTED_MODULE_7__["getRobotsData"])({
                hubId: currentHub.id,
                deleted: false,
                pageSize: 100
              });

            case 2:
              _yield$getRobotsData = _context.sent;
              data = _yield$getRobotsData.data;
              sumDatas = []; //  console.log(data)

              _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["Floor"].traverse(function (floor) {
                var robotDatas = data.filter(function (item, index) {
                  if (item.floorId) {
                    return checkRobotStatus(item.operationStatus) && item.floorId === floor.id;
                  }

                  return null;
                });
                sumDatas = sumDatas.concat(robotDatas); // console.log(robotDatas)

                robotDatas.forEach(function (item, index) {
                  //     if(checkRobotStatus(item.operationStatus) && item.floorId === floor.id){
                  addInitialRobot(item, floor); //   }
                });
              });
              robotFloorDataBefore = [].concat(sumDatas);

            case 7:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));
    return _getDatas.apply(this, arguments);
  }

  function hiveSocket(topicOfHiveOnFloor) {
    if (socket) {
      socket.send(topicOfHiveOnFloor);
      socket.listen(topicOfHiveOnFloor, Object(lodash__WEBPACK_IMPORTED_MODULE_5__["throttle"])(function (data) {
        if (hiveObject) {
          _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["Floor"].traverse(function (floor) {
            var items = data.filter(function (i) {
              if (i.floorId) {
                return i.floorId === floor.id;
              }

              return null;
            });
            hiveDatas[floor.id] = items;
          }); //        hiveDatas[floor.floorName] = data
        }
      }, 500));
    }
  }

  function robotSocet(topicOfRobotOnFloor) {
    if (socket) {
      socket.send(topicOfRobotOnFloor);
      socket.listen(topicOfRobotOnFloor, Object(lodash__WEBPACK_IMPORTED_MODULE_5__["throttle"])(function (data) {
        if (robotObject && hiveObject && robotFloorDataBefore) {
          //   console.log(data, data[0].updateTime)
          data.forEach(function (item) {
            if (item.floorId) {
              var floor = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["Floor"].floors[item.floorId];
              floor && robotControl(item);
            }
          });
        }
      }, 500));
    }
  }

  init();

  function calMapOutdoorDeviation(item, floor) {
    var indoorCoor = [-0.7564640011526729, 0.5449893642988224];
    var dd = [-5.998693788802345, 0.9404211764567036]; // console.log(calMapOriginDeviation(dd,floor))

    var a = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__["WSG84TOMercatorCenter"])({
      lng: item.location[1],
      lat: item.location[0]
    }, [117.615940661861, 34.0757245186384]); //   console.log('calIndoor', calMapOriginDeviation(indoorCoor, floor))
    //  console.log('calA', calMapOriginDeviation(a, floor))
    // console.log(
    //   'calTest',
    //   calMapOriginDeviation(
    //     [-0.7564640011526729 + 37.2188834361732, 0.5449893642988224 -1.4902657964266837],
    //     floor,
    //   ),
    // )

    var cc = [indoorCoor[0] - a[0] + 1.5, indoorCoor[1] + a[1]]; // console.log('cc,a', cc, a)

    return cc;
  }

  function addInitialRobot(item, floor) {
    var geo;

    if (item.coordinates) {
      if (!item.indoor) {
        //     geo = calMapOriginDeviation(item.coordinates, floor)
        var cc = calMapOutdoorDeviation(item, floor);
        geo = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__["calMapOriginDeviation"])(cc, floor); //    console.log(item.name, geo,item.location)
      } else {
        geo = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__["calMapOriginDeviation"])(item.coordinates, floor);
      } // const geo = calMapOriginDeviation(item.coordinates, floor)


      var robot = null;

      var _robotObject = checkRobotType(item.robotType);

      robot = _robotObject.clone();
      robot.name = item.name;
      robot.userData.type = 'robot';
      setRobotPosition(robot, geo);
      robot.rotateY(item.coordinates[3]);
      var name = item.name,
          id = item.id,
          coordinates = item.coordinates;
      var insiderobot = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["InsideRobot"]({
        name: name,
        id: id,
        position: geo,
        radian: coordinates[3],
        floorName: floor.floorName,
        battery: item.battery || {},
        speed: item.speed || 0,
        navigationState: item.navigationState || '-',
        cellular: item.cellular || {},
        jackRaised: item.jackRaised || '-',
        clutchDisengaged: item.clutchDisengaged || '-',
        emergencyStopEngaged: item.emergencyStopEngaged || '-'
      });
      insiderobot.object = robot;
      robots[item.id] = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, item), {}, {
        object: robot
      });
      insiderobot.setSprite(item);
      insiderobot.drawEdgeLine(robot);
      floor.addRobotItem(insiderobot);

      if (item.hive) {
        addHive(robot, item.hive);
      }
    }
  }

  var addRobot = function addRobot(item, floor) {
    if (item.coordinates) {
      var geo = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__["calMapOriginDeviation"])(item.coordinates, floor);

      var _robotObject2 = checkRobotType(item.robotType);

      var robot = _robotObject2.clone();

      robot.name = item.name;
      robot.userData.type = 'robot'; // robot.children.push(sprite)

      setRobotPosition(robot, geo);

      if (!item.indoor) {
        robot.rotateY(item.coordinates[3] + Math.PI);
      } else {
        robot.rotateY(item.coordinates[3]);
      } // robots.robotsObject.add(robot)
      // Floor.floors[0].robotsObject.children
      // robots[item.id] = Object.assign({ object: robot }, item)


      robots[item.id] = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, item), {}, {
        object: robot
      });
      var name = item.name,
          id = item.id,
          coordinates = item.coordinates,
          floorName = item.floorName;
      var insiderobot = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["InsideRobot"]({
        name: name,
        id: id,
        position: geo,
        radian: coordinates[3],
        floorName: floorName,
        battery: item.battery || {},
        speed: item.speed || 0,
        navigationState: item.navigationState || '-',
        cellular: item.cellular || {},
        jackRaised: item.jackRaised || '-',
        clutchDisengaged: item.clutchDisengaged || '-',
        emergencyStopEngaged: item.emergencyStopEngaged || '-'
      });
      insiderobot.object = robot;
      insiderobot.setSprite(item);
      insiderobot.drawEdgeLine(robot);
      floor.addRobotItem(insiderobot);

      if (item.hive) {
        addHive(robot, item.hive);
      }
    }
  };

  function checkRobotType(robotType) {
    if (robotType.includes('BR')) {
      return prototypes.candleLight;
    }

    if (robotType.includes('SRG')) {
      return prototypes.sunLight;
    }

    if (robotType.includes('SRS')) {
      return prototypes.sunCleanInside;
    }

    return prototypes.candleLight;
  }

  function checkHiveType(mode) {
    switch (mode) {
      case 'GUIDE':
        return prototypes.hiveGuide;

      case 'STERILIZATION':
        return prototypes.hiveClean;

      case 'PRIVATE_SHARED':
        return prototypes.hiveMedical4;

      case 'CLEANING':
        prototypes.hiveVacuumInside.rotateY(-Math.PI / 2);
        return prototypes.hiveVacuumInside;

      default:
        return prototypes.hiveDelivery6;
    }
  }

  function addHive(robot, hiveData) {
    //  if (hiveObject) {
    var prototypeObject = checkHiveType(hiveData.operationMode);
    var hive = prototypeObject.clone();
    hive.rotateY(Math.PI / 2); // robot.add(hive)

    hive.parent = robot;
    hive.name = hiveData.name;
    hive.machineType = hiveData.operationMode;
    robot.children.push(hive); //  }
  }

  function setRobotPosition(object, geo) {
    var x = geo[0];
    var y = 0.1;
    var z = -geo[1];
    object.position.set(x, y, z);
  }

  var removeRobot = function removeRobot(item, floor) {
    var robotItem = robots[item.id];
    var object = robotItem.object;
    floor.robotsObject.remove(object);

    if (robotItem.pathObject) {
      // robots.pathsObject.remove(robotItem.pathObject)
      floor.animationTraceObejct.remove(robotItem.pathObject);
    } // const itemBefore = robotFloorDataBefore.find((i: any) => {
    //   return i.id === item.id
    // })
    // const i = robotFloorDataBefore.indexOf(itemBefore)
    // i && robotFloorDataBefore.splice(i, 1)
    // robots[item.id] = undefined

  };

  function checkChangeFloor(itemBefore, item) {
    if (itemBefore.floorId === item.floorId) {
      return false;
    }

    return true;
  }

  function robotControl(item) {
    if (!item.coordinates) {
      return null;
    }

    var itemBefore = robotFloorDataBefore.find(function (i) {
      return i.id === item.id;
    });
    var floor = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["Floor"].floors[item.floorId];

    if (!itemBefore) {
      addRobot(item, floor);
      robotFloorDataBefore.push(item);
      return null;
    }

    if (checkChangeFloor(itemBefore, item)) {
      removeRobot(item, _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["Floor"].floors[itemBefore.floorId]);
      addRobot(item, floor);
    } //    const geo = calMapOriginDeviation(item.coordinates, floor)


    var robotItem = robots[item.id];
    var robot = robotItem.object; //   console.log(robots,robot)

    if (itemBefore) {
      var geo;
      var geoB;

      if (!item.indoor) {
        //     geo = calMapOriginDeviation(item.coordinates, floor)
        var cc = calMapOutdoorDeviation(item, floor);
        geo = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__["calMapOriginDeviation"])(cc, floor);
        var ccB = calMapOutdoorDeviation(itemBefore, floor);
        geoB = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__["calMapOriginDeviation"])(ccB, floor);
      } else {
        geo = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__["calMapOriginDeviation"])(item.coordinates, floor);
        geoB = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__["calMapOriginDeviation"])(itemBefore.coordinates, floor);
      }

      var angles = [itemBefore.coordinates[3], item.coordinates[3]];
      var geos = [geoB[0], 0.1, -geoB[1], geo[0], 0.1, -geo[1]]; // console.log(item.name, geo,geoB,item.location,item)

      if (itemBefore.updateTime) {
        var timeDif = (item.updateTime - itemBefore.updateTime) / 1000;
        checkAnimationAction(item.id, item, robot, angles, geos, [0, timeDif], floor);
      } else {
        var index = robotFloorDataBefore.indexOf(itemBefore);
        index >= 0 && (robotFloorDataBefore[index] = item);
      }
    } // const robotItem = floor.robots[item.id]

  }

  function checkAnimationAction(id, item, object, angles, geos, timeDif, floor) {
    // const item = data.find((i: any) => {
    //   return i.id === id
    // })
    //  const indexI = robotFloorDataBefore.indexOf(item)
    var clipAction = robots[id].clipAction;
    var itemBefore = robotFloorDataBefore.find(function (i) {
      return i.id === id;
    });
    var index = robotFloorDataBefore.indexOf(itemBefore);
    var value1 = checkDataTime(itemBefore.updateTime, item.updateTime);
    var value2 = checkRobotPosDif(itemBefore.coordinates, item.coordinates);

    if (item.name) {
      if (clipAction) {
        //   console.log(item.name,value1,itemBefore.updateTime, item.updateTime , value2)
        if (value1 && value2) {
          if (clipAction.isRunning()) {
            if (robots[id].staging) {
              var stage = {
                robot: object,
                geos: geos,
                angles: angles,
                timeDif: timeDif,
                id: id,
                pathCoordinates: item.pathCoordinates,
                item: item
              };
              robots[id].staging.push(stage);
            } else {
              var _stage = {
                robot: object,
                geos: geos,
                angles: angles,
                timeDif: timeDif,
                id: id,
                pathCoordinates: item.pathCoordinates,
                item: item
              };
              robots[id].staging = [_stage];
            }
          } else {
            var time = moment__WEBPACK_IMPORTED_MODULE_6___default()().format('x');
            animation(object, geos, angles, timeDif, id, floor, item);
          }
        }
      } else {
        animation(object, geos, angles, timeDif, id, floor, item);
      }
    }

    if (robotFloorDataBefore) {
      robotFloorDataBefore[index] = item;
    }

    return {};
  }

  function animation(object, geos, angles, times, id, floor, item) {
    var positionKF = new three__WEBPACK_IMPORTED_MODULE_4__["VectorKeyframeTrack"]('.position', times, geos);
    var yAxis = new three__WEBPACK_IMPORTED_MODULE_4__["Vector3"](0, 1, 0);
    var qInitial = new three__WEBPACK_IMPORTED_MODULE_4__["Quaternion"]().setFromAxisAngle(yAxis, angles[0]);
    var qFinal = new three__WEBPACK_IMPORTED_MODULE_4__["Quaternion"]().setFromAxisAngle(yAxis, angles[1]);
    var quaternionKF = new three__WEBPACK_IMPORTED_MODULE_4__["QuaternionKeyframeTrack"]('.quaternion', [0, 1, 2], [qInitial.x, qInitial.y, qInitial.z, qInitial.w, qFinal.x, qFinal.y, qFinal.z, qFinal.w, qInitial.x, qInitial.y, qInitial.z, qInitial.w]);
    robots[id] = Object.assign(robots[id], item);
    checkHive(item, object, id, floor);
    var clip = new three__WEBPACK_IMPORTED_MODULE_4__["AnimationClip"]('Action', times[1], [positionKF, quaternionKF]); // setup the THREE.AnimationMixer

    var mixer = new three__WEBPACK_IMPORTED_MODULE_4__["AnimationMixer"](object);
    robots[id].mixer = mixer; // create a ClipAction and set it to play
    // let clipAction

    var clipAction = mixer.clipAction(clip);
    clipAction.loop = three__WEBPACK_IMPORTED_MODULE_4__["LoopOnce"];
    clipAction.clampWhenFinished = true;

    if (item.navigationState === 'MOUNTING' || item.navigationState === 'UNMOUNTING') {
      if (robots[id].staging) {
        if (robots[id].staging.length === 1) {
          robots[id].staging = undefined;
        } else {
          robots[id].staging.shift();
        }
      }
    } else {
      clipAction.play();
    }

    drawPathCoordinates(item.pathCoordinates, id, floor);
    robots[id].clipAction = clipAction;
    robots[id].mixer.addEventListener('finished', function fin() {
      if (robots[id].staging) {
        var _robots$id$staging$ = robots[id].staging[0],
            _geos = _robots$id$staging$.geos,
            _angles = _robots$id$staging$.angles,
            timeDif = _robots$id$staging$.timeDif,
            pathCoordinates = _robots$id$staging$.pathCoordinates,
            _item = _robots$id$staging$.item;

        if (robots[id].staging.length === 1) {
          robots[id].staging = undefined;
        } else {
          robots[id].staging.shift();
        }

        animation(object, _geos, _angles, timeDif, id, floor, _item); // let geos = stagingClip
      } else {//   robots[id].mixer.removeEventListener(fin)
        }
    });
  }

  function checkHive(item, robot, id, floor) {
    var hive = robot.children.find(function (obj) {
      // console.log(obj.name,item.name)
      return obj.machineType;
    });

    if (!item.hive) {
      if (hive) {
        //   console.log('卸箱', item, hive)
        unmountHive(robot, hive, floor);

        if (hiveDatas[floor.id]) {
          var ii = hiveDatas[floor.id].find(function (i) {
            return i.name === hive.name;
          });

          if (ii) {
            var x = Math.sin(item.coordinates[3] - Math.PI) * 35;
            var y = Math.cos(item.coordinates[3] - Math.PI) * 35; // let pos = [item.]

            var pos = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__["calMapOriginDeviation"])(item.coordinates, floor);
            var geo = [pos[0] - x, pos[1] + y]; //  geo = calMapOriginDeviation(item.coordinates, floor)
            // const geo = calMapOriginDeviation(ii.coordinates, floor)

            var staticHive = floor.addStaticHive(ii, hive, [geo[0], 0.1, -geo[1]]); //         const sprite = setSprite(ii)
            //       sprite.parent = staticHive
            //      staticHive.children.push(sprite)
          }
        }

        return;
      }
    }

    if (!hive) {
      if (item.hive) {
        addHive(robot, item.hive);
        floor.removeStaticHive(item.hive.id);
      }
    }
  }

  function unmountHive(robot, hive, floor) {
    var index = robot.children.indexOf(hive);
    robot.remove(hive);
  }

  function drawPathCoordinates(pathCoordinates, id, floor) {
    var item = robots[id];

    if (item.pathObject) {
      floor.animationTraceObejct.remove(item.pathObject);
    }

    var geos = [];

    if (pathCoordinates && item) {
      if (pathCoordinates.length > 0) {
        pathCoordinates.forEach(function (coor) {
          var geo = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_11__["calMapOriginDeviation"])(coor, floor);
          geos.push(geo[0], 1.2, -geo[1]);
        });
        var line2 = drawLine(geos);
        floor.animationTraceObejct.add(line2);
        item.pathObject = line2;
      }
    }
  }

  function drawLine(geos) {
    var geometry = new three_examples_jsm_lines_LineGeometry_js__WEBPACK_IMPORTED_MODULE_8__["LineGeometry"]();
    var matLine = new _assets_LineMaterial_js__WEBPACK_IMPORTED_MODULE_9__["LineMaterial"]({
      color: 0x15e298,
      linewidth: 10,
      // in pixels
      dashed: false,
      worldUnits: true,
      vertexColors: false
    });
    geometry.setPositions(geos);
    var line2 = new three_examples_jsm_lines_Line2_js__WEBPACK_IMPORTED_MODULE_10__["Line2"](geometry, matLine);
    line2.computeLineDistances();
    line2.scale.set(1, 1, 1);
    matLine.resolution.set(window.innerWidth, window.innerHeight);
    line2.renderOrder = 10;
    return line2;
  }

  function checkRobotPosDif(geo, geoBefore) {
    var difx = geo[0] - geoBefore[0];
    var dify = geo[1] - geoBefore[1];
    var difangle = geo[3] - geoBefore[3];

    if (Math.abs(difx) > 0.0000001 || Math.abs(dify) > 0.0000001 || Math.abs(difangle) > 0.000001) {
      return true;
    }

    return false;
  }

  function checkDataTime(startTime, endTime) {
    var time = moment__WEBPACK_IMPORTED_MODULE_6___default()().format('x');
    var timeDif = (endTime - startTime) / 1000;
    var timeIsNow = true;

    if (endTime - Number(time) > 5) {
      timeIsNow = false;
    }

    if (timeDif < 0 || timeDif > 5 || timeDif === 0) {
      return false;
    }

    return true;
  }

  function checkRobotStatus(operationStatus) {
    if (operationStatus === 'OFFLINE' || operationStatus === 'INACTIVE' // operationStatus === 'MAINTENANCE' ||
    //  operationStatus === 'ERROR' ||
    // operationStatus === 'UNKNOWN'
    ) {
        return false;
      }

    return true;
  }

  return {};
}

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/index.ts":
/*!***********************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/index.ts ***!
  \***********************************************************************/
/*! exports provided: DeviceControlPanel, FloorDisplay, BlockDisplay, LightSetter, RobotDisplay, RobotInfoWindow, outsideRobotsAnimation, robotControl, hiveStaticControl, animationControl, robotsAnimation, XuzhourobotsAnimation, elevatorControl, wankeOutside, loadBuildingArea, GetMachineObject, loadXuzhouInside, loadBigRobot, loadInside, loadMachineObject, loadScenes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _pages_DeviceControlPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pages/DeviceControlPanel */ "./src/pages/BigScreen/components/ThreeScene/components/pages/DeviceControlPanel.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DeviceControlPanel", function() { return _pages_DeviceControlPanel__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _pages_FloorDisplay__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pages/FloorDisplay */ "./src/pages/BigScreen/components/ThreeScene/components/pages/FloorDisplay.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FloorDisplay", function() { return _pages_FloorDisplay__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _pages_BlockDisplay__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pages/BlockDisplay */ "./src/pages/BigScreen/components/ThreeScene/components/pages/BlockDisplay.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BlockDisplay", function() { return _pages_BlockDisplay__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var _pages_LightSetter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/LightSetter */ "./src/pages/BigScreen/components/ThreeScene/components/pages/LightSetter.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LightSetter", function() { return _pages_LightSetter__WEBPACK_IMPORTED_MODULE_3__["default"]; });

/* harmony import */ var _pages_RobotDisplay__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pages/RobotDisplay */ "./src/pages/BigScreen/components/ThreeScene/components/pages/RobotDisplay.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RobotDisplay", function() { return _pages_RobotDisplay__WEBPACK_IMPORTED_MODULE_4__["default"]; });

/* harmony import */ var _pages_RobotInfoWindow__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/RobotInfoWindow */ "./src/pages/BigScreen/components/ThreeScene/components/pages/RobotInfoWindow.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RobotInfoWindow", function() { return _pages_RobotInfoWindow__WEBPACK_IMPORTED_MODULE_5__["default"]; });

/* harmony import */ var _controls_outsideRobotsAnimation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./controls/outsideRobotsAnimation */ "./src/pages/BigScreen/components/ThreeScene/components/controls/outsideRobotsAnimation.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "outsideRobotsAnimation", function() { return _controls_outsideRobotsAnimation__WEBPACK_IMPORTED_MODULE_6__["default"]; });

/* harmony import */ var _controls_robotControl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./controls/robotControl */ "./src/pages/BigScreen/components/ThreeScene/components/controls/robotControl.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "robotControl", function() { return _controls_robotControl__WEBPACK_IMPORTED_MODULE_7__["default"]; });

/* harmony import */ var _controls_hiveStaticControl__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./controls/hiveStaticControl */ "./src/pages/BigScreen/components/ThreeScene/components/controls/hiveStaticControl.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "hiveStaticControl", function() { return _controls_hiveStaticControl__WEBPACK_IMPORTED_MODULE_8__["default"]; });

/* harmony import */ var _controls_animationControl__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./controls/animationControl */ "./src/pages/BigScreen/components/ThreeScene/components/controls/animationControl.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "animationControl", function() { return _controls_animationControl__WEBPACK_IMPORTED_MODULE_9__["default"]; });

/* harmony import */ var _controls_robotsAnimation__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./controls/robotsAnimation */ "./src/pages/BigScreen/components/ThreeScene/components/controls/robotsAnimation.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "robotsAnimation", function() { return _controls_robotsAnimation__WEBPACK_IMPORTED_MODULE_10__["default"]; });

/* harmony import */ var _controls_XuzhouRobotsAnimation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./controls/XuzhouRobotsAnimation */ "./src/pages/BigScreen/components/ThreeScene/components/controls/XuzhouRobotsAnimation.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "XuzhourobotsAnimation", function() { return _controls_XuzhouRobotsAnimation__WEBPACK_IMPORTED_MODULE_11__["default"]; });

/* harmony import */ var _controls_elevatorControl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./controls/elevatorControl */ "./src/pages/BigScreen/components/ThreeScene/components/controls/elevatorControl.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "elevatorControl", function() { return _controls_elevatorControl__WEBPACK_IMPORTED_MODULE_12__["default"]; });

/* harmony import */ var _loader_wankeOutside__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./loader/wankeOutside */ "./src/pages/BigScreen/components/ThreeScene/components/loader/wankeOutside.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "wankeOutside", function() { return _loader_wankeOutside__WEBPACK_IMPORTED_MODULE_13__["default"]; });

/* harmony import */ var _loader_loadBuildingArea__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./loader/loadBuildingArea */ "./src/pages/BigScreen/components/ThreeScene/components/loader/loadBuildingArea.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "loadBuildingArea", function() { return _loader_loadBuildingArea__WEBPACK_IMPORTED_MODULE_14__["default"]; });

/* harmony import */ var _loader_GetMachineObject__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./loader/GetMachineObject */ "./src/pages/BigScreen/components/ThreeScene/components/loader/GetMachineObject.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GetMachineObject", function() { return _loader_GetMachineObject__WEBPACK_IMPORTED_MODULE_15__["default"]; });

/* harmony import */ var _loader_loadXuzhouInside__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./loader/loadXuzhouInside */ "./src/pages/BigScreen/components/ThreeScene/components/loader/loadXuzhouInside.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "loadXuzhouInside", function() { return _loader_loadXuzhouInside__WEBPACK_IMPORTED_MODULE_16__["default"]; });

/* harmony import */ var _loader_loadBigRobot__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./loader/loadBigRobot */ "./src/pages/BigScreen/components/ThreeScene/components/loader/loadBigRobot.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "loadBigRobot", function() { return _loader_loadBigRobot__WEBPACK_IMPORTED_MODULE_17__["default"]; });

/* harmony import */ var _loader_loadInside__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./loader/loadInside */ "./src/pages/BigScreen/components/ThreeScene/components/loader/loadInside.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "loadInside", function() { return _loader_loadInside__WEBPACK_IMPORTED_MODULE_18__["default"]; });

/* harmony import */ var _loader_loadMachineObject__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./loader/loadMachineObject */ "./src/pages/BigScreen/components/ThreeScene/components/loader/loadMachineObject.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "loadMachineObject", function() { return _loader_loadMachineObject__WEBPACK_IMPORTED_MODULE_19__["default"]; });

/* harmony import */ var _loader_loadScenes__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./loader/loadScenes */ "./src/pages/BigScreen/components/ThreeScene/components/loader/loadScenes.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "loadScenes", function() { return _loader_loadScenes__WEBPACK_IMPORTED_MODULE_20__["default"]; });






 // controls







 // loader










/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/loader/GetMachineObject.ts":
/*!*****************************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/loader/GetMachineObject.ts ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GetMachineObject; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/loaders/DRACOLoader.js */ "./node_modules/three/examples/jsm/loaders/DRACOLoader.js");
/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ "./node_modules/three/examples/jsm/loaders/GLTFLoader.js");
/* harmony import */ var _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../models/threeModels/index */ "./src/pages/BigScreen/models/threeModels/index.ts");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");






function GetMachineObject(_ref) {
  var setMachineObjects = _ref.setMachineObjects;
  var dracoLoader = new three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_2__["DRACOLoader"]();
  dracoLoader.setDecoderPath('bigScreen/robot/draco/');
  dracoLoader.setDecoderConfig({
    type: 'js'
  });
  dracoLoader.preload();

  var setCandleLightModel = function setCandleLightModel() {
    return new Promise(function (resolve) {
      var gltfloader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_3__["GLTFLoader"]();
      gltfloader.setDRACOLoader(dracoLoader);
      var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/';

      if (true) {
        baseUrl = '/oss/screen/';
      } //    gltfloader.load(baseUrl + 'model_data/lightAB-2-processed.glb', (gltf) => {


      gltfloader.load('bigScreen/robot/candleLight-inside-processed.gltf', function (gltf) {
        gltf.scene.renderOrder = 8;
        gltf.scene.position.set(0, 0, 0);
        gltf.scene.name = 'candleLight';
        var bbox = new three__WEBPACK_IMPORTED_MODULE_5__["Box3"]().setFromObject(gltf.scene); // console.log(bbox)
        //  setRobotObject(gltf.scene)
        //  onMouseRobot()

        resolve(gltf.scene);
      });
    });
  };

  var setHiveModel = function setHiveModel() {
    return new Promise(function (resolve) {
      var hive = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"]({
        name: 'hiveModel',
        type: 'hive'
      });
      _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"].addRobots(hive);
      var gltfloader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_3__["GLTFLoader"]();
      gltfloader.setDRACOLoader(dracoLoader);
      var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/';
      var localUrl = 'bigScreen/robot/';

      if (true) {
        baseUrl = '/oss/screen/';
      }

      gltfloader.load('bigScreen/robot/hiveDelivery6-inside-processed.gltf', function (gltf) {
        gltf.scene.renderOrder = 8;
        gltf.scene.position.set(0, 0, 0);
        gltf.scene.name = 'hiveDelivery6'; //   setHiveObject(gltf.scene)

        hive.object = gltf.scene;
        resolve(gltf.scene);
      });
    });
  };

  var loadHiveVacuum = function loadHiveVacuum() {
    return new Promise(function (resolve) {
      var hive = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"]({
        name: 'hiveModel',
        type: 'hive'
      });
      _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"].addRobots(hive);
      var gltfloader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_3__["GLTFLoader"]();
      gltfloader.setDRACOLoader(dracoLoader);
      var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/';
      var localUrl = 'bigScreen/robot/';

      if (true) {
        baseUrl = '/oss/screen/';
      }

      gltfloader.load('bigScreen/robot/hiveVacuum-outside-onRobot-processed.gltf', function (gltf) {
        gltf.scene.renderOrder = 8;
        gltf.scene.position.set(0, 0, 0);
        gltf.scene.name = 'hiveVacuum'; //   setHiveObject(gltf.scene)

        hive.object = gltf.scene;
        resolve(gltf.scene);
      });
    });
  };

  var loadHiveVacuumInside = function loadHiveVacuumInside() {
    return new Promise(function (resolve) {
      var hive = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"]({
        name: 'hiveModel',
        type: 'hive'
      });
      _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"].addRobots(hive);
      var gltfloader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_3__["GLTFLoader"]();
      gltfloader.setDRACOLoader(dracoLoader);
      var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/';
      var localUrl = 'bigScreen/robot/';

      if (true) {
        baseUrl = '/oss/screen/';
      }

      gltfloader.load('bigScreen/robot/hiveVacuum-inside-onRobot-processed.gltf', function (gltf) {
        gltf.scene.renderOrder = 8;
        gltf.scene.position.set(0, 0, 0);
        gltf.scene.name = 'hiveVacuumInside'; //   setHiveObject(gltf.scene)

        hive.object = gltf.scene;
        resolve(gltf.scene);
      });
    });
  };

  var loadHiveGuide = function loadHiveGuide() {
    return new Promise(function (resolve) {
      var hive = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"]({
        name: 'hiveModel',
        type: 'hive'
      });
      _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"].addRobots(hive);
      var gltfloader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_3__["GLTFLoader"]();
      gltfloader.setDRACOLoader(dracoLoader);
      var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/';
      var localUrl = 'bigScreen/robot/';

      if (true) {
        baseUrl = '/oss/screen/';
      }

      gltfloader.load('bigScreen/robot/hiveGuide-inside-processed.gltf', function (gltf) {
        gltf.scene.renderOrder = 8;
        gltf.scene.position.set(0, 0, 0);
        gltf.scene.name = 'hiveGuide'; //   setHiveObject(gltf.scene)

        hive.object = gltf.scene;
        resolve(gltf.scene);
      });
    });
  };

  var loadHiveClean = function loadHiveClean() {
    return new Promise(function (resolve) {
      var hive = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"]({
        name: 'hiveModel',
        type: 'hive'
      });
      _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"].addRobots(hive);
      var gltfloader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_3__["GLTFLoader"]();
      gltfloader.setDRACOLoader(dracoLoader);
      var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/';
      var localUrl = 'bigScreen/robot/';

      if (true) {
        baseUrl = '/oss/screen/';
      }

      gltfloader.load('bigScreen/robot/hiveSterilization-inside-processed.gltf', function (gltf) {
        gltf.scene.renderOrder = 8;
        gltf.scene.position.set(0, 0, 0);
        gltf.scene.name = 'hiveClean'; //   setHiveObject(gltf.scene)

        hive.object = gltf.scene;
        resolve(gltf.scene);
      });
    });
  };

  var loadHiveMedical4 = function loadHiveMedical4() {
    return new Promise(function (resolve) {
      var hive = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"]({
        name: 'hiveModel',
        type: 'hive'
      });
      _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"].addRobots(hive);
      var gltfloader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_3__["GLTFLoader"]();
      gltfloader.setDRACOLoader(dracoLoader);
      var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/';
      var localUrl = 'bigScreen/robot/';

      if (true) {
        baseUrl = '/oss/screen/';
      }

      gltfloader.load('bigScreen/robot/hiveMedical4-inside-processed.gltf', function (gltf) {
        gltf.scene.renderOrder = 8;
        gltf.scene.position.set(0, 0, 0);
        gltf.scene.name = 'hiveMedical4'; //   setHiveObject(gltf.scene)

        hive.object = gltf.scene;
        resolve(gltf.scene);
      });
    });
  };

  var setSunCleanModel = function setSunCleanModel() {
    return new Promise(function (resolve) {
      var sun = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"]({
        name: 'sunPrototype',
        type: 'sunClean'
      });
      _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"].addRobots(sun);
      var gltfloader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_3__["GLTFLoader"]();
      gltfloader.setDRACOLoader(dracoLoader);
      var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/';
      var localUrl = 'bigScreen/robot/';

      if (true) {
        baseUrl = '/oss/screen/';
      }

      gltfloader.load('bigScreen/robot/sunClean-outside-processed.gltf', function (gltf) {
        gltf.scene.renderOrder = 8;
        gltf.scene.position.set(0, 0, 0);
        gltf.scene.name = 'sunClean';
        var bbox = new three__WEBPACK_IMPORTED_MODULE_5__["Box3"]().setFromObject(gltf.scene); //    console.log(bbox)
        //   setHiveObject(gltf.scene)

        sun.object = gltf.scene;
        resolve(gltf.scene);
      });
    });
  };

  var setSunCleanModelInside = function setSunCleanModelInside() {
    return new Promise(function (resolve) {
      var sun = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"]({
        name: 'sunPrototype',
        type: 'sunClean'
      });
      _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"].addRobots(sun);
      var gltfloader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_3__["GLTFLoader"]();
      gltfloader.setDRACOLoader(dracoLoader);
      var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/';
      var localUrl = 'bigScreen/robot/';

      if (true) {
        baseUrl = '/oss/screen/';
      }

      gltfloader.load('bigScreen/robot/sunClean-inside-processed.gltf', function (gltf) {
        gltf.scene.renderOrder = 8;
        gltf.scene.position.set(0, 0, 0);
        gltf.scene.name = 'sunCleanInside';
        var bbox = new three__WEBPACK_IMPORTED_MODULE_5__["Box3"]().setFromObject(gltf.scene); // console.log(bbox)
        //   setHiveObject(gltf.scene)

        sun.object = gltf.scene;
        resolve(gltf.scene);
      });
    });
  };

  function loadSunLightModel() {
    return new Promise(function (resolve) {
      var gltfloader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_3__["GLTFLoader"]();
      gltfloader.setDRACOLoader(dracoLoader);
      var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/';
      var localUrl = 'bigScreen/robot/';

      if (true) {
        baseUrl = '/oss/screen/';
      }

      gltfloader.load('bigScreen/robot/sunLight-inside-processed.gltf', function (gltf) {
        // gltf.scene.scale.set(0.87, 0.87, 0.87)
        gltf.scene.name = 'sunLight';
        resolve(gltf.scene);
      });
    });
  }

  function init() {
    return _init.apply(this, arguments);
  }

  function _init() {
    _init = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {
      return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              Promise.all([setCandleLightModel(), setHiveModel(), loadHiveGuide(), loadHiveClean(), loadHiveVacuum(), loadHiveVacuumInside(), loadHiveMedical4(), setSunCleanModel(), setSunCleanModelInside(), loadSunLightModel()]).then(function (results) {
                setMachineObjects(results);
              });

            case 1:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));
    return _init.apply(this, arguments);
  }

  init();
}

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/loader/loadBigRobot.ts":
/*!*************************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/loader/loadBigRobot.ts ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return loadBigRobot; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var three_examples_jsm_loaders_GLTFLoader_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader.js */ "./node_modules/three/examples/jsm/loaders/GLTFLoader.js");
/* harmony import */ var three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/loaders/DRACOLoader.js */ "./node_modules/three/examples/jsm/loaders/DRACOLoader.js");
/* harmony import */ var _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../models/threeModels/index */ "./src/pages/BigScreen/models/threeModels/index.ts");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");






function loadBigRobot(_ref) {
  var renderer = _ref.renderer,
      camera = _ref.camera,
      controls = _ref.controls,
      scene = _ref.scene;
  var dracoLoader = new three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_2__["DRACOLoader"]();
  var robotName = '';
  dracoLoader.setDecoderPath('bigScreen/robot/draco/');
  dracoLoader.setDecoderConfig({
    type: 'js'
  });
  dracoLoader.preload();
  var sceneA = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["Scene"]({
    name: 'RobotExhibit',
    scene: scene,
    objects: []
  });
  _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["Scene"].addScenes(sceneA);
  var robotItem;
  var messageObject = new three__WEBPACK_IMPORTED_MODULE_5__["Object3D"]();
  var sprite;

  function createFloor() {
    var loader = new three__WEBPACK_IMPORTED_MODULE_5__["TextureLoader"]();
    var gMap = loader.load('bigScreen/texture/point.png');
    gMap.wrapS = three__WEBPACK_IMPORTED_MODULE_5__["RepeatWrapping"];
    gMap.wrapT = three__WEBPACK_IMPORTED_MODULE_5__["RepeatWrapping"];
    gMap.repeat.set(120, 80);
    var boxProjectedMat = new three__WEBPACK_IMPORTED_MODULE_5__["MeshBasicMaterial"]({
      color: 0xffffff,
      map: gMap
    });
    boxProjectedMat.transparent = true; //      boxProjectedMat.opacity = 0.5

    var groundPlane = new three__WEBPACK_IMPORTED_MODULE_5__["Mesh"](new three__WEBPACK_IMPORTED_MODULE_5__["PlaneGeometry"](3000, 2000), boxProjectedMat);
    groundPlane.rotateX(-Math.PI / 2);
    groundPlane.position.set(0, -2, 0);
    scene.add(groundPlane);
  }

  var getEnvMap = function getEnvMap() {
    var texture = new three__WEBPACK_IMPORTED_MODULE_5__["TextureLoader"]().load('bigScreen/texture/enmap.jpg');
    return texture;
  };

  var setRobot2 = function setRobot2(texture, item) {
    var gltfloader = new three_examples_jsm_loaders_GLTFLoader_js__WEBPACK_IMPORTED_MODULE_1__["GLTFLoader"](); //  console.log(dracoLoader)

    gltfloader.setDRACOLoader(dracoLoader);
    var baseUrl = item.url;
    gltfloader.load(baseUrl, function (gltf) {
      robotItem = gltf.scene;
      gltf.scene.renderOrder = 8; //  gltf.scene.children[0].scale.set(10, 10, 10)
      // gltf.scene.position.set(0, 0, 0)

      var bbox = new three__WEBPACK_IMPORTED_MODULE_5__["Box3"]().setFromObject(gltf.scene);
      var x = bbox.max.x - bbox.min.x;
      var y = bbox.max.y - bbox.min.y;
      var z = bbox.max.z - bbox.min.z;
      var helper = new three__WEBPACK_IMPORTED_MODULE_5__["Box3Helper"](bbox, new three__WEBPACK_IMPORTED_MODULE_5__["Color"](0xffff00)); // scene.add(helper);
      // obj.rotateY(-Math.PI / 2)
      //  gltf.scene.scale.set(10, 10, 10)

      gltf.scene.traverse(function (mesh) {
        if (mesh.material) {
          if (mesh.material.metalness > 0) {
            mesh.material.envMap = texture;
          }
        } // scene.add(mesh)

      }); // console.log(item, bbox,item.name)

      gltf.scene.visible = false;
      scene.add(gltf.scene);
      item.setRobotObject(gltf.scene); // sceneA.objects.push(gltf.scene)
      //    setSpriteMessage(gltf.scene, bbox)˙
      //  return gltf.scene
      // autoRotate()
    });
  }; // setRobot()


  var initBackground = function initBackground() {
    var cubeTextureLoader = new three__WEBPACK_IMPORTED_MODULE_5__["CubeTextureLoader"]();
    cubeTextureLoader.setPath('bigScreen/texture/skybox/'); // 六张图片分别是朝前的（posz）、朝后的（negz）、朝上的（posy）、朝下的（negy）、朝右的（posx）和朝左的（negx）。

    var cubeTexture = cubeTextureLoader.load(['px.jpg', 'nx.jpg', 'py.jpg', 'ny.jpg', 'pz.jpg', 'nz.jpg']);
    var modelObject = new three__WEBPACK_IMPORTED_MODULE_5__["Object3D"]();
    scene.add(modelObject); //   scene.background = cubeTexture;

    var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/model_data/';

    if (true) {
      baseUrl = '/oss/screen/model_data/';
    }

    var localUrl = 'bigScreen/robot/bigRobot/';
    axios__WEBPACK_IMPORTED_MODULE_4___default.a.get(localUrl + 'robotinfo.json').then(function (res) {
      var datas = res.data.datas;

      for (var i = 0; i < datas.length; i += 1) {
        var item = datas[i];
        var url = baseUrl + item.url;
        var robotI = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["BigRobot"]({
          name: item.name,
          url: url,
          object: undefined,
          info: item.info,
          introdution: item.introdution,
          visible: false,
          imageUrl: item.imageUrl,
          series: item.series,
          scene: scene
        });
        _models_threeModels_index__WEBPACK_IMPORTED_MODULE_3__["BigRobot"].addRobots(robotI);
        setRobot2(cubeTexture, robotI);
        setSpriteMessage(item.info, robotI, 1); //   i === 0 && scene.add(model)
      }
    });
  };

  var initLight = function initLight() {
    // const dirLight1 = new THREE.DirectionalLight(0xffffff)
    // dirLight1.position.set(0, 50, 0)
    // scene.add(dirLight1)
    var lights = [];
    var ambientLight = new three__WEBPACK_IMPORTED_MODULE_5__["AmbientLight"](0x080808);
    scene.add(ambientLight);
    var light = new three__WEBPACK_IMPORTED_MODULE_5__["HemisphereLight"](0xb0b0b0, 0x474747, 0.81);
    light.position.set(0, 0, 0);
    scene.add(light);
    lights.push(light);
    var heimihelper = new three__WEBPACK_IMPORTED_MODULE_5__["HemisphereLightHelper"](light, 5); // scene.add(heimihelper)

    var dirLight = new three__WEBPACK_IMPORTED_MODULE_5__["DirectionalLight"](0xadacac, 0.66);
    dirLight.position.set(30, 10, 20);
    var dirLight1 = new three__WEBPACK_IMPORTED_MODULE_5__["DirectionalLight"](0xadacac, 0.66);
    dirLight1.position.set(-70, 10, 40);
    dirLight.name = 'dirLight';
    scene.add(dirLight);
    scene.add(dirLight1);
    lights.push(dirLight, dirLight1); //  const spotLight = new THREE.SpotLight()

    var spotLight = new three__WEBPACK_IMPORTED_MODULE_5__["SpotLight"](0xcacaca, 1);
    spotLight.position.set(-25, 20, -35);
    spotLight.angle = 0.43;
    spotLight.penumbra = 0.1;
    spotLight.decay = 2;
    spotLight.distance = 100;
    spotLight.castShadow = true;
    spotLight.shadow.mapSize.width = 512;
    spotLight.shadow.mapSize.height = 512;
    spotLight.shadow.camera.near = 10;
    spotLight.shadow.camera.far = 200;
    spotLight.shadow.focus = 1;
    var helper = new three__WEBPACK_IMPORTED_MODULE_5__["SpotLightHelper"](spotLight); // scene.add(helper)

    scene.add(spotLight);
    lights.push(spotLight);
    sceneA.lights = lights;
  };
  /* 创建字体精灵 */


  function makeTextSprite(message, parameters, geo) {
    if (parameters === undefined) parameters = {};
    var fontface = parameters.hasOwnProperty('fontface') ? parameters.fontface : 'Arial';
    /* 字体大小 */

    var fontsize = 16;
    /* 边框厚度 */

    var borderThickness = 10;
    /* 边框颜色 */

    var borderColor = parameters.hasOwnProperty('borderColor');
    /* 背景颜色 */

    var backgroundColor = parameters.hasOwnProperty('backgroundColor') ? parameters.backgroundColor : {
      r: 255,
      g: 255,
      b: 255,
      a: 1.0
    };
    var fontColor = parameters.hasOwnProperty('fontColor');
    /* 创建画布 */
    // if(message.title === '外观尺寸' && message.message == '1400 * 835 * 505 mm'){
    //   let canvas = document.getElementById('test-sprite') as HTMLCanvasElement
    //   var ctx = canvas.getContext('2d')
    // }else{

    var canvas = document.createElement('canvas');
    var ctx = canvas.getContext('2d'); // }

    /* 字体加粗 */

    ctx.font = 'Bold ' + fontsize + 'px ' + fontface;
    /* 获取文字的大小数据，高度取决于文字的大小 */

    var canvasHeight = (fontsize + 4) * message.message.length + 22; //  canvas.height = canvasHeight

    var titleWidth = ctx === null || ctx === void 0 ? void 0 : ctx.measureText(message.title).width;
    var messageWidth = 0;
    message.message.forEach(function (item) {
      var width = ctx === null || ctx === void 0 ? void 0 : ctx.measureText(item).width;

      if (width > messageWidth) {
        messageWidth = width;
      }
    });
    var canvasWidth = titleWidth + messageWidth + 22; /// canvas.width = canvasWidth

    var rateW = canvasWidth / 300;
    var rateH = canvasHeight / 150; // console.log(canvasHeight,canvasWidth)

    ctx.strokeStyle = 'rgba(255, 255, 255, 1.0)';
    drawMessage(ctx, titleWidth, borderThickness, message, fontsize);
    /* 绘制圆角矩形 */

    drawBorder(ctx, borderThickness / 2, borderThickness / 2, canvasWidth, canvasHeight);
    /* 字体颜色 */
    // console.log(canvas.height, canvas.width)

    /* 画布内容用于纹理贴图 */

    var texture = new three__WEBPACK_IMPORTED_MODULE_5__["Texture"](canvas);
    texture.needsUpdate = true;
    var spriteMaterial = new three__WEBPACK_IMPORTED_MODULE_5__["SpriteMaterial"]({
      map: texture,
      depthTest: true
    });
    var sprite = new three__WEBPACK_IMPORTED_MODULE_5__["Sprite"](spriteMaterial);
    /* 缩放比例 */
    // console.log(rate)

    var _geo = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(geo, 3),
        posX = _geo[0],
        posY = _geo[1],
        posZ = _geo[2];

    sprite.scale.set(5, 2.5, 1);
    sprite.center = new three__WEBPACK_IMPORTED_MODULE_5__["Vector2"](posZ < 0 ? 0 : rateW, posY > 2 ? 1 - rateH : 1);
    sprite.position.set(posX, posY, posZ);
    sprite.renderOrder = 6;
    return sprite;
  }

  function drawMessage(ctx, metrics, borderThickness, message, fontsize) {
    // var metrics = ctx.measureText(message.title)
    ctx.fillStyle = 'rgba(255, 255, 255, 1.0)';
    ctx.fillText(message.title, borderThickness, 10 + fontsize);
    ctx.fillStyle = '#00C199';

    for (var i = 0; i < message.message.length; i += 1) {
      var word = message.message[i];
      var height = 0;
      i === 0 ? height = 10 + fontsize * (i + 1) : height = 10 + 4 * i + fontsize * (i + 1);
      ctx.fillText(word, borderThickness + metrics + 2, height);
    }
  }
  /* 绘制圆角矩形 */


  function drawBorder(ctx, x, y, w, h) {
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(0, 0.5);
    ctx.lineTo(w, 0.5);
    ctx.closePath();
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(0, h + 0.5);
    ctx.lineTo(w, h + 0.5);
    ctx.closePath();
    ctx.stroke(); // ctx.fillStyle = 'rgba(0, 0, 0, 0.42)'
    // ctx.fillRect(0, 0, w, h+0.5)
  }

  function setSprite(item, robotObject, bbox) {
    var _item$geo = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(item.geo, 3),
        posX = _item$geo[0],
        posY = _item$geo[1],
        posZ = _item$geo[2]; //   const [robotX, robotY, robotZ] = spriteMessage.robotScale
    // const max =bbox.max
    // const min = bbox.min
    // let robotX = Math.abs(max.x) + Math.abs(min.x)
    // let robotY = Math.abs(max.y) + Math.abs(min.y)
    // let robotZ = Math.abs(max.z) + Math.abs(min.z)


    var material = new three__WEBPACK_IMPORTED_MODULE_5__["LineBasicMaterial"]({
      color: 0xffffff,
      linewidth: 1 // linecap: 'round', //ignored by WebGLRenderer
      // linejoin: 'round', //ignored by WebGLRenderer

    });
    var sprite = makeTextSprite({
      title: item.title,
      message: item.message
    }, {
      fontsize: 20,
      borderColor: '#f7f7f7'
      /* 边框黑色 */
      ,
      backgroundColor: {
        r: 255,
        g: 255,
        b: 255,
        a: 0.9
      }
      /* 背景颜色 */

    }, item.geo); // let geoX = posX >= 0 ? max.x + posX : min.x + posX
    // let geoY = robotY + posY
    // let geoZ = posZ >= 0 ? max.z + posZ : min.z + posZ

    var transPoints = [new three__WEBPACK_IMPORTED_MODULE_5__["Vector3"](posX, posY, posZ), new three__WEBPACK_IMPORTED_MODULE_5__["Vector3"](0, 0, 0)];
    var geometry = new three__WEBPACK_IMPORTED_MODULE_5__["BufferGeometry"]().setFromPoints(transPoints);
    var line = new three__WEBPACK_IMPORTED_MODULE_5__["Line"](geometry, material);
    sprite.visible = false;
    line.visible = false; //  sprite.scale.set(2, 1, 1)
    // scene.add(line)

    messageObject.add(sprite);
    robotObject.sprites.push([sprite, line]);
  }

  function setSpriteMessage(info, robotI, bbox) {
    scene.add(messageObject);
    info.forEach(function (item) {
      setSprite(item, robotI, bbox);
    });
  }

  var angle = 0;

  var autoRotate = function autoRotate() {
    requestAnimationFrame(autoRotate);
    robotItem.rotation.y += 0.007;
    angle += 0.005; // 圆周运动网格模型x坐标计算  绕转半径400
    //  var x = 10 * Math.sin(angle)
    //  圆周运动网格模型y坐标计算  绕转半径400
    //  var z = 10 * Math.cos(angle)
    //  messageObject.position.set(x, 10, z)
    //  messageObject.rotation.y += 0.007
  }; //  createFloor()


  initBackground();
  initLight(); //  setSpriteMessage(1)
  // initContent();
  // scene.add(new THREE.AxesHelper(200))
}

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/loader/loadBuildingArea.ts":
/*!*****************************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/loader/loadBuildingArea.ts ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return loadBuildingArea; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _utils_coordinateTool__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/coordinateTool */ "./src/utils/coordinateTool.ts");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
/* harmony import */ var three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three/examples/jsm/loaders/DRACOLoader.js */ "./node_modules/three/examples/jsm/loaders/DRACOLoader.js");
/* harmony import */ var _models_threeModels_index__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../models/threeModels/index */ "./src/pages/BigScreen/models/threeModels/index.ts");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var three_examples_jsm_utils_BufferGeometryUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! three/examples/jsm/utils/BufferGeometryUtils.js */ "./node_modules/three/examples/jsm/utils/BufferGeometryUtils.js");










function loadBuildingArea(_x) {
  return _loadBuildingArea.apply(this, arguments);
}

function _loadBuildingArea() {
  _loadBuildingArea = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2(_ref) {
    var scene, addObjects, currentHub, addUpdates, dracoLoader, sceneA, cylinder, center, materialB, texture, initLight, loadGround, loadRoad, loadMoveLine, _loadMoveLine, createRoadLine, move, loadCenterBuilding, calCenterPoint, loadBuilding, createCylinder, createBuilding, createBuildingEdgeLine, createOutsideItem, init;

    return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            init = function _init() {
              createOutsideItem();
              var buildMesh = loadBuilding(); //  loadBuildingModel()

              initLight();
              var groundPlane = loadGround();
              var roadMesh = loadRoad();
              var moveline = loadMoveLine();
              addUpdates(move, 'BuildingArea'); // scene.add(new THREE.AxesHelper(200))
            };

            createOutsideItem = function _createOutsideItem() {
              var area = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_6__["OutdoorArea"]({
                name: currentHub.name,
                scene: scene
              });
              area.objects.position.set(0, 0, 0);
              scene.add(area.objects); // area.scene= scene
            };

            createBuildingEdgeLine = function _createBuildingEdgeLi(mesh) {
              var lineMaterial = new three__WEBPACK_IMPORTED_MODULE_4__["LineBasicMaterial"]({
                color: 0x338182,
                transparent: true,
                linewidth: 5,
                opacity: 1.0
              }); // 解决z-flighting

              lineMaterial.polygonOffset = true;
              lineMaterial.depthTest = true;
              lineMaterial.polygonOffsetFactor = 1;
              lineMaterial.polygonOffsetUnits = 1.0;
              var edges = new three__WEBPACK_IMPORTED_MODULE_4__["EdgesGeometry"](mesh.geometry, 1);
              var lines = new three__WEBPACK_IMPORTED_MODULE_4__["LineSegments"](edges, lineMaterial); //  lines.rotateX(-Math.PI / 2)
              // lines.rotateZ(Math.PI)

              lines.rotateX(-Math.PI / 2);
              scene.add(lines);
            };

            createBuilding = function _createBuilding(geos, height) {
              var shape = new three__WEBPACK_IMPORTED_MODULE_4__["Shape"]();
              geos.forEach(function (geo, index) {
                var _WSG84TOMercatorCente3 = WSG84TOMercatorCenter(geo, center),
                    _WSG84TOMercatorCente4 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_WSG84TOMercatorCente3, 2),
                    x = _WSG84TOMercatorCente4[0],
                    z = _WSG84TOMercatorCente4[1];

                if (index === 0) {
                  shape.moveTo(x, z);
                }

                shape.lineTo(x, z);
              });
              var extrudeSettings = {
                depth: height,
                bevelEnabled: false
              };
              var geometry = new three__WEBPACK_IMPORTED_MODULE_4__["ExtrudeGeometry"](shape, extrudeSettings);
              return geometry;
            };

            createCylinder = function _createCylinder(x, z, height) {
              var canvas = document.createElement('canvas');
              var ctx = canvas.getContext('2d');
              var rate;

              if (ctx) {
                ctx.fillStyle = 'rgba(255, 255, 255, 1.0)';
                ctx.font = 'Bold 20px Arial';
                var word = currentHub.name;
                var distance = 2;
                var width = ctx === null || ctx === void 0 ? void 0 : ctx.measureText(word).width;
                rate = width / 300;
                ctx.fillText(word, distance, 14 + 2);
              }

              var texture = new three__WEBPACK_IMPORTED_MODULE_4__["Texture"](canvas);
              texture.needsUpdate = true;
              var spriteMaterial = new three__WEBPACK_IMPORTED_MODULE_4__["SpriteMaterial"]({
                map: texture,
                depthTest: true
              });
              var sprite = new three__WEBPACK_IMPORTED_MODULE_4__["Sprite"](spriteMaterial);
              sprite.center = new three__WEBPACK_IMPORTED_MODULE_4__["Vector2"](0.5, 0);
              var geometry = new three__WEBPACK_IMPORTED_MODULE_4__["CylinderGeometry"](0, 20, 30, 4, 1);
              sprite.position.set(x, height + 40, z);
              sprite.center.set(rate / 2, 1);
              sprite.scale.set(140, 70, 1);
              sprite.renderOrder = 1;
              var material = new three__WEBPACK_IMPORTED_MODULE_4__["MeshStandardMaterial"]({
                color: 0xa5a5a5,
                emissive: 0x15e298,
                metalness: 0.71,
                roughness: 0.1,
                wireframe: false
              });
              cylinder = new three__WEBPACK_IMPORTED_MODULE_4__["Mesh"](geometry, material); //   35.18697738647461 17.330108642578125

              cylinder.position.set(x, height + 70, z);
              cylinder.rotateX(Math.PI);
              scene.add(cylinder);
              scene.add(sprite);
            };

            loadBuilding = function _loadBuilding() {
              var buildingObject = [];
              var pos = [];
              var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/';

              if (true) {
                baseUrl = '/oss/screen/';
              } // let url = baseUrl + 'wanke-building-no7b.json'


              var url = 'bigScreen/building/wanke-building.json';

              if (currentHub.id === 'cefbcf55-f582-4609-8803-dc4b4f6b3607') {
                url = 'bigScreen/building/xilihospital.json';
              } //  const buildinggeo = axios.get(baseUrl + 'wanke-building-no7b.json').then((res) => {


              var buildinggeo = axios__WEBPACK_IMPORTED_MODULE_7___default.a.get(url).then(function (res) {
                var data = res.data;
                var centerId = data.centerId;

                for (var i = 0; i < data.features.length; i += 1) {
                  var item = data.features[i];
                  var height = item.properties.height;
                  var geos = item.geometry.coordinates[0];
                  var objectid = item.properties.objectid;
                  pos.push(geos);

                  if (objectid !== centerId) {
                    var geometry = createBuilding(geos, height);
                    buildingObject.push(geometry);
                  } else {
                    loadCenterBuilding(item);
                  }
                }

                var mergedGeometry = three_examples_jsm_utils_BufferGeometryUtils_js__WEBPACK_IMPORTED_MODULE_8__["BufferGeometryUtils"].mergeBufferGeometries(buildingObject);
                var mesh = new three__WEBPACK_IMPORTED_MODULE_4__["Mesh"](mergedGeometry, materialB.clone()); // mesh.rotateZ(Math.PI)

                mesh.rotateX(-Math.PI / 2);
                createBuildingEdgeLine(mesh); // const build = new Building({
                //   name: 'wankeBuildings',
                //   object: mesh,
                //   geos: pos,
                // })
                // Building.addToBuildings(build)

                scene.add(mesh);
                return mesh;
              });
            };

            calCenterPoint = function _calCenterPoint(geos) {
              var x = 0;
              var y = 0;
              var z = 0;
              var length = geos.length;

              for (var i = 0; i < length; i += 1) {
                var _lon = geos[i][0] * Math.PI / 180;

                var _lat = geos[i][1] * Math.PI / 180;

                x += Math.cos(_lat) * Math.cos(_lon);
                y += Math.cos(_lat) * Math.sin(_lon);
                z += Math.sin(_lat);
              }

              x /= length;
              y /= length;
              z /= length;
              var lon = Math.atan2(y, x);
              var hyp = Math.sqrt(x * x + y * y);
              var lat = Math.atan2(z, hyp);
              var finalLat = lat * 180 / Math.PI;
              var finalLng = lon * 180 / Math.PI;
              return [finalLng, finalLat];
            };

            move = function _move() {
              texture.offset.x -= 0.0026;
              cylinder ? cylinder.rotation.y += 0.04 : null;
            };

            createRoadLine = function _createRoadLine(geometries, texture) {
              // eslint-disable-next-line no-multi-assign
              texture.wrapS = texture.wrapT = three__WEBPACK_IMPORTED_MODULE_4__["RepeatWrapping"]; // 每个都重复

              texture.needsUpdate = true;
              texture.repeat.set(1, 1);
              var materia4 = new three__WEBPACK_IMPORTED_MODULE_4__["MeshBasicMaterial"]({
                map: texture,
                side: three__WEBPACK_IMPORTED_MODULE_4__["FrontSide"],
                transparent: true,
                opacity: 0.72
              });
              var tubes = [];

              var _loop = function _loop(i) {
                var geoArr = [];
                geometries[i].coordinates.forEach(function (geo) {
                  var pos = WSG84TOMercatorCenter(geo, center);
                  geoArr.push(new three__WEBPACK_IMPORTED_MODULE_4__["Vector3"](pos[0], -4, pos[1]));
                });
                var curve = new three__WEBPACK_IMPORTED_MODULE_4__["CatmullRomCurve3"](geoArr); // 曲线路径

                var tubularSegments = geometries[i].coordinates.length;
                var tubeGeometry = new three__WEBPACK_IMPORTED_MODULE_4__["TubeGeometry"](curve, tubularSegments, 3, 16);
                tubes.push(tubeGeometry); //   let mesh = new THREE.Mesh(tubeGeometry, materia4)
              };

              for (var i = 0; i < 26; i += 1) {
                _loop(i);
              }

              var mergedGeometry = three_examples_jsm_utils_BufferGeometryUtils_js__WEBPACK_IMPORTED_MODULE_8__["BufferGeometryUtils"].mergeBufferGeometries(tubes);
              var mesh = new three__WEBPACK_IMPORTED_MODULE_4__["Mesh"](mergedGeometry, materia4); // mesh.rotateY(Math.PI)

              mesh.rotateX(Math.PI);
              scene.add(mesh); // move()
              //  sceneA.objects.push(mesh)

              return mesh;
            };

            _loadMoveLine = function _loadMoveLine3() {
              _loadMoveLine = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {
                var texture1, linegeo, linegeo1, geometries, geometries2;
                return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {
                  while (1) {
                    switch (_context.prev = _context.next) {
                      case 0:
                        texture1 = new three__WEBPACK_IMPORTED_MODULE_4__["TextureLoader"]().load('bigScreen/texture/green-line.png');
                        _context.next = 3;
                        return axios__WEBPACK_IMPORTED_MODULE_7___default.a.get('bigScreen/building/wanke-moveRoad.json');

                      case 3:
                        linegeo = _context.sent;
                        _context.next = 6;
                        return axios__WEBPACK_IMPORTED_MODULE_7___default.a.get('bigScreen/building/wanke-moveRoad2.json');

                      case 6:
                        linegeo1 = _context.sent;
                        geometries = linegeo.data.geometries;
                        geometries2 = linegeo1.data.geometries;
                        createRoadLine(geometries, texture); //  createRoadLine(geometries2,texture1)

                      case 10:
                      case "end":
                        return _context.stop();
                    }
                  }
                }, _callee);
              }));
              return _loadMoveLine.apply(this, arguments);
            };

            loadMoveLine = function _loadMoveLine2() {
              return _loadMoveLine.apply(this, arguments);
            };

            loadRoad = function _loadRoad() {
              var roadObject = new three__WEBPACK_IMPORTED_MODULE_4__["Object3D"]();
              var linegeo = axios__WEBPACK_IMPORTED_MODULE_7___default.a.get('bigScreen/building/wanke-topRoad.json').then(function (res) {
                var geometries = res.data.geometries;
                var material = new three__WEBPACK_IMPORTED_MODULE_4__["LineBasicMaterial"]({
                  color: '#6E9092',
                  linewidth: 1,
                  transparent: true,
                  opacity: 0.5
                });
                geometries.forEach(function (geomatery) {
                  var points = geomatery.coordinates;
                  var transPoints = [];
                  points.forEach(function (geo) {
                    var geoM = WSG84TOMercatorCenter(geo, center);
                    var newGeo = new three__WEBPACK_IMPORTED_MODULE_4__["Vector3"](geoM[0], 0.1, geoM[1]);
                    transPoints.push(newGeo);
                  });
                  var geometry = new three__WEBPACK_IMPORTED_MODULE_4__["BufferGeometry"]().setFromPoints(transPoints);
                  var line = new three__WEBPACK_IMPORTED_MODULE_4__["Line"](geometry, material);
                  line.rotateX(Math.PI);
                  roadObject.add(line); //  scene.add(line)
                }); // const mergedGeometry = BufferGeometryUtils.mergeBufferGeometries(roadObject)
                // let mesh = new THREE.Mesh(mergedGeometry, material)
                // mesh.rotateX(Math.PI)

                scene.add(roadObject); // sceneA.objects.push(roadObject)

                return roadObject;
              });
            };

            loadGround = function _loadGround() {
              var loader = new three__WEBPACK_IMPORTED_MODULE_4__["TextureLoader"]();
              var gMap = loader.load('bigScreen/texture/point.png');
              gMap.wrapS = three__WEBPACK_IMPORTED_MODULE_4__["RepeatWrapping"];
              gMap.wrapT = three__WEBPACK_IMPORTED_MODULE_4__["RepeatWrapping"];
              gMap.repeat.set(250, 150);
              var boxProjectedMat = new three__WEBPACK_IMPORTED_MODULE_4__["MeshBasicMaterial"]({
                color: 0x0c523b,
                map: gMap
              });
              boxProjectedMat.transparent = true; //      boxProjectedMat.opacity = 0.5

              var groundPlane = new three__WEBPACK_IMPORTED_MODULE_4__["Mesh"](new three__WEBPACK_IMPORTED_MODULE_4__["PlaneGeometry"](5000, 3000), boxProjectedMat);
              groundPlane.rotateX(-Math.PI / 2);
              groundPlane.position.set(0, -0.1, 0);
              scene.add(groundPlane); //     render();

              sceneA.objects.push(groundPlane);
              return groundPlane;
            };

            initLight = function _initLight() {
              var dirLight1 = new three__WEBPACK_IMPORTED_MODULE_4__["DirectionalLight"](0xffffff);
              dirLight1.position.set(1, 1, 1); //   scene.add(dirLight1)

              var dirLight2 = new three__WEBPACK_IMPORTED_MODULE_4__["DirectionalLight"](0xffffff);
              dirLight2.position.set(-1, 1, -1);
              scene.add(dirLight1);
              var ambientLight = new three__WEBPACK_IMPORTED_MODULE_4__["AmbientLight"](0x2e2e2e);
              scene.add(ambientLight);
              scene.background = new three__WEBPACK_IMPORTED_MODULE_4__["Color"](0x0a2329); // scene.fog = new THREE.Fog( 0x2e2d2d, 500, 10000 );
            };

            scene = _ref.scene, addObjects = _ref.addObjects, currentHub = _ref.currentHub, addUpdates = _ref.addUpdates;
            dracoLoader = new three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_5__["DRACOLoader"]();
            dracoLoader.setDecoderPath('bigScreen/robot/draco/');
            dracoLoader.setDecoderConfig({
              type: 'js'
            });
            sceneA = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_6__["Scene"]({
              name: 'BuildingArea',
              scene: scene,
              objects: []
            });
            _models_threeModels_index__WEBPACK_IMPORTED_MODULE_6__["Scene"].addScenes(sceneA);
            // const center = [113.942669, 22.580153]
            center = [113.94245812, 22.57581673];

            if (currentHub.id === 'cefbcf55-f582-4609-8803-dc4b4f6b3607') {
              center = [113.94490717, 22.58303714];
            }

            materialB = new three__WEBPACK_IMPORTED_MODULE_4__["MeshPhongMaterial"]({
              emissive: 0x07272d,
              emissiveIntensity: 0.4,
              color: 0x51c0b0,
              transparent: true,
              opacity: 0.92,
              shininess: 30
            });
            texture = new three__WEBPACK_IMPORTED_MODULE_4__["TextureLoader"]().load('bigScreen/texture/gline.png');

            loadCenterBuilding = function loadCenterBuilding(item) {
              var height = item.properties.height;
              var geos = item.geometry.coordinates[0];
              var geometry = createBuilding(geos, height);
              var centerPoint = calCenterPoint(geos);

              var _WSG84TOMercatorCente = WSG84TOMercatorCenter(centerPoint, center),
                  _WSG84TOMercatorCente2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_WSG84TOMercatorCente, 2),
                  x = _WSG84TOMercatorCente2[0],
                  z = _WSG84TOMercatorCente2[1];

              var mesh = new three__WEBPACK_IMPORTED_MODULE_4__["Mesh"](geometry, materialB.clone()); //  mesh.rotateX(-Math.PI / 2)
              // mesh.rotateZ(Math.PI)

              mesh.rotateX(-Math.PI / 2); // mesh.material.color = new THREE.Color(0x5adbc9)

              createBuildingEdgeLine(mesh);
              var bbox = new three__WEBPACK_IMPORTED_MODULE_4__["Box3"]().setFromObject(mesh);
              scene.add(mesh);
              sceneA.objects.push(mesh);
              addObjects({
                name: 'centerBuilding',
                model: 'building',
                type: 'mesh',
                value: mesh
              }, 'BuildingArea');
              var build = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_6__["Building"]({
                name: 'centerBuilding',
                object: mesh,
                geos: geos
              });
              _models_threeModels_index__WEBPACK_IMPORTED_MODULE_6__["Building"].addToBuildings(build);
              createCylinder(x, -z, height);
            };

            init();

          case 26:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));
  return _loadBuildingArea.apply(this, arguments);
}

function BuildToMeratorCenter(geo, center) {
  var geo84 = Object(_utils_coordinateTool__WEBPACK_IMPORTED_MODULE_3__["convertToWGS84"])({
    lng: geo[0],
    lat: geo[1]
  });
  var geoTrans = WSG84TOMercator(geo84);
  var centerTrans = WSG84TOMercator({
    lng: center[0],
    lat: center[1]
  });
  var x = geoTrans[0] - centerTrans[0];
  var y = geoTrans[1] - centerTrans[1];
  return [x, y];
}

function WSG84TOMercatorCenter(geo, center) {
  var geoTrans = WSG84TOMercator({
    lng: geo[0],
    lat: geo[1]
  });
  var centerTrans = WSG84TOMercator({
    lng: center[0],
    lat: center[1]
  });
  var x = geoTrans[0] - centerTrans[0];
  var y = geoTrans[1] - centerTrans[1];
  return [x, y];
}

function WSG84TOMercator(geo) {
  var lon = geo.lng;
  var lat = geo.lat;
  var x = lon * 20037508.34 / 180;
  var y = Math.PI / 180.0 * lat;
  var tmp = Math.PI / 4.0 + y / 2.0;
  y = 20037508.3427892 * Math.log(Math.tan(tmp)) / Math.PI;
  return [x, y];
}

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/loader/loadInside.ts":
/*!***********************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/loader/loadInside.ts ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return loadInside; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
/* harmony import */ var _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../models/threeModels/index */ "./src/pages/BigScreen/models/threeModels/index.ts");
/* harmony import */ var three_examples_jsm_loaders_GLTFLoader_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader.js */ "./node_modules/three/examples/jsm/loaders/GLTFLoader.js");
/* harmony import */ var three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three/examples/jsm/loaders/DRACOLoader.js */ "./node_modules/three/examples/jsm/loaders/DRACOLoader.js");
/* harmony import */ var _utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../utils/CoordinateTool */ "./src/pages/BigScreen/utils/CoordinateTool.ts");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_8__);










var cylinder;
function loadInside(props) {
  var scene = props.scene,
      currentHub = props.currentHub;
  var sceneA = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Scene"]({
    name: 'inside',
    scene: scene,
    objects: []
  });

  if (currentHub.id === 'cefbcf55-f582-4609-8803-dc4b4f6b3607') {
    scene.background = new three__WEBPACK_IMPORTED_MODULE_3__["Color"](0x0d1c20);
  }

  _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Scene"].addScenes(sceneA);
  var dracoLoader = new three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_6__["DRACOLoader"]();
  var gltfloader = new three_examples_jsm_loaders_GLTFLoader_js__WEBPACK_IMPORTED_MODULE_5__["GLTFLoader"]();
  dracoLoader.setDecoderPath('bigScreen/robot/draco/');
  dracoLoader.setDecoderConfig({
    type: 'js'
  });
  dracoLoader.preload();
  gltfloader.setDRACOLoader(dracoLoader);

  var initLight = function initLight() {
    var dirLight1 = new three__WEBPACK_IMPORTED_MODULE_3__["DirectionalLight"](0xffffff);
    dirLight1.position.set(0, -50, 0);
    scene.add(dirLight1);
    var ambientLight = new three__WEBPACK_IMPORTED_MODULE_3__["AmbientLight"](0x222222);
    scene.add(ambientLight);
    var light = new three__WEBPACK_IMPORTED_MODULE_3__["HemisphereLight"](0xd9d9d9, 0x444444, 0.92);
    light.position.set(-10, 50, -10);
    scene.add(light);
  };

  var initLight2 = function initLight2() {
    var spotLight = new three__WEBPACK_IMPORTED_MODULE_3__["SpotLight"](0xffffff, 0.2);
    spotLight.position.set(-1000, 1800, -1000);
    spotLight.castShadow = true;
    spotLight.shadow.mapSize.width = 1024;
    spotLight.shadow.mapSize.height = 1024;
    spotLight.shadow.camera.near = 500;
    spotLight.shadow.camera.far = 4000;
    spotLight.shadow.camera.fov = 30;
    scene.add(spotLight);
  };

  function createCylinder() {
    var geometry = new three__WEBPACK_IMPORTED_MODULE_3__["CylinderGeometry"](0, 20, 30, 4, 1);
    var material = new three__WEBPACK_IMPORTED_MODULE_3__["MeshStandardMaterial"]({
      color: 0xa5a5a5,
      emissive: 0x15e298,
      metalness: 0.71,
      roughness: 0.1,
      wireframe: false
    });
    cylinder = new three__WEBPACK_IMPORTED_MODULE_3__["Mesh"](geometry, material); //   35.18697738647461 17.330108642578125

    cylinder.position.set(0, 0, 0);
    cylinder.rotateX(Math.PI);
    scene.add(cylinder);
  }

  var createTorus = function createTorus(floor) {
    var geometry = new three__WEBPACK_IMPORTED_MODULE_3__["TorusGeometry"](70, 24, 8, 100);
    var material = new three__WEBPACK_IMPORTED_MODULE_3__["MeshPhongMaterial"]({
      color: 0xa8f0d9,
      side: three__WEBPACK_IMPORTED_MODULE_3__["DoubleSide"]
    });
    var torus = new three__WEBPACK_IMPORTED_MODULE_3__["Mesh"](geometry, material);
    torus.position.set(-69.385 * 2, 22, 202.535 * 2);
    torus.rotation.x = Math.PI / 2; // torus.rotation.y = 3*Math.PI/4

    floor.wallsObject.add(torus);
  };

  function createFloorsB() {
    return _createFloorsB.apply(this, arguments);
  }

  function _createFloorsB() {
    _createFloorsB = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {
      var index, _yield$axios$get, data, buildingId, i, floorData, id, level, name, floorName, imageWidth, imageHeight, origin, object, floor, baseUrl, url, planeMap;

      return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              index = 0;
              _context.next = 3;
              return axios__WEBPACK_IMPORTED_MODULE_8___default.a.get('bigScreen/building/xiliIndoor.json');

            case 3:
              _yield$axios$get = _context.sent;
              data = _yield$axios$get.data;
              buildingId = data.buildingId;

              for (i = 0; i < data.floors.length; i += 1) {
                floorData = data.floors[i];
                id = floorData.id, level = floorData.level, name = floorData.name, floorName = floorData.floorName, imageWidth = floorData.imageWidth, imageHeight = floorData.imageHeight, origin = floorData.origin;
                object = new three__WEBPACK_IMPORTED_MODULE_3__["Object3D"]();
                _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Floor"].mapType = 'none';
                floor = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Floor"]({
                  id: id,
                  origin: origin,
                  buildingId: buildingId,
                  offset: floorData.offset || [0, 0, 0],
                  name: name,
                  level: Number(level),
                  width: imageWidth,
                  height: imageHeight,
                  floorName: floorName,
                  scene: scene // mapType: 'none',
                  //    object: floor.objects

                });
                floor.object = object;
                _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Floor"].addFloor(floor);
                baseUrl = 'https://cti-device-map.oss-cn-shenzhen.aliyuncs.com/production/';

                if (true) {
                  baseUrl = '/oss/map/';
                }

                url = 'bigScreen/building/xilihospital/' + floorData.imageName;
                planeMap = createPlaneMap(floor, url);

                if (floorData.datumPoint) {
                  calibrateFloor(floorData, planeMap, object);
                } else {
                  object.add(planeMap);
                }

                floor.planeMap = planeMap;
                floor.object.position.y = index;
                floor.floorHeight = index;
                floor.addToScene(scene);
                index += 500;
              }

            case 7:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));
    return _createFloorsB.apply(this, arguments);
  }

  function calibrateFloor(floorData, planeMap, object) {
    var offset = floorData.offset,
        datumPoint = floorData.datumPoint;
    var datumOffset = datumPoint.datumOffset,
        radian = datumPoint.radian;
    planeMap.position.set(-offset[0] * 2, 0, offset[1] * 2);
    object.add(planeMap);
    object.rotateY(radian);
    object.position.x = datumOffset[0] * 2;
    object.position.z = -datumOffset[1] * 2;
  }

  function createFloors() {
    return _createFloors.apply(this, arguments);
  }

  function _createFloors() {
    _createFloors = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2() {
      var datas, i, insideDatas, index;
      return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              datas = {
                hubId: 'e90d7310-959c-4948-bf09-c67e93600848',
                buildingId: '0ad080f8-938f-4cda-8aa1-00727f409964',
                intention: 'MOVE',
                pageSize: 500
              }; //   const { data } = await getWayPoint(datas)

              i = 0;
              _context2.next = 4;
              return axios__WEBPACK_IMPORTED_MODULE_8___default.a.get('bigScreen/building/inside.json');

            case 4:
              insideDatas = _context2.sent;

              for (index in insideDatas.data.floors) {
                if (insideDatas.data.floors.hasOwnProperty(index)) {
                  (function () {
                    var floorData = insideDatas.data.floors[index];
                    var id = floorData.id,
                        level = floorData.level,
                        name = floorData.name,
                        floorName = floorData.floorName,
                        houseWidth = floorData.houseWidth,
                        houseHeight = floorData.houseHeight,
                        origin = floorData.origin;
                    var object = new three__WEBPACK_IMPORTED_MODULE_3__["Object3D"]();
                    var floor = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Floor"]({
                      id: id,
                      origin: origin,
                      // name:floorName,
                      buildingId: insideDatas.data.buildingId || '',
                      name: name,
                      level: level,
                      width: houseWidth,
                      height: houseHeight,
                      floorName: floorName //    object: floor.objects

                    });
                    floor.scene = scene;
                    floor.object = object;
                    _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Floor"].addFloor(floor);
                    var url = 'bigScreen/building/floor' + floor.level + '.png';
                    var groundPlane = createFloorGround(floor);
                    var planeMap = createPlaneMap(floor, url);
                    floorData.walls.forEach(function (wall) {
                      var size = wall.size,
                          position = wall.position;
                      var mesh = createBox(size.x, floorData.height, size.z, position.x, floorData.height / 2, position.z);
                      floor.wallsObject.add(mesh);
                    });
                    floorData.blocks.forEach(function (block) {
                      var geos = block.geos,
                          height = block.height;
                      var mesh = createBlock(geos, height, floor);
                      floor.wallsObject.add(mesh);
                    });
                    floorData.elevatorGeos.forEach(function (elegeo) {
                      var sprite = createElevatorSprite(elegeo);
                      floor.elevatorSpriteObejct.add(sprite);
                    }); //  loadWayPoint(f, data)

                    if (floor.level === 27) {
                      createTorus(floor);
                      createShape(floor);
                      loadLogo(floor);
                    } //     loadWayPoint(floor, data)


                    floorData.dockData && loadDockModel(floorData.dockData, floor.docksObject, floor);
                    floor.wallsObject.add(floor.elevatorSpriteObejct);
                    floor.wallsObject.add(groundPlane);
                    floor.wallsObject.rotateY(Math.PI); //  floor.elevatorSpriteObejct.rotateY(Math.PI)

                    floor.planeMap = planeMap;

                    if (floor.level === 27) {
                      loadSunLightInside(floor);
                      loadFloorModel(floor); //    floor.object.add(floor.wallsObject)
                    } else {
                      floor.object.add(floor.wallsObject);
                    }

                    floor.object.position.y = i; //   floor.object.add(floor.wallsObject)

                    floor.addToScene(scene); //  scene.add(floor.objects)

                    i += 500; //  sceneA.objects.push(floor.object)
                    // scene.add(house26.blockObject)
                  })();
                }
              }

              loadElevator(insideDatas.data.elevators);

            case 7:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee2);
    }));
    return _createFloors.apply(this, arguments);
  }

  function loadElevator(eleDatas) {
    for (var index in eleDatas) {
      if (eleDatas.hasOwnProperty(index)) {
        var item = eleDatas[index];
        var object = createElevator(item); //   Floor.ElevatorObject.add(object)

        if (item.id) {
          var elevator = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Elevator"]({
            name: index,
            id: item.id
          });
          elevator.object = object;
          _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Elevator"].addElevator(elevator);
        }
      }
    }

    _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Floor"].ElevatorObject.position.set(0, 0, 0);
    _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Floor"].ElevatorObject.rotateY(Math.PI);
    scene.add(_models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Floor"].ElevatorObject);
  }

  function loadFloorModel(floor) {
    gltfloader.load('bigScreen/building/floor27.gltf', function (gltf) {
      //   scene.add(gltf.scene)
      var box = new three__WEBPACK_IMPORTED_MODULE_3__["Box3"]().setFromObject(gltf.scene);
      var height = box.max.z - box.min.z;
      var width = box.max.x - box.min.x;
      var yheight = box.max.y - box.min.y;
      var floorHeight = 636 * 2;
      var floorWidth = 1152 * 2;
      var rateX = floorWidth / width;
      var rateY = 70 / yheight;
      var rateZ = floorHeight / height;
      gltf.scene.scale.set(rateX, rateY, rateZ);
      gltf.scene.position.set(46, rateY * yheight / 2 - 10, 36);
      floor.floorModelObject = new three__WEBPACK_IMPORTED_MODULE_3__["Object3D"]();
      floor.floorModelObject.add(gltf.scene);
      var groundPlane = createFloorGround(floor);
      floor.floorModelObject.add(groundPlane);
      floor.object.add(floor.floorModelObject); // sceneA.objects.push(gltf.scene)

      return gltf.scene;
    });
  }

  function createElevator(item) {
    var texture = new three__WEBPACK_IMPORTED_MODULE_3__["TextureLoader"]().load('bigScreen/texture/arrow-right.png');
    texture.wrapS = three__WEBPACK_IMPORTED_MODULE_3__["RepeatWrapping"]; // 每个都重复

    texture.wrapT = three__WEBPACK_IMPORTED_MODULE_3__["RepeatWrapping"];
    texture.repeat.set(4, 1);
    texture.needsUpdate = true;
    texture.center = new three__WEBPACK_IMPORTED_MODULE_3__["Vector2"](0.5, 0.5);
    texture.rotation = Math.PI / 2;
    var geos = item.geos,
        size = item.size;
    var cubeGeometry = new three__WEBPACK_IMPORTED_MODULE_3__["BoxGeometry"](size[0] * 2, 550, size[1] * 2);
    var params = {
      color: 0x77fbd1,
      transmission: 0.7,
      envMapIntensity: 1,
      lightIntensity: 1,
      exposure: 1
    };
    var material1 = new three__WEBPACK_IMPORTED_MODULE_3__["MeshPhysicalMaterial"]({
      color: 0xffffff,
      metalness: 0.5,
      roughness: 0.5,
      //  alphaMap: texture,
      alphaTest: 0.1,
      envMapIntensity: params.envMapIntensity,
      depthWrite: true,
      transmission: params.transmission,
      // use material.transmission for glass materials
      opacity: 0.449,
      // set material.opacity to 1 when material.transmission is non-zero
      transparent: true,
      side: three__WEBPACK_IMPORTED_MODULE_3__["FrontSide"]
    });
    var material = new three__WEBPACK_IMPORTED_MODULE_3__["MeshBasicMaterial"]({
      map: texture,
      color: 0x9bc7b9,
      // specular:0x8fbbef,
      // side:THREE.DoubleSide,
      transparent: true,
      opacity: 0.12 //      alphaTest: 0.01,

    });
    var material2 = new three__WEBPACK_IMPORTED_MODULE_3__["MeshBasicMaterial"]({
      //      map: texture,
      color: 0x9bc7b9,
      // specular:0x8fbbef,
      // side:THREE.DoubleSide,
      transparent: true,
      opacity: 0.72 //      alphaTest: 0.01,

    });
    var cube = new three__WEBPACK_IMPORTED_MODULE_3__["Mesh"](cubeGeometry, [material, material, material2, material, material, material]);
    cube.position.set(geos[0] * 2, 265, geos[1] * 2); //   console.log(cube)

    return cube;
  }

  function loadLogo(floor) {
    var text = 'CANDELA';
    var bevelEnabled = true;
    var font;
    var fontName = 'optimer'; // helvetiker, optimer, gentilis, droid sans, droid serif

    var fontWeight = 'bold'; // normal bold

    var height = 20;
    var size = 40;
    var hover = 30;
    var curveSegments = 4;
    var bevelThickness = 2;
    var bevelSize = 1.5;
    var mirror = false;
    var loader = new three__WEBPACK_IMPORTED_MODULE_3__["FontLoader"]();
    loader.load('bigScreen/texture/helvetiker_bold.typeface.json', function (response) {
      font = response;
      var textGeo = new three__WEBPACK_IMPORTED_MODULE_3__["TextGeometry"](text, {
        font: font,
        size: size,
        height: height,
        curveSegments: curveSegments,
        bevelThickness: bevelThickness,
        bevelSize: bevelSize,
        bevelEnabled: bevelEnabled
      });
      var materials = [new three__WEBPACK_IMPORTED_MODULE_3__["MeshPhongMaterial"]({
        color: 0xffffff,
        flatShading: true
      }), // front
      new three__WEBPACK_IMPORTED_MODULE_3__["MeshPhongMaterial"]({
        color: 0xffffff
      }) // side
      ];
      textGeo.computeBoundingBox();
      var mesh = new three__WEBPACK_IMPORTED_MODULE_3__["Mesh"](textGeo, materials);
      mesh.position.set(-17, 20, 280.93 * 2);
      mesh.rotateY(Math.PI);
      floor.wallsObject.add(mesh); //
      //  return mesh
      ///  floor.object.add(mesh)
    });
  }

  function loadSunLightInside(floor) {
    var geo = [218.26 * 2, 1, -259.93 * 2];
    gltfloader.load('bigScreen/robot/sunLight-inside-processed.gltf', function (gltf) {
      gltf.scene.renderOrder = 8;
      gltf.scene.rotateY(Math.PI);
      gltf.scene.position.set(geo[0], geo[1], geo[2]);
      gltf.scene.scale.set(0.87, 0.87, 0.87);
      floor.wallsObject.add(gltf.scene);
    });
  }

  function loadWayPoint(floor, datas) {
    var waypoints = datas.filter(function (i) {
      return i.floorName === floor.level.toString() && i.indoorCoordinates;
    });
    floor.waypointObject.visible = false;
    waypoints.forEach(function (point) {
      var sprite = setSprite(point);
      var waypoint = buildWayPoint(point, floor);
      waypoint.userData.waypointId = point.id;
      waypoint.name = point.name;
      sprite.parent = waypoint;
      waypoint.children.push(sprite);
      floor.waypointObject.add(waypoint);
    });
  }

  function buildWayPoint(point, floor) {
    var geo = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_7__["calMapOriginDeviation"])(point.indoorCoordinates, floor);
    var geometry = new three__WEBPACK_IMPORTED_MODULE_3__["BoxGeometry"](30, 30, 30);
    var material = new three__WEBPACK_IMPORTED_MODULE_3__["MeshNormalMaterial"]({});
    var waypoint = new three__WEBPACK_IMPORTED_MODULE_3__["Mesh"](geometry, material);
    waypoint.position.set(geo[0], 1, -geo[1]);
    return waypoint;
  }

  function setSprite(item) {
    var canvas = document.createElement('canvas');
    var ctx = canvas.getContext('2d');
    var rate;
    var width;

    if (ctx) {
      ctx.font = 'Bold 20px Arial';
      var word = item.name;
      width = ctx === null || ctx === void 0 ? void 0 : ctx.measureText(word).width;
      rate = width / 300;
      var distance = 2; //   ctx.fillRect(0, 0, 300, 150)

      canvas.width = width;
      canvas.height = 30;
      ctx.fillStyle = 'rgba(255, 255, 255, 1.0)';
      ctx.font = 'Bold 20px Arial';
      ctx.fillText(word, distance, 14 + 2);
      var rateH = 30 / width;
    }

    var texture = new three__WEBPACK_IMPORTED_MODULE_3__["Texture"](canvas);
    texture.needsUpdate = true;
    var spriteMaterial = new three__WEBPACK_IMPORTED_MODULE_3__["SpriteMaterial"]({
      map: texture,
      depthTest: true
    });
    var sprite = new three__WEBPACK_IMPORTED_MODULE_3__["Sprite"](spriteMaterial);
    sprite.center = new three__WEBPACK_IMPORTED_MODULE_3__["Vector2"](0.5, 0);
    sprite.position.set(0, 40, 0); // 300px*150px  100  50

    var scaleX = rate * 100;
    var scaleY = rate * 100 * 30 / width;
    sprite.scale.set(scaleX, scaleY, 1);
    sprite.renderOrder = 100;
    return sprite;
  }

  function createFloorGround(floor) {
    var boxProjectedMat = new three__WEBPACK_IMPORTED_MODULE_3__["MeshPhongMaterial"]({
      color: 0x272727,
      // emissive:0xa8a7a7,
      // emissiveIntensity:0.51,
      //   map: gMap,
      transparent: true,
      opacity: 0.91
    });
    var groundPlane = new three__WEBPACK_IMPORTED_MODULE_3__["Mesh"](new three__WEBPACK_IMPORTED_MODULE_3__["PlaneGeometry"](floor.width * 2, floor.height * 2), boxProjectedMat);
    groundPlane.rotateX(Math.PI / 2);
    groundPlane.rotateY(Math.PI);
    groundPlane.position.set(0, -2.01, 0);
    floor.level === 27 && groundPlane.position.set(-46, -2.01, -36);
    groundPlane.renderOrder = 2;
    return groundPlane;
  }

  function createPlaneMap(floor, url) {
    var loader = new three__WEBPACK_IMPORTED_MODULE_3__["TextureLoader"]();
    loader.crossOrigin = '';
    var gMap = loader.load(url);
    gMap.wrapS = three__WEBPACK_IMPORTED_MODULE_3__["RepeatWrapping"];
    gMap.wrapT = three__WEBPACK_IMPORTED_MODULE_3__["RepeatWrapping"];
    gMap.repeat.set(1, 1);
    var boxProjectedMat = new three__WEBPACK_IMPORTED_MODULE_3__["MeshPhongMaterial"]({
      //  color: 0x272727,
      // emissive:0xa8a7a7,
      // emissiveIntensity:0.51,
      alphaTest: 0.1,
      map: gMap,
      side: three__WEBPACK_IMPORTED_MODULE_3__["DoubleSide"],
      transparent: true,
      opacity: 0.79
    });
    var groundPlane = new three__WEBPACK_IMPORTED_MODULE_3__["Mesh"](new three__WEBPACK_IMPORTED_MODULE_3__["PlaneGeometry"](floor.width * 2, floor.height * 2), boxProjectedMat);
    groundPlane.rotateX(-Math.PI / 2); // groundPlane.rotateY(Math.PI)

    groundPlane.position.set(0, -2.01, 0);
    floor.level === 27 && groundPlane.position.set(46, -2.01, 36); //  sceneA.objects.push(groundPlane)

    groundPlane.renderOrder = 2; // scene.add(groundPlane)

    return groundPlane;
  }

  function createElevatorSprite(geo) {
    var texture = new three__WEBPACK_IMPORTED_MODULE_3__["TextureLoader"]().load('bigScreen/texture/elevator.png');
    var canvas = document.createElement('canvas');
    var ctx = canvas.getContext('2d');
    var rate;

    if (ctx) {
      ctx.fillStyle = 'rgba(255, 255, 255, 1.0)';
      ctx.font = 'Bold 20px Arial';
      var word = 'lift';
      var width = ctx === null || ctx === void 0 ? void 0 : ctx.measureText(word).width;
      rate = width / 300; //   ctx.drawImage(img,0,0,150,150)

      ctx.fillText(word, 2, 14 + 2);
    } // var texture = new THREE.Texture(canvas)


    var spriteMaterial = new three__WEBPACK_IMPORTED_MODULE_3__["SpriteMaterial"]({
      map: texture
    });
    sceneA.textures.push(texture);
    var sprite = new three__WEBPACK_IMPORTED_MODULE_3__["Sprite"](spriteMaterial);
    sprite.center = new three__WEBPACK_IMPORTED_MODULE_3__["Vector2"](0.5, 0);
    sprite.position.set(geo[0] * 2, 90, geo[1] * 2);
    sprite.scale.set(20, 20, 1);
    sprite.renderOrder = 1; // sceneA.objects.push(sprite)

    return sprite;
  }

  function createBlock(geos, height, floor) {
    var shape = new three__WEBPACK_IMPORTED_MODULE_3__["Shape"]();
    var lineMaterial = new three__WEBPACK_IMPORTED_MODULE_3__["LineBasicMaterial"]({
      color: 0x9c9c9c
    });
    var points = [];
    geos.forEach(function (geo, index) {
      var _geo = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(geo, 2),
          x = _geo[0],
          z = _geo[1];

      if (index === 0) {
        shape.moveTo(x * 2, -z * 2);
      }

      shape.lineTo(x * 2, -z * 2);
      points.push(new three__WEBPACK_IMPORTED_MODULE_3__["Vector3"](x * 2, -z * 2, 4.01));
    });
    var lineGeometry = new three__WEBPACK_IMPORTED_MODULE_3__["BufferGeometry"]().setFromPoints(points);
    var extrudeSettings = {
      depth: height,
      bevelEnabled: false
    };
    var geometry = new three__WEBPACK_IMPORTED_MODULE_3__["ExtrudeGeometry"](shape, extrudeSettings);
    var material = new three__WEBPACK_IMPORTED_MODULE_3__["MeshLambertMaterial"]({
      color: 0xa8f0d9,
      emissive: 0x272727,
      opacity: 0.72,
      transparent: true
    });
    var mesh = new three__WEBPACK_IMPORTED_MODULE_3__["Mesh"](geometry, material);
    var edges = new three__WEBPACK_IMPORTED_MODULE_3__["EdgesGeometry"](mesh.geometry, 1);
    var lines = new three__WEBPACK_IMPORTED_MODULE_3__["LineSegments"](edges, lineMaterial);
    mesh.renderOrder = 2;
    mesh.rotateX(-Math.PI / 2); // house26.blockObject.add(lines);
    //  house26.blockObject.add(mesh)

    return mesh;
  }

  function createBox(width, height, depth, x, y, z) {
    var params = {
      color: 0x77fbd1,
      transmission: 0.2,
      envMapIntensity: 1,
      lightIntensity: 1,
      exposure: 1
    };
    var cubeGeometry = new three__WEBPACK_IMPORTED_MODULE_3__["BoxGeometry"](width * 2, height, depth * 2);
    var material1 = new three__WEBPACK_IMPORTED_MODULE_3__["MeshPhysicalMaterial"]({
      color: params.color,
      metalness: 0,
      roughness: 0,
      //  alphaMap: texture,
      alphaTest: 0.5,
      envMapIntensity: params.envMapIntensity,
      depthWrite: false,
      transmission: params.transmission,
      // use material.transmission for glass materials
      opacity: 1,
      // set material.opacity to 1 when material.transmission is non-zero
      transparent: true,
      side: three__WEBPACK_IMPORTED_MODULE_3__["DoubleSide"]
    });
    var material = new three__WEBPACK_IMPORTED_MODULE_3__["MeshBasicMaterial"]({
      //  map: texture1,
      color: 0xc7ecf2,
      // specular:0x8fbbef,
      // side:THREE.DoubleSide,
      transparent: true,
      opacity: 0.42 //      alphaTest: 0.01,

    });
    var cube = new three__WEBPACK_IMPORTED_MODULE_3__["Mesh"](cubeGeometry, [material, material, material1, material1, material, material]);
    cube.position.x = x * 2;
    cube.position.y = y;
    cube.position.z = z * 2; //  cube.rotation.y += angle * Math.PI //-逆时针旋转,+顺时针

    cube.renderOrder = 4; // house26.wallsObject.add(cube)

    return cube;
  }

  function createShape(floor) {
    var material = new three__WEBPACK_IMPORTED_MODULE_3__["MeshLambertMaterial"]({
      color: 0xa8f0d9,
      emissive: 0x272727,
      opacity: 0.72,
      transparent: true
    });
    var extrudeSettings = {
      depth: 70,
      bevelEnabled: true,
      bevelSegments: 2,
      steps: 2,
      bevelSize: 1,
      bevelThickness: 1
    };
    var roundedRectShape = new three__WEBPACK_IMPORTED_MODULE_3__["Shape"]().moveTo(0, 0).lineTo(0, 54.19 * 2).lineTo(323.44 * 2, 54.19 * 2).lineTo(323.44 * 2, 32.99 * 2).lineTo(32.99 * 2, 32.99 * 2).quadraticCurveTo(0, 21.2 * 2, 0, 0);
    var x = -251.26 * 2;
    var y = 70;
    var z = 246.74 * 2;
    var rx = Math.PI / 2;
    var ry = Math.PI / 2;
    var rz = 0;
    var s = 1;
    var geometry = new three__WEBPACK_IMPORTED_MODULE_3__["ExtrudeGeometry"](roundedRectShape, extrudeSettings);
    var mesh = new three__WEBPACK_IMPORTED_MODULE_3__["Mesh"](geometry, material);
    mesh.position.set(x, y, z); // mesh.rotateY(Math.PI)

    mesh.rotateX(Math.PI / 2); // mesh.rotateZ(Math.PI)
    //  mesh.rotation.set(rx, ry, rz)

    mesh.scale.set(s, s, s);
    floor.wallsObject.add(mesh);
    return mesh; //     scene.add(roundedRectShape)
    // let geometry = new THREE.ShapeGeometry( shape );
  }

  function loadDockModel(dockData, docksObject, floor) {
    var cubeTextureLoader = new three__WEBPACK_IMPORTED_MODULE_3__["CubeTextureLoader"]();
    cubeTextureLoader.setPath('bigScreen/texture/skybox/'); // 六张图片分别是朝前的（posz）、朝后的（negz）、朝上的（posy）、朝下的（negy）、朝右的（posx）和朝左的（negx）。

    var cubeTexture = cubeTextureLoader.load(['px.jpg', 'nx.jpg', 'py.jpg', 'ny.jpg', 'pz.jpg', 'nz.jpg']);
    var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/';

    if (true) {
      baseUrl = '/oss/screen/';
    }

    gltfloader.load(baseUrl + 'model_data/pile-inside-processed.gltf', function (gltf) {
      gltf.scene.renderOrder = 8;
      gltf.scene.traverse(function (mesh) {
        if (mesh.material) {
          if (mesh.material.metalness > 0) {
            mesh.material.envMap = cubeTexture;
          }
        } // scene.add(mesh)

      }); // scene.add(dockData.objects)
      // gltf.scene.rotateY(0.04123733767196778)

      createDock(gltf.scene, floor); // scene.add(gltf.scene)
    });

    function createDock(model, floor) {
      for (var i = 0; i < 1; i += 1) {
        var item = dockData[i];
        var geo = Object(_utils_CoordinateTool__WEBPACK_IMPORTED_MODULE_7__["calMapOriginDeviation"])(item.coordinates, floor);
        var dockItem = model.clone();
        dockItem.position.set(geo[0], 0, -geo[1]);
        dockItem.rotateY(item.coordinates[2] + Math.PI / 2);
        docksObject.add(dockItem);
      }

      console.log(docksObject);
    }
  }

  function init() {
    return _init.apply(this, arguments);
  }

  function _init() {
    _init = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee3() {
      return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee3$(_context3) {
        while (1) {
          switch (_context3.prev = _context3.next) {
            case 0:
              //   createWalls()
              // loadDockModel()
              currentHub.id === 'cefbcf55-f582-4609-8803-dc4b4f6b3607' ? createFloorsB() : createFloors(); //    scene.add(new THREE.AxesHelper(1200))
              //  let obj = setRobotModel()

            case 1:
            case "end":
              return _context3.stop();
          }
        }
      }, _callee3);
    }));
    return _init.apply(this, arguments);
  }

  init();
  initLight(); // initLight2()
  // return {robotObject}
}

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/loader/loadMachineObject.ts":
/*!******************************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/loader/loadMachineObject.ts ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GetMachineObject; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/loaders/DRACOLoader.js */ "./node_modules/three/examples/jsm/loaders/DRACOLoader.js");
/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ "./node_modules/three/examples/jsm/loaders/GLTFLoader.js");
/* harmony import */ var _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../models/threeModels/index */ "./src/pages/BigScreen/models/threeModels/index.ts");





function GetMachineObject(_ref) {
  var setMachineObjects = _ref.setMachineObjects;
  var dracoLoader = new three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_2__["DRACOLoader"]();
  dracoLoader.setDecoderPath('bigScreen/robot/draco/');
  dracoLoader.setDecoderConfig({
    type: 'js'
  });
  dracoLoader.preload();

  var setCandleLightModel = function setCandleLightModel() {
    return new Promise(function (resolve) {
      var gltfloader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_3__["GLTFLoader"]();
      gltfloader.setDRACOLoader(dracoLoader);
      var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/';

      if (true) {
        baseUrl = '/oss/screen/';
      }

      gltfloader.load('bigScreen/robot/candleLight-inside-processed.gltf', function (gltf) {
        gltf.scene.renderOrder = 8;
        gltf.scene.position.set(0, 0, 0);
        gltf.scene.name = 'candleLight';
        resolve(gltf.scene);
      });
    });
  };

  var setSunLightModel = function setSunLightModel() {
    return new Promise(function (resolve) {
      var sun = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"]({
        name: 'sunPrototype',
        type: 'sunLight'
      });
      _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"].addRobots(sun);
      var gltfloader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_3__["GLTFLoader"]();
      gltfloader.setDRACOLoader(dracoLoader);
      var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/';
      var localUrl = 'bigScreen/robot/';

      if (true) {
        baseUrl = '/oss/screen/';
      }

      gltfloader.load('bigScreen/robot/sunClean-outside-processed.gltf', function (gltf) {
        gltf.scene.renderOrder = 8;
        gltf.scene.position.set(0, 0, 0);
        gltf.scene.name = 'sunLight'; //   setHiveObject(gltf.scene)

        sun.object = gltf.scene;
        resolve(gltf.scene);
      });
    });
  };

  var setHiveModel = function setHiveModel() {
    return new Promise(function (resolve) {
      var hive = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"]({
        name: 'hiveModel',
        type: 'hive'
      });
      _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"].addRobots(hive);
      var gltfloader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_3__["GLTFLoader"]();
      gltfloader.setDRACOLoader(dracoLoader);
      var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/';
      var localUrl = 'bigScreen/robot/';

      if (true) {
        baseUrl = '/oss/screen/';
      }

      gltfloader.load('bigScreen/robot/hiveDelivery6-inside-processed.gltf', function (gltf) {
        gltf.scene.renderOrder = 8;
        gltf.scene.position.set(0, 0, 0);
        gltf.scene.name = 'hiveDelivery6'; //   setHiveObject(gltf.scene)

        hive.object = gltf.scene;
        resolve(gltf.scene);
      });
    });
  };

  var loadHiveVacuum = function loadHiveVacuum() {
    return new Promise(function (resolve) {
      var hive = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"]({
        name: 'hiveModel',
        type: 'hive'
      });
      _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"].addRobots(hive);
      var gltfloader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_3__["GLTFLoader"]();
      gltfloader.setDRACOLoader(dracoLoader);
      var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/';
      var localUrl = 'bigScreen/robot/';

      if (true) {
        baseUrl = '/oss/screen/';
      }

      gltfloader.load('bigScreen/robot/hiveDelivery6-inside-processed.gltf', function (gltf) {
        gltf.scene.renderOrder = 8;
        gltf.scene.position.set(0, 0, 0);
        gltf.scene.name = 'hiveDelivery6'; //   setHiveObject(gltf.scene)

        hive.object = gltf.scene;
        resolve(gltf.scene);
      });
    });
  };

  var loadHiveGuide = function loadHiveGuide() {
    return new Promise(function (resolve) {
      var hive = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"]({
        name: 'hiveModel',
        type: 'hive'
      });
      _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"].addRobots(hive);
      var gltfloader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_3__["GLTFLoader"]();
      gltfloader.setDRACOLoader(dracoLoader);
      var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/';
      var localUrl = 'bigScreen/robot/';

      if (true) {
        baseUrl = '/oss/screen/';
      }

      gltfloader.load('bigScreen/robot/hiveGuide-inside-processed.gltf', function (gltf) {
        gltf.scene.renderOrder = 8;
        gltf.scene.position.set(0, 0, 0);
        gltf.scene.name = 'hiveGuide'; //   setHiveObject(gltf.scene)

        hive.object = gltf.scene;
        resolve(gltf.scene);
      });
    });
  };

  var loadHiveClean = function loadHiveClean() {
    return new Promise(function (resolve) {
      var hive = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"]({
        name: 'hiveModel',
        type: 'hive'
      });
      _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"].addRobots(hive);
      var gltfloader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_3__["GLTFLoader"]();
      gltfloader.setDRACOLoader(dracoLoader);
      var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/';
      var localUrl = 'bigScreen/robot/';

      if (true) {
        baseUrl = '/oss/screen/';
      }

      gltfloader.load('bigScreen/robot/hiveSterilization-inside-processed.gltf', function (gltf) {
        gltf.scene.renderOrder = 8;
        gltf.scene.position.set(0, 0, 0);
        gltf.scene.name = 'hiveClean'; //   setHiveObject(gltf.scene)

        hive.object = gltf.scene;
        resolve(gltf.scene);
      });
    });
  };

  var loadHiveMedical4 = function loadHiveMedical4() {
    return new Promise(function (resolve) {
      var hive = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"]({
        name: 'hiveModel',
        type: 'hive'
      });
      _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Robot"].addRobots(hive);
      var gltfloader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_3__["GLTFLoader"]();
      gltfloader.setDRACOLoader(dracoLoader);
      var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/';
      var localUrl = 'bigScreen/robot/';

      if (true) {
        baseUrl = '/oss/screen/';
      }

      gltfloader.load('bigScreen/robot/hiveMedical4-inside-processed.gltf', function (gltf) {
        gltf.scene.renderOrder = 8;
        gltf.scene.position.set(0, 0, 0);
        gltf.scene.name = 'hiveMedical4'; //   setHiveObject(gltf.scene)

        hive.object = gltf.scene;
        resolve(gltf.scene);
      });
    });
  };

  function init() {
    return _init.apply(this, arguments);
  }

  function _init() {
    _init = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {
      return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              Promise.all([setSunLightModel()]).then(function (results) {
                setMachineObjects(results, 'BuildingArea');
              });
              Promise.all([setCandleLightModel(), setHiveModel(), loadHiveGuide(), loadHiveClean(), loadHiveMedical4()]).then(function (results) {
                setMachineObjects(results, 'IndoorArea');
              });

            case 2:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));
    return _init.apply(this, arguments);
  }

  init();
}

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/loader/loadScenes.ts":
/*!***********************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/loader/loadScenes.ts ***!
  \***********************************************************************************/
/*! exports provided: scenesCont, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "scenesCont", function() { return scenesCont; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LoadScenes; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_eventBus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/eventBus */ "./src/utils/eventBus.ts");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../index */ "./src/pages/BigScreen/components/ThreeScene/components/index.ts");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
/* harmony import */ var _models_threeModels_index__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../models/threeModels/index */ "./src/pages/BigScreen/models/threeModels/index.ts");
/* harmony import */ var _models_screen__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../models/screen */ "./src/pages/BigScreen/models/screen.ts");









var scenes = [{
  name: 'BuildingArea',
  fn: _index__WEBPACK_IMPORTED_MODULE_4__["loadBuildingArea"],
  scene: null,
  objects: [],
  updates: []
}, {
  name: 'IndoorArea',
  fn: _index__WEBPACK_IMPORTED_MODULE_4__["loadInside"],
  scene: null,
  objects: [],
  updates: []
}, {
  name: 'RobotExhibit',
  fn: _index__WEBPACK_IMPORTED_MODULE_4__["loadBigRobot"],
  scene: null,
  objects: [],
  updates: []
}];
var sceneNow;
var scenesCont = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createContext(scenes);
function LoadScenes(props) {
  var robots = props.robots;
  var sceneName = props.sceneName,
      prototypes = props.prototypes,
      setSceneName = props.setSceneName;

  var _useSelector = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(function (_ref) {
    var mqtt = _ref.mqtt,
        user = _ref.user,
        sceneSetter = _ref.sceneSetter,
        screen = _ref.screen;
    return {
      socket: mqtt.socket,
      currentHub: user.currentHub,
      controls: sceneSetter.controls,
      camera: sceneSetter.camera,
      renderer: sceneSetter.renderer,
      menuKey: screen.menuKey,
      menuCount: screen.menuCount
    };
  }),
      socket = _useSelector.socket,
      currentHub = _useSelector.currentHub,
      renderer = _useSelector.renderer,
      camera = _useSelector.camera,
      controls = _useSelector.controls,
      menuKey = _useSelector.menuKey,
      menuCount = _useSelector.menuCount; // const [sceneName, setSceneName] = useState<any>()


  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(true),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState, 2),
      autoRotate = _useState2[0],
      setAutoRotate = _useState2[1];

  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    if (renderer) {
      init();
    }
  }, [renderer]);
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    if (menuKey === _models_screen__WEBPACK_IMPORTED_MODULE_7__["ScreenMenuKeyEnum"].autoRotate) {
      handleAutoRotate();
    }

    if (menuKey === _models_screen__WEBPACK_IMPORTED_MODULE_7__["ScreenMenuKeyEnum"].backHome) {// backToHome()
    } // eslint-disable-next-line react-hooks/exhaustive-deps

  }, [menuKey, menuCount]);
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    if (sceneName) {
      console.log(sceneName);
      setToScene(sceneName);
    }
  }, [sceneName]);
  var center = [113.94245812, 22.57581673];

  if (currentHub.id === 'cefbcf55-f582-4609-8803-dc4b4f6b3607') {
    center = [113.94490717, 22.58303714];
  }

  function init() {
    console.log('initscene');
    initScene();
  }

  var backToHome = function backToHome() {
    //   BigRobot.disposeRobots()
    robots = {};
    _models_threeModels_index__WEBPACK_IMPORTED_MODULE_6__["Floor"].disposeFloor();

    if (sceneName === 'BuildingArea') {
      cameraControl('BuildingArea');
    } else {
      setToScene('BuildingArea'); //    setDisplayWindow(false)
    }
  };

  function initScene() {
    for (var i = 0; i < scenes.length - 1; i += 1) {
      var item = scenes[i];
      var scene = new three__WEBPACK_IMPORTED_MODULE_5__["Scene"]();
      scene.background = new three__WEBPACK_IMPORTED_MODULE_5__["Color"](0x272727);
      scene.name = item.name;
      item.fn({
        renderer: renderer,
        camera: camera,
        controls: controls,
        scene: scene,
        currentHub: currentHub,
        addObjects: getObjects,
        addUpdates: addUpdateFun
      });
      item.scene = scene;
    }

    setSceneName('BuildingArea');
    setToScene('BuildingArea');
  }

  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    controls.autoRotate = autoRotate;
  }, [autoRotate]);

  function handleAutoRotate() {
    setAutoRotate(!autoRotate);
  }

  function getObjects(value, name) {
    var item = scenes.find(function (i) {
      return i.name === name;
    });
    item.objects.push(value);
  }

  function addUpdateFun(callback, sceneName) {
    var item = scenes.find(function (i) {
      return i.name === sceneName;
    });
    item.updates.push(callback);
  }

  function setToScene(value) {
    var item = scenes.find(function (i) {
      return i.name === value;
    });

    if (value !== sceneName) {
      sceneNow = item.scene;
      console.log(sceneNow); // setSceneName(item.name)

      cameraControl(item.name);

      if (item.name === 'IndoorArea') {
        setAnimation(value, 'set'); //   setBigRobotItem(undefined)
      } else if (value === 'BuildingArea') {
        setAnimation(value, 'set'); //  setBigRobotItem(undefined)
      } else {
        clear(sceneName);
        setAnimation(value, 'clear');
      }
    }
  }

  function clear(sceneName) {
    robots = {};
    setAnimation(sceneName, 'clear'); // unlistenSockets('leave')

    if (sceneName === 'IndoorArea') {
      _models_threeModels_index__WEBPACK_IMPORTED_MODULE_6__["Floor"].traverse(function (floor) {
        floor.clearMachines();
      });
    } else if (sceneName === 'BuildingArea') {
      _models_threeModels_index__WEBPACK_IMPORTED_MODULE_6__["OutdoorArea"].outdoorArea.clearMachines();
    }
  }

  function setAnimation(sceneName, action) {
    Object(_index__WEBPACK_IMPORTED_MODULE_4__["animationControl"])({
      sceneName: sceneName,
      socket: socket,
      robots: robots,
      prototypes: prototypes,
      currentHub: currentHub,
      action: action
    });
  }

  function cameraControl(sceneName) {
    console.log(currentHub);

    switch (sceneName) {
      case 'IndoorArea':
        controls.enablePan = true;

        if (currentHub.id === 'e90d7310-959c-4948-bf09-c67e93600848') {
          camera.position.set(200, 1400, 3100);
        } else {
          camera.position.set(900, 3400, 6100);
        }

        controls.target.set(0, 250, 0);
        controls.maxDistance = Infinity;
        break;

      case 'BuildingArea':
        controls.enablePan = true;
        controls.autoRotateSpeed = 1;
        controls.autoRotate = true;
        _utils_eventBus__WEBPACK_IMPORTED_MODULE_2__["default"].emit('setThreeViewIconSwitch', true); //  setAutoRotate(true)

        controls.maxDistance = 4000;

        if (currentHub.id === 'e90d7310-959c-4948-bf09-c67e93600848') {
          camera.position.set(1000, 280, 1000);
        } else {
          camera.position.set(500, 180, 500);
        }

        controls.target.set(center[0], center[1], center[2]);
        break;

      case 'RobotExhibit':
        camera.fov = 45;
        controls.enablePan = false;
        controls.autoRotateSpeed = 2;
        camera.position.set(30, 4, 0);
        controls.target.set(0, 0, 0);
        controls.maxDistance = 200;
        break;

      default:
        null;
    }
  } // function listenVisible() {
  //   document.addEventListener('visibilitychange', function () {
  //     // 页面变为不可见时触发
  //     if (document.visibilityState === 'hidden') {
  //       clear(sceneNameRef.current)
  //     }
  //     // 页面变为可见时触发
  //     if (document.visibilityState === 'visible') {
  //       setAnimation(sceneNameRef.current, 'set')
  //       //      connectSocket(sceneNameRef.current)
  //     }
  //   })
  // }


  console.log(sceneNow);
  return sceneNow;
}

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/loader/loadXuzhouInside.ts":
/*!*****************************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/loader/loadXuzhouInside.ts ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return loadInside; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
/* harmony import */ var _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../models/threeModels/index */ "./src/pages/BigScreen/models/threeModels/index.ts");
/* harmony import */ var three_examples_jsm_loaders_GLTFLoader_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader.js */ "./node_modules/three/examples/jsm/loaders/GLTFLoader.js");
/* harmony import */ var three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three/examples/jsm/loaders/DRACOLoader.js */ "./node_modules/three/examples/jsm/loaders/DRACOLoader.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_7__);









//
function loadInside(props) {
  var scene = props.scene,
      currentHub = props.currentHub,
      reLoad = props.reLoad;
  var sceneA = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Scene"]({
    name: 'inside',
    scene: scene,
    objects: []
  });
  _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Scene"].addScenes(sceneA);
  var dracoLoader = new three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_6__["DRACOLoader"]();
  var gltfloader = new three_examples_jsm_loaders_GLTFLoader_js__WEBPACK_IMPORTED_MODULE_5__["GLTFLoader"]();
  dracoLoader.setDecoderPath('bigScreen/robot/draco/');
  dracoLoader.setDecoderConfig({
    type: 'js'
  });
  dracoLoader.preload();
  gltfloader.setDRACOLoader(dracoLoader);

  var initLight = function initLight() {
    var dirLight1 = new three__WEBPACK_IMPORTED_MODULE_3__["DirectionalLight"](0xffffff);
    dirLight1.position.set(0, -50, 0);
    scene.add(dirLight1);
    var ambientLight = new three__WEBPACK_IMPORTED_MODULE_3__["AmbientLight"](0x222222);
    scene.add(ambientLight);
    var light = new three__WEBPACK_IMPORTED_MODULE_3__["HemisphereLight"](0xd9d9d9, 0x444444, 0.92);
    light.position.set(-10, 50, -10);
    scene.add(light);
  };

  function calibrateFloor(floorData, planeMap, floor) {
    var offset = floorData.offset,
        datumPoint = floorData.datumPoint;
    var datumOffset = datumPoint.datumOffset,
        radian = datumPoint.radian;
    planeMap.position.set(-offset[0] * 2, 0, offset[1] * 2);
    floor.wallsObject.position.set(-offset[0] * 2, 0, offset[1] * 2); //  floor.object.add(planeMap)

    floor.object.rotateY(radian);
    floor.object.position.x = datumOffset[0] * 2;
    floor.object.position.z = -datumOffset[1] * 2;
  }

  var testBox = function testBox() {
    var originX = -336.43027232515874;
    var originY = 33.19811237870715;
    var object = new three__WEBPACK_IMPORTED_MODULE_3__["Object3D"]();
    object.position.set(0, 0, 0);
    var cubeGeometry = new three__WEBPACK_IMPORTED_MODULE_3__["BoxGeometry"](40, 700, 50);
    var material = new three__WEBPACK_IMPORTED_MODULE_3__["MeshBasicMaterial"]({
      //  map: texture1,
      color: 0xc7ecf2,
      // specular:0x8fbbef,
      // side:THREE.DoubleSide,
      transparent: true,
      opacity: 0.42 //      alphaTest: 0.01,

    });
    var cube = new three__WEBPACK_IMPORTED_MODULE_3__["Mesh"](cubeGeometry, material);
    object.add(cube);
    scene.add(object); //    cube.rotateY(Math.PI / 2)

    object.position.set(originX * 2, 350, -originY * 2);
    cube.updateWorldMatrix(true, true); //  rotateAroundWorldAxis(cube,new THREE.Vector3(0, 1, 0), Math.PI / 2)
    //    cube.rotateAroundWorldAxis(new THREE.Vector3(0, 1, 0), Math.PI / 2)
  }; // testBox()


  function createFloors() {
    return _createFloors.apply(this, arguments);
  }

  function _createFloors() {
    _createFloors = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {
      var _yield$axios$get, data, floors, i, blockData, _floors, id, name, object, block;

      return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return axios__WEBPACK_IMPORTED_MODULE_7___default.a.get('bigScreen/xuzhou/inside.json');

            case 2:
              _yield$axios$get = _context.sent;
              data = _yield$axios$get.data;
              floors = data.floors;

              for (i = 0; i < data.blocks.length; i += 1) {
                blockData = data.blocks[i];
                _floors = data.blocks[i].floors;
                id = blockData.id, name = blockData.name;
                object = new three__WEBPACK_IMPORTED_MODULE_3__["Object3D"]();
                block = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Block"]({
                  id: id,
                  name: name // width: imageWidth,
                  // height: imageHeight,

                });
                block.scene = scene;
                block.object = object;
                block.object.position.set(i * 4000, 0, 0);

                _floors.forEach(function (floorData, index) {
                  var id = floorData.id,
                      imageHeight = floorData.imageHeight,
                      imageWidth = floorData.imageWidth,
                      origin = floorData.origin,
                      imageUrl = floorData.imageUrl,
                      floorName = floorData.floorName;
                  var floor = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Floor"]({
                    id: id,
                    floorName: floorName,
                    origin: origin,
                    name: floorName,
                    width: imageWidth,
                    height: imageHeight,
                    offset: floorData.offset || [0, 0, 0]
                  });
                  var floorObject = new three__WEBPACK_IMPORTED_MODULE_3__["Object3D"]();
                  floor.object = floorObject; //   const url = 'bigScreen/xuzhou/' + imageUrl

                  var planeMap = new three__WEBPACK_IMPORTED_MODULE_3__["Object3D"](); //      floor.planeMap = planeMap
                  //  floor.object.add(planeMap)

                  if (floorData.datumPoint) {
                    calibrateFloor(floorData, planeMap, floor);
                  } else {
                    floor.object.add(planeMap);
                  }

                  if (floor.id === 'd822a410-efe4-4589-bc69-06974c9050e0') {
                    floor.object.rotateY(-0.07282335297209279);
                  }

                  if (floorData.floorName === '1') {
                    floor.object.position.y = 0;
                  } else if (floorData.floorName === '2') {
                    floor.object.position.y = 500;
                  }

                  _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Floor"].addFloor(floor);
                  floor.addToScene(scene);
                }); //  const planeMap = createPlaneMap(block, url)
                //  block.planeMap = planeMap
                //    block.object.add(planeMap)


                block.addToScene(scene);
                _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Block"].addBlock(block);
              }

              floors.forEach(function (floorData, index) {
                var id = floorData.id,
                    imageHeight = floorData.imageHeight,
                    imageWidth = floorData.imageWidth,
                    origin = floorData.origin,
                    imageUrl = floorData.imageUrl,
                    floorName = floorData.floorName,
                    walls = floorData.walls,
                    blocks = floorData.blocks;
                var floor = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Floor"]({
                  id: id,
                  floorName: floorName,
                  origin: origin,
                  name: floorName,
                  width: imageWidth,
                  height: imageHeight
                });
                floor.scene = scene;
                var floorObject = new three__WEBPACK_IMPORTED_MODULE_3__["Object3D"]();
                floor.object = floorObject;
                var url = 'bigScreen/xuzhou/' + imageUrl;
                var planeMap = createPlaneMap(floor, url);
                var groundPlane = createFloorGround(floor);
                floor.wallsObject.add(groundPlane);

                if (index === 0) {//  const logo = loadLogo(floor)
                  //  floor.object.add(logo)
                }

                if (floorData.datumPoint) {
                  groundPlane.rotateZ(-floorData.datumPoint.radian);
                  groundPlane.translateX(-120);
                  groundPlane.translateY(-70); //   groundPlane.position.x = -100
                  //    groundPlane.position.z = -40

                  calibrateFloor(floorData, planeMap, floor);
                } else {
                  groundPlane.position.x = -50;
                  groundPlane.position.z = -50;
                } // else {
                //     floor.object.add(planeMap)
                //  }


                floor.planeMap = planeMap; // floor.object.add(planeMap)

                floor.object.position.y = index * 500;
                walls.forEach(function (wall, inde) {
                  var position = wall.position,
                      size = wall.size;
                  var radian = Math.atan2(position[1].z - position[0].z, position[1].x - position[0].x);
                  var centerR;
                  var cube;

                  if (index === 1) {
                    centerR = [(position[0].x * 2 + position[1].x * 2) / 2, (position[0].z * 2 + position[1].z * 2) / 2];
                    var length = Math.sqrt((position[0].x - position[1].x) * (position[0].x - position[1].x) + (position[0].z - position[1].z) * (position[0].z - position[1].z));
                    var center = [centerR[0] - imageWidth / 2, centerR[1] - imageHeight / 2];
                    cube = createBox(length * 2, 30, size.z, center[0], 15, center[1]);
                  } else {
                    var _length = Math.sqrt((position[0].x - position[1].x) * (position[0].x - position[1].x) + (position[0].z - position[1].z) * (position[0].z - position[1].z));

                    centerR = [(position[0].x + position[1].x) / 2, (position[0].z + position[1].z) / 2];
                    var _center = [centerR[0] - imageWidth / 2, centerR[1] - imageHeight / 2];
                    cube = createBox(_length + 2, 30, size.z, _center[0], 15, _center[1]);
                  } //  const cube = createBox(size.x, 30, size.z, center[0], 15, center[1])


                  cube.rotateY(-radian);
                  floor.wallsObject.add(cube);
                  _models_threeModels_index__WEBPACK_IMPORTED_MODULE_4__["Block"].addPrototypeFloor(floor);
                });
                blocks === null || blocks === void 0 ? void 0 : blocks.forEach(function (block) {
                  var geos = block.geos;
                  var pos = [];
                  geos.forEach(function (geo) {
                    pos.push([geo[0] - imageWidth / 2, geo[1] - imageHeight / 2]);
                  });
                  var height = 50;
                  var mesh = createBlock(pos, height);
                  floor.wallsObject.add(mesh);
                });
                floor.object.add(floor.wallsObject);
                floor.addToScene(scene);
              });
              reLoad('loadInside');

            case 8:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));
    return _createFloors.apply(this, arguments);
  }

  function loadLogo(floor) {
    gltfloader.load('bigScreen/xuzhou/xuzhouLogo.gltf', function (gltf) {
      gltf.scene.renderOrder = 8;
      gltf.scene.rotateY(Math.PI / 2 - 0.07282335297209279); // gltf.scene.position.set(-150, 60, -391)

      gltf.scene.scale.set(5.87, 5.87, 5.87);
      var clone1 = gltf.scene.clone();
      clone1.position.set(-150, 60, -391);
      var clone2 = gltf.scene.clone();
      clone2.position.set(600, 60, -391);
      var clone3 = gltf.scene.clone();
      clone3.position.set(-150, 60, -391);
      gltf.scene.scale.set(5.87, 5.87, 5.87);
      floor.object.add(clone1);
      floor.object.add(clone2);
      floor.object.add(clone3);
      return gltf.scene;
    });
  }

  function createBlock(geos, height) {
    var shape = new three__WEBPACK_IMPORTED_MODULE_3__["Shape"]();
    var lineMaterial = new three__WEBPACK_IMPORTED_MODULE_3__["LineBasicMaterial"]({
      color: 0x9c9c9c
    });
    var points = [];
    geos.forEach(function (geo, index) {
      var _geo = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(geo, 2),
          x = _geo[0],
          z = _geo[1];

      if (index === 0) {
        shape.moveTo(x * 2, -z * 2);
      }

      shape.lineTo(x * 2, -z * 2);
      points.push(new three__WEBPACK_IMPORTED_MODULE_3__["Vector3"](x * 2, -z * 2, 4.01));
    });
    var lineGeometry = new three__WEBPACK_IMPORTED_MODULE_3__["BufferGeometry"]().setFromPoints(points);
    var extrudeSettings = {
      depth: height,
      bevelEnabled: false
    };
    var geometry = new three__WEBPACK_IMPORTED_MODULE_3__["ExtrudeGeometry"](shape, extrudeSettings);
    var material = new three__WEBPACK_IMPORTED_MODULE_3__["MeshLambertMaterial"]({
      color: 0xa8f0d9,
      emissive: 0x272727,
      opacity: 0.72,
      transparent: true
    });
    var mesh = new three__WEBPACK_IMPORTED_MODULE_3__["Mesh"](geometry, material);
    var edges = new three__WEBPACK_IMPORTED_MODULE_3__["EdgesGeometry"](mesh.geometry, 1);
    var lines = new three__WEBPACK_IMPORTED_MODULE_3__["LineSegments"](edges, lineMaterial);
    mesh.renderOrder = 2;
    mesh.rotateX(-Math.PI / 2); // house26.blockObject.add(lines);
    //  house26.blockObject.add(mesh)

    return mesh;
  }

  function createFloorGround(floor) {
    var boxProjectedMat = new three__WEBPACK_IMPORTED_MODULE_3__["MeshPhongMaterial"]({
      color: 0x272727,
      // emissive:0xa8a7a7,
      // emissiveIntensity:0.51,
      //   map: gMap,
      transparent: true,
      opacity: 0.71
    });
    var groundPlane = new three__WEBPACK_IMPORTED_MODULE_3__["Mesh"](new three__WEBPACK_IMPORTED_MODULE_3__["PlaneGeometry"](floor.width * 2, floor.height * 1.4), boxProjectedMat);
    groundPlane.rotateX(-Math.PI / 2); //  groundPlane.rotateY(Math.PI)

    groundPlane.position.set(0, -2.01, 0);
    sceneA.objects.push(groundPlane);
    groundPlane.renderOrder = 2;
    return groundPlane;
  }

  function createPlaneMap(floor, url) {
    var loader = new three__WEBPACK_IMPORTED_MODULE_3__["TextureLoader"]();
    loader.crossOrigin = '';
    var gMap = loader.load(url);
    gMap.wrapS = three__WEBPACK_IMPORTED_MODULE_3__["RepeatWrapping"];
    gMap.wrapT = three__WEBPACK_IMPORTED_MODULE_3__["RepeatWrapping"];
    gMap.repeat.set(1, 1);
    var boxProjectedMat = new three__WEBPACK_IMPORTED_MODULE_3__["MeshPhongMaterial"]({
      //  color: 0x272727,
      // emissive:0xa8a7a7,
      // emissiveIntensity:0.51,
      alphaTest: 0.1,
      map: gMap,
      side: three__WEBPACK_IMPORTED_MODULE_3__["DoubleSide"],
      transparent: true,
      opacity: 0.59
    });
    var groundPlane = new three__WEBPACK_IMPORTED_MODULE_3__["Mesh"](new three__WEBPACK_IMPORTED_MODULE_3__["PlaneGeometry"](floor.width * 2, floor.height * 2), boxProjectedMat);
    groundPlane.rotateX(-Math.PI / 2); // groundPlane.rotateY(Math.PI)

    groundPlane.position.set(0, -2.01, 0);
    floor.level === 27 && groundPlane.position.set(46, -2.01, 36);
    sceneA.objects.push(groundPlane);
    groundPlane.renderOrder = 2; // scene.add(groundPlane)

    return groundPlane;
  }

  function createBox(width, height, depth, x, y, z) {
    var params = {
      color: 0x77fbd1,
      transmission: 0.2,
      envMapIntensity: 1,
      lightIntensity: 1,
      exposure: 1
    };
    var cubeGeometry = new three__WEBPACK_IMPORTED_MODULE_3__["BoxGeometry"](width * 2, height, depth * 2);
    var material1 = new three__WEBPACK_IMPORTED_MODULE_3__["MeshPhysicalMaterial"]({
      color: params.color,
      metalness: 0,
      roughness: 0,
      //  alphaMap: texture,
      alphaTest: 0.5,
      envMapIntensity: params.envMapIntensity,
      depthWrite: false,
      transmission: params.transmission,
      // use material.transmission for glass materials
      opacity: 1,
      // set material.opacity to 1 when material.transmission is non-zero
      transparent: true,
      side: three__WEBPACK_IMPORTED_MODULE_3__["DoubleSide"]
    });
    var material = new three__WEBPACK_IMPORTED_MODULE_3__["MeshBasicMaterial"]({
      //  map: texture1,
      color: 0xc7ecf2,
      // specular:0x8fbbef,
      // side:THREE.DoubleSide,
      transparent: true,
      opacity: 0.42 //      alphaTest: 0.01,

    });
    var cube = new three__WEBPACK_IMPORTED_MODULE_3__["Mesh"](cubeGeometry, [material, material, material1, material1, material, material]);
    cube.position.x = x * 2;
    cube.position.y = y;
    cube.position.z = z * 2; //  cube.rotation.y += angle * Math.PI //-逆时针旋转,+顺时针

    cube.renderOrder = 4;
    return cube;
  }

  function init() {
    return _init.apply(this, arguments);
  }

  function _init() {
    _init = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2() {
      return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              //   createWalls()
              // loadDockModel()
              createFloors(); //  scene.add(new THREE.AxesHelper(700))
              //  let obj = setRobotModel()

            case 1:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee2);
    }));
    return _init.apply(this, arguments);
  }

  init();
  initLight();
}

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/loader/wankeOutside.ts":
/*!*************************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/loader/wankeOutside.ts ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return wankeOutside; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _utils_coordinateTool__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/coordinateTool */ "./src/utils/coordinateTool.ts");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
/* harmony import */ var _models_threeModels_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../models/threeModels/index */ "./src/pages/BigScreen/models/threeModels/index.ts");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var three_examples_jsm_postprocessing_RenderPass__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! three/examples/jsm/postprocessing/RenderPass */ "./node_modules/three/examples/jsm/postprocessing/RenderPass.js");
/* harmony import */ var three_examples_jsm_postprocessing_ShaderPass__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! three/examples/jsm/postprocessing/ShaderPass */ "./node_modules/three/examples/jsm/postprocessing/ShaderPass.js");
/* harmony import */ var three_examples_jsm_shaders_FXAAShader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! three/examples/jsm/shaders/FXAAShader */ "./node_modules/three/examples/jsm/shaders/FXAAShader.js");
/* harmony import */ var three_examples_jsm_utils_BufferGeometryUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! three/examples/jsm/utils/BufferGeometryUtils.js */ "./node_modules/three/examples/jsm/utils/BufferGeometryUtils.js");












function wankeOutside(_x) {
  return _wankeOutside.apply(this, arguments);
}

function _wankeOutside() {
  _wankeOutside = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2(_ref) {
    var renderer, camera, scene, controls, addObjects, composer, addUpdates, sceneA, effectFXAA, center, materialB, materialBA, initLight, loadGround, loadRoad, texture, loadMoveLine, _loadMoveLine, cylinder, createRoadLine, move, onWindowResize, loadBuilding, loadBuilding7B, createCylinder, createBuilding, createBuildingEdgeLine, init;

    return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            init = function _init() {
              var mesh7B = loadBuilding7B();
              var buildMesh = loadBuilding();
              initLight();
              var groundPlane = loadGround();
              var roadMesh = loadRoad();
              var moveline = loadMoveLine();
              scene.add(new three__WEBPACK_IMPORTED_MODULE_4__["AxesHelper"](200));
            };

            createBuildingEdgeLine = function _createBuildingEdgeLi(mesh) {
              var lineMaterial = new three__WEBPACK_IMPORTED_MODULE_4__["LineBasicMaterial"]({
                color: 0x338182,
                transparent: true,
                linewidth: 5,
                opacity: 1.0
              }); // 解决z-flighting

              lineMaterial.polygonOffset = true;
              lineMaterial.depthTest = true;
              lineMaterial.polygonOffsetFactor = 1;
              lineMaterial.polygonOffsetUnits = 1.0;
              var edges = new three__WEBPACK_IMPORTED_MODULE_4__["EdgesGeometry"](mesh.geometry, 1);
              var lines = new three__WEBPACK_IMPORTED_MODULE_4__["LineSegments"](edges, lineMaterial); //  lines.rotateX(-Math.PI / 2)

              lines.rotateZ(Math.PI);
              lines.rotateX(Math.PI / 2);
              scene.add(lines);
            };

            createBuilding = function _createBuilding(geos, height) {
              var shape = new three__WEBPACK_IMPORTED_MODULE_4__["Shape"]();
              geos.forEach(function (geo, index) {
                var _WSG84TOMercatorCente3 = WSG84TOMercatorCenter(geo, center),
                    _WSG84TOMercatorCente4 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_WSG84TOMercatorCente3, 2),
                    x = _WSG84TOMercatorCente4[0],
                    z = _WSG84TOMercatorCente4[1];

                if (index === 0) {
                  shape.moveTo(x, z);
                }

                shape.lineTo(x, z);
              });
              var extrudeSettings = {
                depth: height,
                bevelEnabled: false
              };
              var geometry = new three__WEBPACK_IMPORTED_MODULE_4__["ExtrudeGeometry"](shape, extrudeSettings);
              return geometry;
            };

            createCylinder = function _createCylinder(x, z) {
              var canvas = document.createElement('canvas');
              var ctx = canvas.getContext('2d');
              var rate;

              if (ctx) {
                ctx.fillStyle = 'rgba(255, 255, 255, 1.0)';
                ctx.font = 'Bold 20px Arial';
                var word = '万科云城7B';
                var distance = 2;
                var width = ctx === null || ctx === void 0 ? void 0 : ctx.measureText(word).width;
                rate = width / 300;
                ctx.fillText(word, distance, 14 + 2);
              }

              var texture = new three__WEBPACK_IMPORTED_MODULE_4__["Texture"](canvas);
              texture.needsUpdate = true;
              var spriteMaterial = new three__WEBPACK_IMPORTED_MODULE_4__["SpriteMaterial"]({
                map: texture,
                depthTest: true
              });
              var sprite = new three__WEBPACK_IMPORTED_MODULE_4__["Sprite"](spriteMaterial);
              sprite.center = new three__WEBPACK_IMPORTED_MODULE_4__["Vector2"](0.5, 0);
              var geometry = new three__WEBPACK_IMPORTED_MODULE_4__["CylinderGeometry"](0, 20, 30, 4, 1);
              sprite.position.set(x, 155, z);
              sprite.center.set(rate / 2, 1);
              sprite.scale.set(140, 70, 1);
              sprite.renderOrder = 1;
              var material = new three__WEBPACK_IMPORTED_MODULE_4__["MeshStandardMaterial"]({
                color: 0xa5a5a5,
                emissive: 0x15e298,
                metalness: 0.71,
                roughness: 0.1,
                wireframe: false
              });
              cylinder = new three__WEBPACK_IMPORTED_MODULE_4__["Mesh"](geometry, material); //   35.18697738647461 17.330108642578125

              cylinder.position.set(x, 200, z);
              cylinder.rotateX(Math.PI);
              scene.add(cylinder);
              scene.add(sprite);
            };

            loadBuilding7B = function _loadBuilding7B() {
              var geos = [[113.94245812, 22.57581673], [113.94245656, 22.57554985], [113.9430782, 22.57552923], [113.94308874, 22.57579602]];
              var materialTest = new three__WEBPACK_IMPORTED_MODULE_4__["MeshPhongMaterial"]({
                vertexColors: true
              });
              var color1 = new three__WEBPACK_IMPORTED_MODULE_4__["Color"](0x444444);
              var color2 = new three__WEBPACK_IMPORTED_MODULE_4__["Color"](0xff0000);
              var height = 120;
              var geometry = createBuilding(geos, height);

              var _WSG84TOMercatorCente = WSG84TOMercatorCenter([113.94245812, 22.57581673], center),
                  _WSG84TOMercatorCente2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_WSG84TOMercatorCente, 2),
                  x = _WSG84TOMercatorCente2[0],
                  z = _WSG84TOMercatorCente2[1];

              var mesh = new three__WEBPACK_IMPORTED_MODULE_4__["Mesh"](geometry, materialB.clone()); //  mesh.rotateX(-Math.PI / 2)

              mesh.rotateZ(Math.PI);
              mesh.rotateX(Math.PI / 2); // mesh.material.color = new THREE.Color(0x5adbc9)

              createBuildingEdgeLine(mesh);
              var bbox = new three__WEBPACK_IMPORTED_MODULE_4__["Box3"]().setFromObject(mesh);
              scene.add(mesh);
              sceneA.objects.push(mesh);
              addObjects({
                name: '7B',
                model: 'building',
                type: 'mesh',
                value: mesh
              }, 'wankeOutside');
              var build = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_5__["Building"]({
                name: '7B',
                object: mesh,
                geos: geos
              });
              _models_threeModels_index__WEBPACK_IMPORTED_MODULE_5__["Building"].addToBuildings(build);
              createCylinder(x, z);
              return mesh;
            };

            loadBuilding = function _loadBuilding() {
              var buildingObject = [];
              var pos = [];
              var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/';

              if (true) {
                baseUrl = '/oss/screen/';
              }

              var buildinggeo = axios__WEBPACK_IMPORTED_MODULE_6___default.a.get(baseUrl + 'wanke-building-no7b.json').then(function (res) {
                var data = res.data;

                for (var i = 0; i < data.features.length; i += 1) {
                  var b = data.features[i];
                  var geos = b.geometry.coordinates[0];
                  var height = b.properties.height;
                  pos.push(geos);
                  var geometry = createBuilding(geos, height);
                  buildingObject.push(geometry);
                }

                var mergedGeometry = three_examples_jsm_utils_BufferGeometryUtils_js__WEBPACK_IMPORTED_MODULE_10__["BufferGeometryUtils"].mergeBufferGeometries(buildingObject);
                var mesh = new three__WEBPACK_IMPORTED_MODULE_4__["Mesh"](mergedGeometry, materialB.clone());
                mesh.rotateZ(Math.PI);
                mesh.rotateX(Math.PI / 2);
                createBuildingEdgeLine(mesh);
                var build = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_5__["Building"]({
                  name: 'wankeBuildings',
                  object: mesh,
                  geos: pos
                });
                _models_threeModels_index__WEBPACK_IMPORTED_MODULE_5__["Building"].addToBuildings(build);
                scene.add(mesh); //   sceneA.objects.push(mesh)

                return mesh;
              });
            };

            onWindowResize = function _onWindowResize() {
              camera.aspect = window.innerWidth / window.innerHeight;
              camera.updateProjectionMatrix();
              renderer.setSize(window.innerWidth, window.innerHeight);
            };

            move = function _move() {
              texture.offset.x -= 0.0026;
              cylinder.rotation.y += 0.04;
            };

            createRoadLine = function _createRoadLine(geometries, texture) {
              // eslint-disable-next-line no-multi-assign
              texture.wrapS = texture.wrapT = three__WEBPACK_IMPORTED_MODULE_4__["RepeatWrapping"]; // 每个都重复

              texture.needsUpdate = true;
              texture.repeat.set(1, 1);
              var materia4 = new three__WEBPACK_IMPORTED_MODULE_4__["MeshBasicMaterial"]({
                map: texture,
                side: three__WEBPACK_IMPORTED_MODULE_4__["FrontSide"],
                transparent: true,
                opacity: 0.72
              });
              var tubes = [];

              var _loop = function _loop(i) {
                var geoArr = [];
                geometries[i].coordinates.forEach(function (geo) {
                  var pos = WSG84TOMercatorCenter(geo, center);
                  geoArr.push(new three__WEBPACK_IMPORTED_MODULE_4__["Vector3"](pos[0], -4, pos[1]));
                });
                var curve = new three__WEBPACK_IMPORTED_MODULE_4__["CatmullRomCurve3"](geoArr); // 曲线路径

                var tubularSegments = geometries[i].coordinates.length;
                var tubeGeometry = new three__WEBPACK_IMPORTED_MODULE_4__["TubeGeometry"](curve, tubularSegments, 3, 16);
                tubes.push(tubeGeometry); //   let mesh = new THREE.Mesh(tubeGeometry, materia4)
              };

              for (var i = 0; i < 26; i += 1) {
                _loop(i);
              }

              var mergedGeometry = three_examples_jsm_utils_BufferGeometryUtils_js__WEBPACK_IMPORTED_MODULE_10__["BufferGeometryUtils"].mergeBufferGeometries(tubes);
              var mesh = new three__WEBPACK_IMPORTED_MODULE_4__["Mesh"](mergedGeometry, materia4); // mesh.rotateY(Math.PI)

              mesh.rotateZ(Math.PI);
              scene.add(mesh);
              addUpdates(move, 'wankeOutside'); // move()
              //  sceneA.objects.push(mesh)

              return mesh;
            };

            _loadMoveLine = function _loadMoveLine3() {
              _loadMoveLine = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {
                var texture1, linegeo, linegeo1, geometries, geometries2;
                return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {
                  while (1) {
                    switch (_context.prev = _context.next) {
                      case 0:
                        texture1 = new three__WEBPACK_IMPORTED_MODULE_4__["TextureLoader"]().load('bigScreen/texture/green-line.png');
                        _context.next = 3;
                        return axios__WEBPACK_IMPORTED_MODULE_6___default.a.get('bigScreen/building/wanke-moveRoad.json');

                      case 3:
                        linegeo = _context.sent;
                        _context.next = 6;
                        return axios__WEBPACK_IMPORTED_MODULE_6___default.a.get('bigScreen/building/wanke-moveRoad2.json');

                      case 6:
                        linegeo1 = _context.sent;
                        geometries = linegeo.data.geometries;
                        geometries2 = linegeo1.data.geometries;
                        createRoadLine(geometries, texture); //  createRoadLine(geometries2,texture1)

                      case 10:
                      case "end":
                        return _context.stop();
                    }
                  }
                }, _callee);
              }));
              return _loadMoveLine.apply(this, arguments);
            };

            loadMoveLine = function _loadMoveLine2() {
              return _loadMoveLine.apply(this, arguments);
            };

            loadRoad = function _loadRoad() {
              var roadObject = new three__WEBPACK_IMPORTED_MODULE_4__["Object3D"]();
              var linegeo = axios__WEBPACK_IMPORTED_MODULE_6___default.a.get('bigScreen/building/wanke-topRoad.json').then(function (res) {
                var geometries = res.data.geometries;
                var material = new three__WEBPACK_IMPORTED_MODULE_4__["LineBasicMaterial"]({
                  color: '#6E9092',
                  linewidth: 1,
                  transparent: true,
                  opacity: 0.5
                });
                geometries.forEach(function (geomatery) {
                  var points = geomatery.coordinates;
                  var transPoints = [];
                  points.forEach(function (geo) {
                    var geoM = WSG84TOMercatorCenter(geo, center);
                    var newGeo = new three__WEBPACK_IMPORTED_MODULE_4__["Vector3"](geoM[0], 0.1, geoM[1]);
                    transPoints.push(newGeo);
                  });
                  var geometry = new three__WEBPACK_IMPORTED_MODULE_4__["BufferGeometry"]().setFromPoints(transPoints);
                  var line = new three__WEBPACK_IMPORTED_MODULE_4__["Line"](geometry, material);
                  line.rotateZ(Math.PI);
                  roadObject.add(line); //  scene.add(line)
                }); // const mergedGeometry = BufferGeometryUtils.mergeBufferGeometries(roadObject)
                // let mesh = new THREE.Mesh(mergedGeometry, material)
                // mesh.rotateX(Math.PI)

                scene.add(roadObject); // sceneA.objects.push(roadObject)

                return roadObject;
              });
            };

            loadGround = function _loadGround() {
              var loader = new three__WEBPACK_IMPORTED_MODULE_4__["TextureLoader"]();
              var gMap = loader.load('bigScreen/texture/point.png');
              gMap.wrapS = three__WEBPACK_IMPORTED_MODULE_4__["RepeatWrapping"];
              gMap.wrapT = three__WEBPACK_IMPORTED_MODULE_4__["RepeatWrapping"];
              gMap.repeat.set(250, 150);
              var boxProjectedMat = new three__WEBPACK_IMPORTED_MODULE_4__["MeshBasicMaterial"]({
                color: 0x0c523b,
                map: gMap
              });
              boxProjectedMat.transparent = true; //      boxProjectedMat.opacity = 0.5

              var groundPlane = new three__WEBPACK_IMPORTED_MODULE_4__["Mesh"](new three__WEBPACK_IMPORTED_MODULE_4__["PlaneGeometry"](5000, 3000), boxProjectedMat);
              groundPlane.rotateX(-Math.PI / 2);
              groundPlane.position.set(0, -0.1, 0);
              scene.add(groundPlane); //     render();

              sceneA.objects.push(groundPlane);
              return groundPlane;
            };

            initLight = function _initLight() {
              var dirLight1 = new three__WEBPACK_IMPORTED_MODULE_4__["DirectionalLight"](0xffffff);
              dirLight1.position.set(1, 1, 1); //   scene.add(dirLight1)

              var dirLight2 = new three__WEBPACK_IMPORTED_MODULE_4__["DirectionalLight"](0xffffff);
              dirLight2.position.set(-1, 1, -1);
              scene.add(dirLight2);
              var ambientLight = new three__WEBPACK_IMPORTED_MODULE_4__["AmbientLight"](0x2e2e2e);
              scene.add(ambientLight);
              scene.background = new three__WEBPACK_IMPORTED_MODULE_4__["Color"](0x0a2329); // scene.fog = new THREE.Fog( 0x2e2d2d, 500, 10000 );
            };

            renderer = _ref.renderer, camera = _ref.camera, scene = _ref.scene, controls = _ref.controls, addObjects = _ref.addObjects, composer = _ref.composer, addUpdates = _ref.addUpdates;
            sceneA = new _models_threeModels_index__WEBPACK_IMPORTED_MODULE_5__["Scene"]({
              name: 'wankeOutside',
              scene: scene,
              objects: []
            });
            _models_threeModels_index__WEBPACK_IMPORTED_MODULE_5__["Scene"].addScenes(sceneA);
            composer.addPass(new three_examples_jsm_postprocessing_RenderPass__WEBPACK_IMPORTED_MODULE_7__["RenderPass"](scene, camera));
            effectFXAA = new three_examples_jsm_postprocessing_ShaderPass__WEBPACK_IMPORTED_MODULE_8__["ShaderPass"](three_examples_jsm_shaders_FXAAShader__WEBPACK_IMPORTED_MODULE_9__["FXAAShader"]);
            effectFXAA.uniforms.resolution.value.set(1 / window.innerWidth, 1 / window.innerHeight);
            effectFXAA.renderToScreen = true;
            composer.addPass(effectFXAA);
            center = [113.942669, 22.580153];
            materialB = new three__WEBPACK_IMPORTED_MODULE_4__["MeshPhongMaterial"]({
              //      specular: 0xb21e2d,
              // emissive: 0x08302f,//
              emissive: 0x07272d,
              emissiveIntensity: 0.4,
              // color: 0x0e523a,
              color: 0x51c0b0,
              //        color: _this.getColor(height),
              transparent: true,
              opacity: 0.92,
              // map: texttrue2,
              //        specularMap:texttrue2,
              shininess: 30
            });
            materialBA = new three__WEBPACK_IMPORTED_MODULE_4__["MeshPhongMaterial"]({
              //      specular: 0xb21e2d,
              // emissive: 0x08302f,//
              emissive: 0x07272d,
              emissiveIntensity: 0.4,
              color: 0x0e523a,
              // color: 0x51c0b0,
              //        color: _this.getColor(height),
              transparent: true,
              opacity: 0.92,
              // map: texttrue2,
              //        specularMap:texttrue2,
              shininess: 30
            }); // let materialB = new THREE.MeshLambertMaterial({
            //   //      specular: 0xb21e2d,
            //   emissive: 0x072b1e,
            //  emissiveIntensity: 0.92,
            //   color: 0x3e4040,
            //   //        color: _this.getColor(height),
            //   transparent: true,
            //   opacity: 0.92,
            //   //map: texttrue2,
            //   //        specularMap:texttrue2,
            //   //  shininess:30
            // })

            texture = new three__WEBPACK_IMPORTED_MODULE_4__["TextureLoader"]().load('bigScreen/texture/gline.png');
            init();

          case 27:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));
  return _wankeOutside.apply(this, arguments);
}

function createOutsideItem() {}

function BuildToMeratorCenter(geo, center) {
  var geo84 = Object(_utils_coordinateTool__WEBPACK_IMPORTED_MODULE_3__["convertToWGS84"])({
    lng: geo[0],
    lat: geo[1]
  });
  var geoTrans = WSG84TOMercator(geo84);
  var centerTrans = WSG84TOMercator({
    lng: center[0],
    lat: center[1]
  });
  var x = geoTrans[0] - centerTrans[0];
  var y = geoTrans[1] - centerTrans[1];
  return [x, y];
}

function WSG84TOMercatorCenter(geo, center) {
  var geoTrans = WSG84TOMercator({
    lng: geo[0],
    lat: geo[1]
  }); // √console.log(geo,geo111)

  var centerTrans = WSG84TOMercator({
    lng: center[0],
    lat: center[1]
  });
  var x = geoTrans[0] - centerTrans[0];
  var y = geoTrans[1] - centerTrans[1];
  return [x, y];
}

function WSG84TOMercator(geo) {
  var lon = geo.lng;
  var lat = geo.lat;
  var x = lon * 20037508.34 / 180;
  var y = Math.PI / 180.0 * lat;
  var tmp = Math.PI / 4.0 + y / 2.0;
  y = 20037508.3427892 * Math.log(Math.tan(tmp)) / Math.PI;
  return [x, y];
}

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/pages/BlockDisplay.tsx":
/*!*************************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/pages/BlockDisplay.tsx ***!
  \*************************************************************************************/
/*! exports provided: BlockDisplay, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BlockDisplay", function() { return BlockDisplay; });
/* harmony import */ var antd_es_switch_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/es/switch/style */ "./node_modules/antd/es/switch/style/index.js");
/* harmony import */ var antd_es_switch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/es/switch */ "./node_modules/antd/es/switch/index.js");
/* harmony import */ var antd_es_space_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd/es/space/style */ "./node_modules/antd/es/space/style/index.js");
/* harmony import */ var antd_es_space__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd/es/space */ "./node_modules/antd/es/space/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var antd_es_select_style__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! antd/es/select/style */ "./node_modules/antd/es/select/style/index.js");
/* harmony import */ var antd_es_select__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! antd/es/select */ "./node_modules/antd/es/select/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! umi */ "./node_modules/umi/dist/index.esm.js");
/* harmony import */ var _index_less_modules__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../index.less?modules */ "./src/pages/BigScreen/components/ThreeScene/index.less?modules");
/* harmony import */ var _index_less_modules__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_index_less_modules__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../models/threeModels/index */ "./src/pages/BigScreen/models/threeModels/index.ts");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__);








var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/components/ThreeScene/components/pages/BlockDisplay.tsx",
    _this = undefined;






var Option = antd_es_select__WEBPACK_IMPORTED_MODULE_6__["default"].Option;
var BlockDisplay = function BlockDisplay(props) {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])([]),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__["default"])(_useState, 2),
      blocks = _useState2[0],
      setBlocks = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])('all'),
      _useState4 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__["default"])(_useState3, 2),
      currentType = _useState4[0],
      setCurrentType = _useState4[1];

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])(),
      _useState6 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__["default"])(_useState5, 2),
      currentFloor = _useState6[0],
      setCurrentFloor = _useState6[1];

  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])(false),
      _useState8 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__["default"])(_useState7, 2),
      dockShow = _useState8[0],
      setDockShow = _useState8[1];

  var _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])('3d'),
      _useState10 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__["default"])(_useState9, 2),
      mapType = _useState10[0],
      setMapType = _useState10[1];

  var camera = props.camera,
      controls = props.controls,
      socket = props.socket,
      currentHub = props.currentHub,
      refresh = props.refresh;
  Object(react__WEBPACK_IMPORTED_MODULE_7__["useEffect"])(function () {
    setBlocks(Object.values(_models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Block"].blocks));
  }, [refresh]);
  Object(react__WEBPACK_IMPORTED_MODULE_7__["useEffect"])(function () {
    setBlocks(Object.values(_models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Block"].blocks));
    setMapType(_models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Block"].mapType); //  setfFloorDisplay()
  }, []);

  function changeMapType(e) {
    if (e.title === mapType) {
      return;
    }

    setMapType(e);
    _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Block"].changeMapType(e); // Floor.traverse((floor: any) => {
    //   floor.setMapType(e)
    // })
  }

  function setfFloorDisplay() {// Block.traverse((block: any) => {
    //   block.setVisible(true)
    //   //     block.setDockVisible(false)
    // })
    //   setMapType(Floor.mapType)
  }

  var setBlockDisplay = function setBlockDisplay(value) {
    if (currentType === value) {
      return;
    }

    switch (value) {
      case 'i-Hospital':
        _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Block"].prototypeFloors.floor2.setVisible(false);
        camera.position.set(-67.4115812637984, 546.2255870668129, -674.5603288000034);
        controls.target.set(-220, 0, -100);
        break;

      case 'i-Logistics':
        if (currentType !== 'all') {
          _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Block"].prototypeFloors.floor2.setVisible(true);
        }

        camera.position.set(-639.2765923605938, 1251.3483116218897, -2253.6286613069915);
        controls.target.set(-600, 0, -6);
        break;

      case 'i-Sanitation':
        _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Block"].prototypeFloors.floor2.setVisible(false);
        camera.position.set(600.2607551437547, 1380, -812.5216713121463);
        controls.target.set(600, 0, -6);
        break;

      case 'all':
        if (currentType !== 'i-Logistics') {
          _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Block"].prototypeFloors.floor2.setVisible(true);
        }

        camera.position.set(600, 1700, 2600);
        controls.target.set(0, 250, 0);
        break;

      default:
    }

    setCurrentType(value);
  };

  var onChange = function onChange(checked) {
    setDockShow(checked);
  };

  Object(react__WEBPACK_IMPORTED_MODULE_7__["useEffect"])(function () {
    blocks.forEach(function (floor) {
      if (floor.docksObject) {//    floor.setDockVisible(dockShow)
      }
    });
  }, [dockShow]);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])("div", {
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_space__WEBPACK_IMPORTED_MODULE_3__["default"], {
      className: _index_less_modules__WEBPACK_IMPORTED_MODULE_9___default.a['robotdisplay-typebut-cont'],
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])("div", {
        onClick: function onClick() {
          return setBlockDisplay('all');
        },
        style: {
          transform: 'skewX(-15deg)',
          cursor: 'pointer',
          color: 'white',
          margin: '0 1px',
          padding: '4px 10px',
          background: currentType === 'all' ? 'rgb(13, 230, 186, 0.1)' : 'rgba(255, 255, 255, .3)'
        },
        className: "f16",
        children: "\u591A\u6A21\u5757"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 88,
        columnNumber: 9
      }, _this), blocks.map(function (item, index) {
        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])("div", {
          onClick: function onClick() {
            return setBlockDisplay(item.id);
          },
          style: {
            transform: 'skewX(-15deg)',
            cursor: 'pointer',
            color: 'white',
            margin: '0 1px',
            padding: '4px 10px',
            background: currentType === item.id ? 'rgb(13, 230, 186, 0.1)' : 'rgba(255, 255, 255, .3)'
          },
          className: "f16",
          children: item.name
        }, index, false, {
          fileName: _jsxFileName,
          lineNumber: 104,
          columnNumber: 11
        }, _this);
      })]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 87,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_space__WEBPACK_IMPORTED_MODULE_3__["default"], {
      className: _index_less_modules__WEBPACK_IMPORTED_MODULE_9___default.a['robotdisplay-switch-cont'],
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])("span", {
        children: "\u6869\u4F4D\uFF1A"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 123,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_switch__WEBPACK_IMPORTED_MODULE_1__["default"], {
        defaultChecked: dockShow,
        onChange: onChange
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 124,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 122,
      columnNumber: 7
    }, _this), _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Floor"].mapType !== 'none' && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_space__WEBPACK_IMPORTED_MODULE_3__["default"], {
      className: _index_less_modules__WEBPACK_IMPORTED_MODULE_9___default.a['robotdisplay-switch-maptype'],
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_select__WEBPACK_IMPORTED_MODULE_6__["default"], {
        value: mapType,
        onChange: changeMapType,
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(Option, {
          value: "3d",
          children: "3d\u697C\u5C42 "
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 129,
          columnNumber: 13
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(Option, {
          value: "2d",
          children: "\u5E73\u9762\u697C\u5C42\u56FE "
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 130,
          columnNumber: 13
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 128,
        columnNumber: 11
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 127,
      columnNumber: 9
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 86,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps(_ref) {
  var sceneSetter = _ref.sceneSetter,
      mqtt = _ref.mqtt;
  return {
    camera: sceneSetter.camera,
    controls: sceneSetter.controls,
    socket: mqtt.socket
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {};
};

/* harmony default export */ __webpack_exports__["default"] = (Object(umi__WEBPACK_IMPORTED_MODULE_8__["connect"])(mapStateToProps, mapDispatchToProps)(BlockDisplay));

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/pages/DeviceControlPanel.tsx":
/*!*******************************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/pages/DeviceControlPanel.tsx ***!
  \*******************************************************************************************/
/*! exports provided: DeviceControlPanel, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeviceControlPanel", function() { return DeviceControlPanel; });
/* harmony import */ var antd_es_button_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/es/button/style */ "./node_modules/antd/es/button/style/index.js");
/* harmony import */ var antd_es_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/es/button */ "./node_modules/antd/es/button/index.js");
/* harmony import */ var antd_es_modal_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd/es/modal/style */ "./node_modules/antd/es/modal/style/index.js");
/* harmony import */ var antd_es_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd/es/modal */ "./node_modules/antd/es/modal/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _index_less_modules__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../index.less?modules */ "./src/pages/BigScreen/components/ThreeScene/index.less?modules");
/* harmony import */ var _index_less_modules__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_index_less_modules__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! umi */ "./node_modules/umi/dist/index.esm.js");
/* harmony import */ var _ant_design_icons__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ant-design/icons */ "./node_modules/@ant-design/icons/es/index.js");
/* harmony import */ var _models_threeModels_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../models/threeModels/index */ "./src/pages/BigScreen/models/threeModels/index.ts");
/* harmony import */ var _services_api_aurora_screen_indoor__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/services/api/aurora/screen-indoor */ "./src/services/api/aurora/screen-indoor.ts");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__);







var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/components/ThreeScene/components/pages/DeviceControlPanel.tsx",
    _this = undefined;









var robotId = '9782394e-2b4f-495a-a119-ce6df12f458c';
var DeviceControlPanel = function DeviceControlPanel(_ref) {
  var selectedItem = _ref.selectedItem,
      closeControlModal = _ref.closeControlModal,
      camera = _ref.camera,
      controls = _ref.controls;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])(),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_5__["default"])(_useState, 2),
      commandList = _useState2[0],
      setCommandList = _useState2[1];

  Object(react__WEBPACK_IMPORTED_MODULE_7__["useEffect"])(function () {
    getDeviceCommandList();
  }, []);

  function getDeviceCommandList() {
    return _getDeviceCommandList.apply(this, arguments);
  }

  function _getDeviceCommandList() {
    _getDeviceCommandList = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.mark(function _callee() {
      var _yield$getCommandList, data;

      return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return Object(_services_api_aurora_screen_indoor__WEBPACK_IMPORTED_MODULE_12__["getCommandList"])({
                robotId: selectedItem.id,
                pageSize: 5
              });

            case 2:
              _yield$getCommandList = _context.sent;
              data = _yield$getCommandList.data;
              setCommandList(data);

            case 5:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));
    return _getDeviceCommandList.apply(this, arguments);
  }

  function selectRobotDestination() {
    // camera.position.set
    // const floor = Floor.floors.find((i: any) => {
    //   return i.level === selectedItem.floorName
    // })
    var floor = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_11__["Floor"].floors[selectedItem.floorName];

    if (floor) {
      floor.flyTo(camera, controls); //  floor.waypointObject.visible = true

      floor.setOnlyWayPoint(true);
      controls.autoRotate = false;
    }
  } // console.log(selectedItem)


  var closeModal = function closeModal() {
    // const floor = Floor.floors.find((i: any) => {
    //   return i.level === selectedItem.level
    // })
    var floor = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_11__["Floor"].floors[selectedItem.floorName];

    if (floor) {
      floor.setOnlyWayPoint(false);
    }

    closeControlModal();
  };

  function stopRobot() {
    antd_es_modal__WEBPACK_IMPORTED_MODULE_3__["default"].confirm({
      content: "\u662F\u5426\u505C\u6B62",
      onOk: function onOk() {
        Object(_services_api_aurora_screen_indoor__WEBPACK_IMPORTED_MODULE_12__["robotStop"])(selectedItem.id);
      },
      onCancel: function onCancel() {//  closeControlModal()
      }
    });
  }

  function reloadCommandList() {
    getDeviceCommandList();
  }

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])("div", {
    className: _index_less_modules__WEBPACK_IMPORTED_MODULE_8___default.a['control-cont'],
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])("div", {
      className: _index_less_modules__WEBPACK_IMPORTED_MODULE_8___default.a['robotinfo'],
      children: selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.name
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 67,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])("div", {
      className: _index_less_modules__WEBPACK_IMPORTED_MODULE_8___default.a['command-list'],
      children: commandList === null || commandList === void 0 ? void 0 : commandList.map(function (item, index) {
        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])("div", {
          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])("span", {
            style: {
              color: 'black'
            },
            children: item.description
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 72,
            columnNumber: 15
          }, _this)
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 71,
          columnNumber: 13
        }, _this);
      })
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 68,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])("div", {
      className: _index_less_modules__WEBPACK_IMPORTED_MODULE_8___default.a['control-btu'],
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(antd_es_button__WEBPACK_IMPORTED_MODULE_1__["default"], {
        onClick: selectRobotDestination,
        children: "\u79FB\u52A8"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 78,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(antd_es_button__WEBPACK_IMPORTED_MODULE_1__["default"], {
        onClick: stopRobot,
        children: "\u505C\u6B62"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 79,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(antd_es_button__WEBPACK_IMPORTED_MODULE_1__["default"], {
        onClick: reloadCommandList,
        children: "\u5237\u65B0"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 80,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 77,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(antd_es_button__WEBPACK_IMPORTED_MODULE_1__["default"], {
      type: "primary",
      shape: "circle",
      className: _index_less_modules__WEBPACK_IMPORTED_MODULE_8___default.a['close-btu'],
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_13__["jsxDEV"])(_ant_design_icons__WEBPACK_IMPORTED_MODULE_10__["CloseOutlined"], {
        onClick: closeModal
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 83,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 82,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 66,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps(_ref2) {
  var sceneSetter = _ref2.sceneSetter,
      mqtt = _ref2.mqtt;
  return {
    renderer: sceneSetter.renderer,
    camera: sceneSetter.camera,
    controls: sceneSetter.controls,
    scenes: sceneSetter.scenes,
    composer: sceneSetter.composer,
    socket: mqtt.socket
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    initSceneSetter: function initSceneSetter() {
      dispatch({
        type: 'sceneSetter/initSceneSetter'
      });
    },
    clearState: function clearState() {
      dispatch({
        type: 'sceneSetter/clearState'
      });
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(umi__WEBPACK_IMPORTED_MODULE_9__["connect"])(mapStateToProps, mapDispatchToProps)(DeviceControlPanel));

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/pages/FloorDisplay.tsx":
/*!*************************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/pages/FloorDisplay.tsx ***!
  \*************************************************************************************/
/*! exports provided: FloorDisplay, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FloorDisplay", function() { return FloorDisplay; });
/* harmony import */ var antd_es_switch_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/es/switch/style */ "./node_modules/antd/es/switch/style/index.js");
/* harmony import */ var antd_es_switch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/es/switch */ "./node_modules/antd/es/switch/index.js");
/* harmony import */ var antd_es_space_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd/es/space/style */ "./node_modules/antd/es/space/style/index.js");
/* harmony import */ var antd_es_space__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd/es/space */ "./node_modules/antd/es/space/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var antd_es_select_style__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! antd/es/select/style */ "./node_modules/antd/es/select/style/index.js");
/* harmony import */ var antd_es_select__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! antd/es/select */ "./node_modules/antd/es/select/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! umi */ "./node_modules/umi/dist/index.esm.js");
/* harmony import */ var _index_less_modules__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../index.less?modules */ "./src/pages/BigScreen/components/ThreeScene/index.less?modules");
/* harmony import */ var _index_less_modules__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_index_less_modules__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../models/threeModels/index */ "./src/pages/BigScreen/models/threeModels/index.ts");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__);








var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/components/ThreeScene/components/pages/FloorDisplay.tsx",
    _this = undefined;






var Option = antd_es_select__WEBPACK_IMPORTED_MODULE_6__["default"].Option;
var FloorDisplay = function FloorDisplay(props) {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])([]),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__["default"])(_useState, 2),
      floors = _useState2[0],
      setFloors = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])('all'),
      _useState4 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__["default"])(_useState3, 2),
      currentType = _useState4[0],
      setCurrentType = _useState4[1];

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])(),
      _useState6 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__["default"])(_useState5, 2),
      currentFloor = _useState6[0],
      setCurrentFloor = _useState6[1];

  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])(false),
      _useState8 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__["default"])(_useState7, 2),
      dockShow = _useState8[0],
      setDockShow = _useState8[1];

  var _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])('3d'),
      _useState10 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__["default"])(_useState9, 2),
      mapType = _useState10[0],
      setMapType = _useState10[1];

  var camera = props.camera,
      controls = props.controls,
      socket = props.socket,
      currentHub = props.currentHub,
      refresh = props.refresh;
  Object(react__WEBPACK_IMPORTED_MODULE_7__["useEffect"])(function () {
    setFloors(Object.values(_models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Floor"].floors));
    console.log(Object.values(_models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Floor"].floors));
  }, [refresh]);
  Object(react__WEBPACK_IMPORTED_MODULE_7__["useEffect"])(function () {
    setFloors(Object.values(_models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Floor"].floors));
    setfFloorDisplay();
  }, []);

  function changeMapType(e) {
    if (e.title === mapType) {
      return;
    }

    setMapType(e);
    _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Floor"].changeMapType(e); // Floor.traverse((floor: any) => {
    //   floor.setMapType(e)
    // })
  }

  function setfFloorDisplay() {
    _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Floor"].traverse(function (floor) {
      floor.setVisible(true);
      floor.setDockVisible(false);
    });
    setMapType(_models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Floor"].mapType);
  }

  var setFloorDisplay = function setFloorDisplay(value) {
    if (currentType === value) {
      return;
    }

    _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Floor"].traverse(function (floor) {
      if (floor.id !== value) {
        if (value === 'all') {
          floor.setVisible(true);
          floor.setDockVisible(dockShow);

          if (currentHub.id === 'e90d7310-959c-4948-bf09-c67e93600848') {
            camera.position.set(200, 1400, 3100);
          } else {
            camera.position.set(900, 3400, 6100);
          }

          controls.target.set(0, 250, 0);
        } else {
          floor.setVisible(false);
        }
      } else {
        floor.setVisible(true);
        floor.flyTo(camera, controls);
        floor.setDockVisible(dockShow);
      }
    });
    var floor = floors.find(function (i) {
      return i.floorId === value;
    });
    value === 'all' ? (setCurrentFloor(undefined), _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Floor"].ElevatorObject.visible = true) : (setCurrentFloor(floor), _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Floor"].ElevatorObject.visible = false);
    setCurrentType(value);
  };

  var onChange = function onChange(checked) {
    setDockShow(checked);
  };

  Object(react__WEBPACK_IMPORTED_MODULE_7__["useEffect"])(function () {
    floors.forEach(function (floor) {
      if (floor.docksObject) {
        floor.setDockVisible(dockShow);
      }
    });
  }, [dockShow]);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])("div", {
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_space__WEBPACK_IMPORTED_MODULE_3__["default"], {
      className: _index_less_modules__WEBPACK_IMPORTED_MODULE_9___default.a['robotdisplay-typebut-cont'],
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])("div", {
        onClick: function onClick() {
          return setFloorDisplay('all');
        },
        style: {
          transform: 'skewX(-15deg)',
          cursor: 'pointer',
          color: 'white',
          margin: '0 1px',
          padding: '4px 10px',
          background: currentType === 'all' ? 'rgb(13, 230, 186, 0.1)' : 'rgba(255, 255, 255, .3)'
        },
        className: "f16",
        children: "\u591A\u697C\u5C42"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 88,
        columnNumber: 9
      }, _this), floors.map(function (item, index) {
        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])("div", {
          onClick: function onClick() {
            return setFloorDisplay(item.id);
          },
          style: {
            transform: 'skewX(-15deg)',
            cursor: 'pointer',
            color: 'white',
            margin: '0 1px',
            padding: '4px 10px',
            background: currentType === item.id ? 'rgb(13, 230, 186, 0.1)' : 'rgba(255, 255, 255, .3)'
          },
          className: "f16",
          children: [item.name, "\u697C"]
        }, index, true, {
          fileName: _jsxFileName,
          lineNumber: 104,
          columnNumber: 11
        }, _this);
      })]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 87,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_space__WEBPACK_IMPORTED_MODULE_3__["default"], {
      className: _index_less_modules__WEBPACK_IMPORTED_MODULE_9___default.a['robotdisplay-switch-cont'],
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])("span", {
        children: "\u6869\u4F4D\uFF1A"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 123,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_switch__WEBPACK_IMPORTED_MODULE_1__["default"], {
        defaultChecked: dockShow,
        onChange: onChange
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 124,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 122,
      columnNumber: 7
    }, _this), _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["Floor"].mapType !== 'none' && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_space__WEBPACK_IMPORTED_MODULE_3__["default"], {
      className: _index_less_modules__WEBPACK_IMPORTED_MODULE_9___default.a['robotdisplay-switch-maptype'],
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_select__WEBPACK_IMPORTED_MODULE_6__["default"], {
        value: mapType,
        onChange: changeMapType,
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(Option, {
          value: "floorModel",
          children: "3d\u697C\u5C42\u65B0\u7248"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 132,
          columnNumber: 13
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(Option, {
          value: "3d",
          children: "3d\u697C\u5C42\u65E7\u7248 "
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 133,
          columnNumber: 13
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(Option, {
          value: "2d",
          children: "\u5E73\u9762\u697C\u5C42\u56FE "
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 134,
          columnNumber: 13
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 131,
        columnNumber: 11
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 127,
      columnNumber: 9
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 86,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps(_ref) {
  var sceneSetter = _ref.sceneSetter,
      mqtt = _ref.mqtt;
  return {
    camera: sceneSetter.camera,
    controls: sceneSetter.controls,
    socket: mqtt.socket
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {};
};

/* harmony default export */ __webpack_exports__["default"] = (Object(umi__WEBPACK_IMPORTED_MODULE_8__["connect"])(mapStateToProps, mapDispatchToProps)(FloorDisplay));

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/pages/LightSetter.tsx":
/*!************************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/pages/LightSetter.tsx ***!
  \************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var antd_es_space_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/es/space/style */ "./node_modules/antd/es/space/style/index.js");
/* harmony import */ var antd_es_space__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/es/space */ "./node_modules/antd/es/space/index.js");
/* harmony import */ var antd_es_input_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd/es/input/style */ "./node_modules/antd/es/input/style/index.js");
/* harmony import */ var antd_es_input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd/es/input */ "./node_modules/antd/es/input/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var antd_es_collapse_style__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! antd/es/collapse/style */ "./node_modules/antd/es/collapse/style/index.js");
/* harmony import */ var antd_es_collapse__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! antd/es/collapse */ "./node_modules/antd/es/collapse/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _models_threeModels_index__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../models/threeModels/index */ "./src/pages/BigScreen/models/threeModels/index.ts");
/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! umi */ "./node_modules/umi/dist/index.esm.js");
/* harmony import */ var _index_less_modules__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../index.less?modules */ "./src/pages/BigScreen/components/ThreeScene/index.less?modules");
/* harmony import */ var _index_less_modules__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_index_less_modules__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__);








var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/components/ThreeScene/components/pages/LightSetter.tsx",
    _this = undefined;






var Panel = antd_es_collapse__WEBPACK_IMPORTED_MODULE_6__["default"].Panel;

var LightSetter = function LightSetter(props) {
  var sceneName = props.sceneName;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])([]),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__["default"])(_useState, 2),
      lights = _useState2[0],
      setLights = _useState2[1];

  Object(react__WEBPACK_IMPORTED_MODULE_7__["useEffect"])(function () {
    setDatas();
  }, []);

  function handleChange(key) {
    console.log(key);
  }

  function setDatas() {
    var scene = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_8__["Scene"].scenes.find(function (scene) {
      return scene.name === sceneName;
    });

    if (scene) {
      var _lights = scene.lights;
      console.log(_lights);
      setLights(_lights);
    }
  }

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])("div", {
    className: _index_less_modules__WEBPACK_IMPORTED_MODULE_10___default.a['ls-cont'],
    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_collapse__WEBPACK_IMPORTED_MODULE_6__["default"], {
      onChange: handleChange,
      children: lights.map(function (light, index) {
        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(Panel, {
          header: light.type,
          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_space__WEBPACK_IMPORTED_MODULE_1__["default"], {
            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])("span", {
              children: "\u4F4D\u7F6E"
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 40,
              columnNumber: 17
            }, _this), "x: ", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_input__WEBPACK_IMPORTED_MODULE_3__["default"], {
              style: {
                width: '66px'
              },
              defaultValue: light.position.x
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 41,
              columnNumber: 20
            }, _this), "y:", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_input__WEBPACK_IMPORTED_MODULE_3__["default"], {
              style: {
                width: '66px'
              },
              defaultValue: light.position.y
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 43,
              columnNumber: 17
            }, _this), "z:", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_input__WEBPACK_IMPORTED_MODULE_3__["default"], {
              style: {
                width: '66px'
              },
              defaultValue: light.position.z
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 45,
              columnNumber: 17
            }, _this)]
          }, void 0, true, {
            fileName: _jsxFileName,
            lineNumber: 39,
            columnNumber: 15
          }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_space__WEBPACK_IMPORTED_MODULE_1__["default"], {
            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])("span", {
              children: "\u989C\u8272"
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 48,
              columnNumber: 17
            }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_input__WEBPACK_IMPORTED_MODULE_3__["default"], {
              type: "color",
              style: {
                width: '86px'
              }
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 49,
              columnNumber: 17
            }, _this)]
          }, void 0, true, {
            fileName: _jsxFileName,
            lineNumber: 47,
            columnNumber: 15
          }, _this)]
        }, index, true, {
          fileName: _jsxFileName,
          lineNumber: 38,
          columnNumber: 13
        }, _this);
      })
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 35,
      columnNumber: 7
    }, _this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 34,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps(_ref) {
  var feedbackDetail = _ref.feedbackDetail,
      storage = _ref.storage;
  return {
    timeRange: feedbackDetail.timeRange,
    currentDevice: feedbackDetail.currentDevice
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {};
};

/* harmony default export */ __webpack_exports__["default"] = (Object(umi__WEBPACK_IMPORTED_MODULE_9__["connect"])(mapStateToProps, mapDispatchToProps)(LightSetter));

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/pages/RobotDisplay.tsx":
/*!*************************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/pages/RobotDisplay.tsx ***!
  \*************************************************************************************/
/*! exports provided: RobotDisplay, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RobotDisplay", function() { return RobotDisplay; });
/* harmony import */ var antd_es_image_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/es/image/style */ "./node_modules/antd/es/image/style/index.js");
/* harmony import */ var antd_es_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/es/image */ "./node_modules/antd/es/image/index.js");
/* harmony import */ var antd_es_space_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd/es/space/style */ "./node_modules/antd/es/space/style/index.js");
/* harmony import */ var antd_es_space__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd/es/space */ "./node_modules/antd/es/space/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var antd_es_typography_style__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! antd/es/typography/style */ "./node_modules/antd/es/typography/style/index.js");
/* harmony import */ var antd_es_typography__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! antd/es/typography */ "./node_modules/antd/es/typography/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! umi */ "./node_modules/umi/dist/index.esm.js");
/* harmony import */ var _index_less_modules__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../index.less?modules */ "./src/pages/BigScreen/components/ThreeScene/index.less?modules");
/* harmony import */ var _index_less_modules__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_index_less_modules__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../models/threeModels/index */ "./src/pages/BigScreen/models/threeModels/index.ts");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__);








var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/components/ThreeScene/components/pages/RobotDisplay.tsx",
    _this = undefined;






var Title = antd_es_typography__WEBPACK_IMPORTED_MODULE_6__["default"].Title,
    Paragraph = antd_es_typography__WEBPACK_IMPORTED_MODULE_6__["default"].Paragraph; // let baseUrl = 'bigScreen/robot/bigRobot/'

var baseUrl = 'https://cti-radiance-assets.oss-cn-shenzhen.aliyuncs.com/model_data/';

if (true) {
  baseUrl = '/oss/screen/model_data/';
}

var typeList = [{
  label: '新品上市',
  value: 'NEWPRODUCTION',
  robotList: ['sunCleaning', 'hiveVacuum']
}, {
  label: '智慧楼宇',
  value: 'BUILDING',
  robotList: ['hiveDelivery6', 'candleLight', 'sunLight']
}, {
  label: '智慧医院',
  value: 'HOSPITAL',
  robotList: ['hiveSterilization', 'candleLight', 'sunLight']
}, {
  label: '智慧环卫',
  value: 'SANITATION',
  robotList: ['sunCleaning', 'hiveVacuum']
}];
var RobotDisplay = function RobotDisplay(props) {
  var bigRobotItem = props.bigRobotItem,
      camera = props.camera,
      controls = props.controls;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])(),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__["default"])(_useState, 2),
      currentType = _useState2[0],
      setCurrentType = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])([1]),
      _useState4 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__["default"])(_useState3, 2),
      robotList = _useState4[0],
      setRobotList = _useState4[1];

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])(),
      _useState6 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__["default"])(_useState5, 2),
      currentRobotItem = _useState6[0],
      setCurrentRobotItem = _useState6[1];

  var robotItemRef = Object(react__WEBPACK_IMPORTED_MODULE_7__["useRef"])();
  Object(react__WEBPACK_IMPORTED_MODULE_7__["useEffect"])(function () {
    if (bigRobotItem) {
      showCurrentRobots(bigRobotItem.value);
    }
  }, [bigRobotItem]);
  Object(react__WEBPACK_IMPORTED_MODULE_7__["useEffect"])(function () {
    return function () {
      var currentRobotItem = robotItemRef.current;

      if (currentRobotItem) {
        if (currentRobotItem !== null && currentRobotItem !== void 0 && currentRobotItem.object) {
          currentRobotItem.setVisible(false);
        } else {
          currentRobotItem.visible = false;
        }

        currentRobotItem.spriteVisible(false);
      }
    };
  }, []);
  Object(react__WEBPACK_IMPORTED_MODULE_7__["useEffect"])(function () {
    if (currentRobotItem) {
      robotItemRef.current = currentRobotItem;
    }
  }, [currentRobotItem]);

  function showCurrentRobots(type) {
    var list = [];
    setCurrentType(type);
    var item = typeList.find(function (i) {
      return i.value === type;
    });

    if (item) {
      var _loop = function _loop(i) {
        var robot = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["BigRobot"].bigRobots.find(function (object) {
          return (item === null || item === void 0 ? void 0 : item.robotList[i]) === object.series;
        });
        list.push(robot);
      };

      for (var i = 0; i < item.robotList.length; i += 1) {
        _loop(i);
      }

      changeRobotItem(list[0]);
    } // getRobotItem(list)


    setRobotList(list);
  }

  function changeRobotItem(item) {
    camera.position.set(28, 5, 0);
    controls.target.set(0, 0, 0);
    var robot = _models_threeModels_index__WEBPACK_IMPORTED_MODULE_10__["BigRobot"].bigRobots.find(function (i) {
      return i.series === item.series;
    });

    if (currentRobotItem) {
      if (currentRobotItem.object) {
        currentRobotItem.setVisible(false);
      } else {
        currentRobotItem.visible = false;
      }

      currentRobotItem.spriteVisible(false);
    } // console.log(robot)


    if (robot) {
      if (robot.object) {
        setCurrentRobotItem(robot);
        robot.setVisible(true);
      } else {
        robot.visible = true;
        setCurrentRobotItem(robot);
      }

      if (robot.sprites) {
        robot.spriteVisible(true);
      }
    }
  }

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])("div", {
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_space__WEBPACK_IMPORTED_MODULE_3__["default"], {
      className: _index_less_modules__WEBPACK_IMPORTED_MODULE_9___default.a['robotdisplay-typebut-cont'],
      children: typeList.map(function (item, index) {
        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])("div", {
          onClick: function onClick() {
            return showCurrentRobots(item.value);
          },
          style: {
            transform: 'skewX(-15deg)',
            cursor: 'pointer',
            color: 'white',
            margin: '0 1px',
            padding: '4px 10px',
            background: currentType === item.value ? 'rgb(13, 230, 186, 0.1)' : 'rgba(255, 255, 255, .3)'
          },
          className: "f18",
          children: item.label
        }, index, false, {
          fileName: _jsxFileName,
          lineNumber: 123,
          columnNumber: 11
        }, _this);
      })
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 121,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])("div", {
      className: _index_less_modules__WEBPACK_IMPORTED_MODULE_9___default.a['robotDisplay-intro-cont'],
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_typography__WEBPACK_IMPORTED_MODULE_6__["default"], {
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(Title, {
          level: 3,
          children: currentRobotItem === null || currentRobotItem === void 0 ? void 0 : currentRobotItem.name
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 143,
          columnNumber: 11
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(Paragraph, {
          style: {
            fontSize: '12px',
            marginTop: '12px'
          },
          children: currentRobotItem === null || currentRobotItem === void 0 ? void 0 : currentRobotItem.introdution
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 145,
          columnNumber: 11
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 142,
        columnNumber: 9
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 141,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_space__WEBPACK_IMPORTED_MODULE_3__["default"], {
      className: _index_less_modules__WEBPACK_IMPORTED_MODULE_9___default.a['robotdisplay-img-cont'],
      children: robotList.map(function (robot, index) {
        return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])("div", {
          style: {
            height: 'auto',
            width: 'auto'
          },
          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_11__["jsxDEV"])(antd_es_image__WEBPACK_IMPORTED_MODULE_1__["default"], {
            src: baseUrl + robot.imageUrl,
            preview: false,
            onClick: function onClick() {
              return changeRobotItem(robot);
            },
            className: (currentRobotItem === null || currentRobotItem === void 0 ? void 0 : currentRobotItem.series) === robot.series ? 'robot-img-border' : ''
          }, index, false, {
            fileName: _jsxFileName,
            lineNumber: 158,
            columnNumber: 15
          }, _this)
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 153,
          columnNumber: 13
        }, _this);
      })
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 150,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 120,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps() {
  return {};
};

var mapDispatchToProps = {};
/* harmony default export */ __webpack_exports__["default"] = (Object(umi__WEBPACK_IMPORTED_MODULE_8__["connect"])(mapStateToProps, mapDispatchToProps)(RobotDisplay));

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/pages/RobotInfoWindow.tsx":
/*!****************************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/pages/RobotInfoWindow.tsx ***!
  \****************************************************************************************/
/*! exports provided: RobotInfoWindow, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RobotInfoWindow", function() { return RobotInfoWindow; });
/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! umi */ "./node_modules/umi/dist/index.esm.js");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../index.module.less */ "./src/pages/BigScreen/index.module.less");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_index_module_less__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__);
var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/components/ThreeScene/components/pages/RobotInfoWindow.tsx",
    _this = undefined;




var RobotInfoWindow = function RobotInfoWindow(props) {
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__["jsxDEV"])("canvas", {
    id: "robotInfo-window",
    className: "robotInfo-cont"
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 6,
    columnNumber: 10
  }, _this);
};

var mapStateToProps = function mapStateToProps() {
  return {};
};

var mapDispatchToProps = {};
/* harmony default export */ __webpack_exports__["default"] = (Object(umi__WEBPACK_IMPORTED_MODULE_0__["connect"])(mapStateToProps, mapDispatchToProps)(RobotInfoWindow));

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/components/tools/painter.ts":
/*!*******************************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/components/tools/painter.ts ***!
  \*******************************************************************************/
/*! exports provided: showrobotInfoWindow, clearrobotInfoWindow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "showrobotInfoWindow", function() { return showrobotInfoWindow; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "clearrobotInfoWindow", function() { return clearrobotInfoWindow; });
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/constants */ "./src/constants/index.ts");

function showrobotInfoWindow(item) {
  clearrobotInfoWindow();
  var canvas = document.getElementById('robotInfo-window');
  var ctx = canvas.getContext('2d');
  canvas.width = 160;
  canvas.height = 160;

  if (ctx) {
    drawBorder(ctx);
    drawMessage(ctx, item);
  }
}

function drawMessage(ctx, item) {
  var titleSize = 14;
  var fontSize = 12;
  var paddingLeft = 8;
  var paddingTop = 10;
  var verticalSpacing = 7;
  var battery = item.battery,
      navigationState = item.navigationState,
      cellular = item.cellular,
      speed = item.speed,
      jackRaised = item.jackRaised,
      clutchDisengaged = item.clutchDisengaged,
      emergencyStopEngaged = item.emergencyStopEngaged;
  ctx.font = 'Bold ' + titleSize + 'px Arial';
  ctx.fillStyle = '#ffffff';
  ctx.fillText(item.name, paddingLeft, paddingTop + titleSize);
  ctx.font = fontSize + 'px Arial';
  ctx.fillText('导航', paddingLeft, 38 + fontSize);
  ctx.fillText('电量', paddingLeft, 62 + fontSize);
  ctx.fillText('信号', paddingLeft, 85 + fontSize);
  ctx.fillText('移速', paddingLeft, 108 + fontSize);
  ctx.fillText('RFID', paddingLeft, 131 + fontSize);
  ctx.fillText('负载', 99, 62 + fontSize);
  ctx.fillText('顶升', 99, 85 + fontSize);
  ctx.fillText('离合', 99, 108 + fontSize);
  ctx.fillText('急停', 99, 131 + fontSize);
  ctx.fillStyle = '#FFB000';
  ctx.fillText(_constants__WEBPACK_IMPORTED_MODULE_0__["NavigationStateStr"][navigationState] || '-', 42, 38 + fontSize);
  ctx.fillStyle = '#00C199';
  ctx.fillText((battery === null || battery === void 0 ? void 0 : battery.percentage) || '-', 42, 62 + fontSize);
  ctx.fillText((cellular === null || cellular === void 0 ? void 0 : cellular.signal) || '-', 42, 85 + fontSize);
  ctx.fillText(speed ? speed : '-', 42, 108 + fontSize);
  ctx.fillText(0, 42, 131 + fontSize);
  ctx.fillText(0, 132, 62 + fontSize);
  ctx.fillText(jackRaised ? '升' : '降', 132, 85 + fontSize);
  ctx.fillText(clutchDisengaged ? '开' : '关', 132, 108 + fontSize);
  ctx.fillText(emergencyStopEngaged ? '开' : '关', 132, 131 + fontSize);
}

function drawBorder(ctx) {
  ctx.fillStyle = 'rgba(0, 0, 0, 0.42)';
  ctx.fillRect(0, 0, 160, 160);
  ctx.lineWidth = 4;
  ctx.strokeStyle = '#ffffff';
  ctx.beginPath();
  ctx.moveTo(0, 8);
  ctx.lineTo(0, 0);
  ctx.lineTo(8, 0); // ctx.closePath()

  ctx.stroke();
  ctx.beginPath();
  ctx.moveTo(154, 0);
  ctx.lineTo(160, 0);
  ctx.lineTo(160, 8);
  ctx.stroke();
  ctx.beginPath();
  ctx.moveTo(0, 154);
  ctx.lineTo(0, 160);
  ctx.lineTo(8, 160);
  ctx.stroke();
  ctx.beginPath();
  ctx.moveTo(160, 154);
  ctx.lineTo(160, 160);
  ctx.lineTo(154, 160);
  ctx.stroke();
}

function clearrobotInfoWindow() {
  var canvas = document.getElementById('robotInfo-window');

  if (canvas) {
    var ctx = canvas.getContext('2d');
    canvas.width = 0;
    canvas.height = 0;
    ctx === null || ctx === void 0 ? void 0 : ctx.clearRect(0, 0, 160, 160);
  }
}

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/index.less?modules":
/*!**********************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/index.less?modules ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"big-3dScene":"big-3dScene___1ubrl","scene-but":"scene-but___2eEJS","ls-cont":"ls-cont___309ff","robotdisplay-typebut-cont":"robotdisplay-typebut-cont___1iQtW","robotdisplay-switch-cont":"robotdisplay-switch-cont___3vjVO","robotdisplay-switch-maptype":"robotdisplay-switch-maptype___3wpH5","robotdisplay-img-cont":"robotdisplay-img-cont___2KVV1","robot-img-border":"robot-img-border___rcEz8","robotDisplay-intro-cont":"robotDisplay-intro-cont___2KuZR","control-cont":"control-cont___3HuUn","robotinfo":"robotinfo___13tMN","control-btu":"control-btu___1bSkj","close-btu":"close-btu___3D9p5","command-list":"command-list___3bpjN"};
    if(true) {
      // 1624783248830
      var cssReload = __webpack_require__(/*! ./node_modules/@umijs/bundler-webpack/lib/webpack/plugins/mini-css-extract-plugin/src/hmr/hotModuleReplacement.js */ "./node_modules/@umijs/bundler-webpack/lib/webpack/plugins/mini-css-extract-plugin/src/hmr/hotModuleReplacement.js")(module.i, {"publicPath":"./","hmr":true,"locals":true});
      module.hot.dispose(cssReload);
      
    }
  

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/index.tsx":
/*!*************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/index.tsx ***!
  \*************************************************************/
/*! exports provided: ThreeDimensional, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThreeDimensional", function() { return ThreeDimensional; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! umi */ "./node_modules/umi/dist/index.esm.js");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../index */ "./src/pages/BigScreen/components/index.ts");
/* harmony import */ var _models_threeModels_BigRobot__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../models/threeModels/BigRobot */ "./src/pages/BigScreen/models/threeModels/BigRobot.ts");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__);
var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/components/ThreeScene/index.tsx",
    _this = undefined;






var ThreeDimensional = function ThreeDimensional(props) {
  var currentHub = props.currentHub;
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    return function () {
      disposeScene();
    };
  }, []);

  function disposeScene() {
    _models_threeModels_BigRobot__WEBPACK_IMPORTED_MODULE_3__["BigRobot"].disposeRobots();
  }

  var loadThreeScreen = function loadThreeScreen() {
    //    console.log(currentHub)
    var accessList = ['ad0aece3-6520-4b2e-b038-4a5b0ddcb57c', 'e90d7310-959c-4948-bf09-c67e93600848', 'cefbcf55-f582-4609-8803-dc4b4f6b3607'];
    if (currentHub.id === 'ad0aece3-6520-4b2e-b038-4a5b0ddcb57c') return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])(_index__WEBPACK_IMPORTED_MODULE_2__["XuzhouThreeScene"], {}, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 24,
      columnNumber: 74
    }, _this);

    if (accessList.includes(currentHub.id)) {
      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])(_index__WEBPACK_IMPORTED_MODULE_2__["ThreeScene"], {}, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 26,
        columnNumber: 14
      }, _this);
    }

    return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])(_index__WEBPACK_IMPORTED_MODULE_2__["GDscreen"], {}, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 28,
      columnNumber: 12
    }, _this);
  };

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__["jsxDEV"])("div", {
    style: {
      position: 'relative'
    },
    children: loadThreeScreen()
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 30,
    columnNumber: 10
  }, _this);
};

var mapStateToProps = function mapStateToProps(_ref) {
  var sceneSetter = _ref.sceneSetter,
      mqtt = _ref.mqtt,
      user = _ref.user,
      screen = _ref.screen;
  return {
    renderer: sceneSetter.renderer,
    camera: sceneSetter.camera,
    controls: sceneSetter.controls,
    scenes: sceneSetter.scenes,
    composer: sceneSetter.composer,
    socket: mqtt.socket,
    currentHub: user.currentHub,
    menuKey: screen.menuKey,
    menuCount: screen.menuCount
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    initSceneSetter: function initSceneSetter() {
      dispatch({
        type: 'sceneSetter/initSceneSetter'
      });
    },
    clearState: function clearState() {
      dispatch({
        type: 'sceneSetter/clearState'
      });
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(umi__WEBPACK_IMPORTED_MODULE_1__["connect"])(mapStateToProps, mapDispatchToProps)(ThreeDimensional));

/***/ }),

/***/ "./src/pages/BigScreen/components/ThreeScene/xuzhou.tsx":
/*!**************************************************************!*\
  !*** ./src/pages/BigScreen/components/ThreeScene/xuzhou.tsx ***!
  \**************************************************************/
/*! exports provided: ThreeScene, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThreeScene", function() { return ThreeScene; });
/* harmony import */ var antd_es_button_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/es/button/style */ "./node_modules/antd/es/button/style/index.js");
/* harmony import */ var antd_es_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/es/button */ "./node_modules/antd/es/button/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! umi */ "./node_modules/umi/dist/index.esm.js");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
/* harmony import */ var _components_index__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/index */ "./src/pages/BigScreen/components/ThreeScene/components/index.ts");
/* harmony import */ var three_examples_jsm_libs_stats_module_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! three/examples/jsm/libs/stats.module.js */ "./node_modules/three/examples/jsm/libs/stats.module.js");
/* harmony import */ var _models_threeModels_index__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../models/threeModels/index */ "./src/pages/BigScreen/models/threeModels/index.ts");
/* harmony import */ var _utils_eventBus__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/utils/eventBus */ "./src/utils/eventBus.ts");
/* harmony import */ var _index_less_modules__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./index.less?modules */ "./src/pages/BigScreen/components/ThreeScene/index.less?modules");
/* harmony import */ var _index_less_modules__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_index_less_modules__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _models_screen__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../models/screen */ "./src/pages/BigScreen/models/screen.ts");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__);




var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/components/ThreeScene/xuzhou.tsx",
    _this = undefined;











var prototypes = {};
var raf;
var stats;
var sceneNow;
var move = {};
var scenes = [{
  name: 'IndoorArea',
  fn: _components_index__WEBPACK_IMPORTED_MODULE_6__["loadXuzhouInside"],
  scene: null,
  objects: [],
  updates: []
}, {
  name: 'RobotExhibit',
  fn: _components_index__WEBPACK_IMPORTED_MODULE_6__["loadBigRobot"],
  scene: null,
  objects: [],
  updates: []
}];
var mouse = new three__WEBPACK_IMPORTED_MODULE_5__["Vector2"](2, 2);
var raycaster = new three__WEBPACK_IMPORTED_MODULE_5__["Raycaster"]();
var raycasterClick = new three__WEBPACK_IMPORTED_MODULE_5__["Raycaster"]();
var robots = {};
var rendererNow;
var ThreeScene = function ThreeScene(props) {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState, 2),
      sceneName = _useState2[0],
      setSceneName = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(true),
      _useState4 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState3, 2),
      autoRotate = _useState4[0],
      setAutoRotate = _useState4[1];

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(),
      _useState6 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState5, 2),
      refresh = _useState6[0],
      setRefresh = _useState6[1];

  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(),
      _useState8 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState7, 2),
      bigRobotItem = _useState8[0],
      setBigRobotItem = _useState8[1];

  var _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
      _useState10 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState9, 2),
      prototypesDone = _useState10[0],
      setPrototypesDone = _useState10[1];

  var _useState11 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
      _useState12 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["default"])(_useState11, 2),
      showScene = _useState12[0],
      setShowScene = _useState12[1];

  var sceneNameRef = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])();
  var clock = new three__WEBPACK_IMPORTED_MODULE_5__["Clock"]();
  var renderer = props.renderer,
      camera = props.camera,
      initSceneSetter = props.initSceneSetter,
      socket = props.socket,
      clearState = props.clearState,
      composer = props.composer,
      currentHub = props.currentHub,
      menuKey = props.menuKey,
      menuCount = props.menuCount,
      controls = props.controls;
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if ({"UMI_ENV":"prod","REACT_APP_LOCAL_HOST":"http://localhost:8088","REACT_APP_ENV":"development","REACT_APP_NAME":"开发环境（生产api）","REACT_APP_HOST":"http://localhost:8088","REACT_APP_API":"https://api.ctirobot.com","REACT_APP_TOKEN":"Basic UFlpWGJtOWRpTUp5YnJoTjptamtCQWFwdGs5UE1qaXlw"}.UMI_ENV === 'deploy') {
      initSceneSetter();
      Object(_components_index__WEBPACK_IMPORTED_MODULE_6__["GetMachineObject"])({
        setMachineObjects: setMachineObjects
      });
    }

    _utils_eventBus__WEBPACK_IMPORTED_MODULE_9__["default"].on('bigRobotShow', function (data) {
      setBigRobotItem(data); //  setDisplayWindow(true)
    });
    return function () {
      if (rendererNow) {//      unmount()
      }
    };
  }, []);

  var getObjects = function getObjects(value, name) {
    var item = scenes.find(function (i) {
      return i.name === name;
    });
    item.objects.push(value);
  };

  function initScene() {
    for (var i = 0; i < scenes.length - 1; i += 1) {
      var item = scenes[i];
      var scene = new three__WEBPACK_IMPORTED_MODULE_5__["Scene"]();
      scene.background = new three__WEBPACK_IMPORTED_MODULE_5__["Color"](0x272727);
      item.fn({
        renderer: renderer,
        camera: camera,
        controls: controls,
        scene: scene,
        composer: composer,
        currentHub: currentHub,
        reLoad: reflashWindow,
        addObjects: getObjects,
        addUpdates: addUpdateFun
      });
      item.scene = scene;
    }

    setToScene('IndoorArea'); //    listenVisible()
  }

  function reflashWindow(value) {
    if (value === 'loadInside') {
      setRefresh(true);
    }
  }

  function addUpdateFun(callback, sceneName) {
    var item = scenes.find(function (i) {
      return i.name === sceneName;
    });
    item.updates.push(callback);
  }

  function cameraControl(sceneName) {
    switch (sceneName) {
      case 'IndoorArea':
        controls.enablePan = true;
        controls.autoRotateSpeed = 1;
        controls.autoRotate = true;

        if (currentHub.id === 'e90d7310-959c-4948-bf09-c67e93600848') {
          camera.position.set(200, 1400, 3100);
        } else {
          camera.position.set(600, 1700, 2600);
        }

        controls.target.set(0, 250, 0);
        controls.maxDistance = Infinity;
        break;

      case 'RobotExhibit':
        camera.fov = 45;
        controls.enablePan = false;
        controls.autoRotateSpeed = 2;
        camera.position.set(30, 4, 0);
        controls.target.set(0, 0, 0);
        controls.maxDistance = 200;
        break;

      default:
        null;
    }
  }

  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    controls.autoRotate = autoRotate;
  }, [autoRotate]);

  function setAnimation(sceneName, action) {
    Object(_components_index__WEBPACK_IMPORTED_MODULE_6__["animationControl"])({
      sceneName: sceneName,
      socket: socket,
      sceneNow: sceneNow,
      robots: robots,
      prototypes: prototypes,
      currentHub: currentHub,
      action: action
    });
  }

  function clear(sceneName) {
    robots = {};
    setAnimation(sceneName, 'clear'); // unlistenSockets('leave')

    if (sceneName === 'IndoorArea') {
      _models_threeModels_index__WEBPACK_IMPORTED_MODULE_8__["Floor"].traverse(function (floor) {
        floor.clearMachines();
      });
    }
  }

  function setToScene(value) {
    var item = scenes.find(function (i) {
      return i.name === value;
    });

    if (value !== sceneName) {
      sceneNow = item.scene;
      setSceneName(item.name);
      cameraControl(item.name);

      if (item.name === 'IndoorArea') {
        setAnimation(value, 'set');
        setBigRobotItem(undefined);
      } else if (value === 'RobotExhibit') {
        clear(sceneName); //   setAnimation(value, 'clear')
      }
    }
  }

  var init = function init() {
    initScene();
    stats = Object(three_examples_jsm_libs_stats_module_js__WEBPACK_IMPORTED_MODULE_7__["default"])();

    if (true) {
      var _document$getElementB;

      (_document$getElementB = document.getElementById('big-3dScene')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.appendChild(stats.domElement);
    }
  };

  var setScreen = function setScreen() {
    if (renderer) {
      var _document$getElementB2;

      (_document$getElementB2 = document.getElementById('big-3dScene')) === null || _document$getElementB2 === void 0 ? void 0 : _document$getElementB2.appendChild(renderer.domElement); //     window.addEventListener('pointermove', throttle(onmousemove, 100))
      // document.getElementById('big-3dScene')?.addEventListener('pointerup', onPointerUp)

      window.addEventListener('resize', onWindowResize); //    setRender()

      animate();
    }
  };

  function animate() {
    raf = requestAnimationFrame(animate);
    controls.update(); // only required if controls.enableDamping = true, or if controls.autoRotate = true

    raycaster.setFromCamera(mouse, camera);
    raycasterClick.setFromCamera(mouse, camera);
     true && stats.update();
    renderer.render(sceneNow, camera);
    var delta = clock.getDelta();

    for (var item in robots) {
      if (robots[item].mixer) {
        robots[item].mixer.update(delta);
      }
    }

    var sceneItem = scenes.find(function (i) {
      return i.name === sceneNameRef.current;
    });

    if (sceneItem) {
      sceneItem.updates.forEach(function (fn) {
        fn();
      });
    }
  }

  function onWindowResize() {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
    composer.setSize(window.innerWidth, window.innerHeight);
  }

  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if (bigRobotItem) {
      setToScene('RobotExhibit'); //   setBigRobotItem(undefined)
    }
  }, [bigRobotItem]);
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if (renderer) {
      rendererNow = renderer;
      init();
      setScreen();
    }
  }, [renderer]);

  var activateScreen = function activateScreen() {
    setShowScene(true);
    initSceneSetter();
    Object(_components_index__WEBPACK_IMPORTED_MODULE_6__["GetMachineObject"])({
      setMachineObjects: setMachineObjects
    });
  };

  function setMachineObjects(datas) {
    datas.forEach(function (data) {
      prototypes[data.name] = data;
    });
    setPrototypesDone(true); //
    //  checkObject(sceneNameRef.current)
  }

  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    sceneNameRef.current = sceneName;
  }, [sceneName]);
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if (prototypesDone) {
      setAnimation(sceneNameRef.current, 'set');
    }
  }, [prototypesDone]);

  var backToHome = function backToHome() {
    if (sceneName === 'IndoorArea') {
      cameraControl('IndoorArea');
    } else {
      setToScene('IndoorArea');
    }
  };

  var handleAutoRotate = function handleAutoRotate() {
    setAutoRotate(!autoRotate);
  };

  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if (menuKey === _models_screen__WEBPACK_IMPORTED_MODULE_11__["ScreenMenuKeyEnum"].autoRotate) {
      handleAutoRotate();
    }

    if (menuKey === _models_screen__WEBPACK_IMPORTED_MODULE_11__["ScreenMenuKeyEnum"].backHome) {
      backToHome();
    } // eslint-disable-next-line react-hooks/exhaustive-deps

  }, [menuKey, menuCount]);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__["jsxDEV"])("div", {
    style: {
      position: 'relative'
    },
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__["jsxDEV"])("div", {
      className: _index_less_modules__WEBPACK_IMPORTED_MODULE_10___default.a['big-3dScene'],
      id: "big-3dScene"
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 314,
      columnNumber: 7
    }, _this), !showScene && {"UMI_ENV":"prod","REACT_APP_LOCAL_HOST":"http://localhost:8088","REACT_APP_ENV":"development","REACT_APP_NAME":"开发环境（生产api）","REACT_APP_HOST":"http://localhost:8088","REACT_APP_API":"https://api.ctirobot.com","REACT_APP_TOKEN":"Basic UFlpWGJtOWRpTUp5YnJoTjptamtCQWFwdGs5UE1qaXlw"}.UMI_ENV !== 'deploy' ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__["jsxDEV"])("div", {
      className: _index_less_modules__WEBPACK_IMPORTED_MODULE_10___default.a['scene-but'],
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__["jsxDEV"])(antd_es_button__WEBPACK_IMPORTED_MODULE_1__["default"], {
        onClick: activateScreen,
        children: "\u5F00\u542F3d\u5730\u56FE\u754C\u9762"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 317,
        columnNumber: 11
      }, _this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 316,
      columnNumber: 9
    }, _this) : null, sceneName === 'RobotExhibit' ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__["jsxDEV"])(_components_index__WEBPACK_IMPORTED_MODULE_6__["RobotDisplay"], {
      bigRobotItem: bigRobotItem,
      camera: camera,
      controls: controls
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 321,
      columnNumber: 9
    }, _this) : null, sceneName === 'IndoorArea' ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_12__["jsxDEV"])(_components_index__WEBPACK_IMPORTED_MODULE_6__["BlockDisplay"], {
      currentHub: currentHub,
      refresh: refresh
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 324,
      columnNumber: 9
    }, _this) : null]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 313,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps(_ref) {
  var sceneSetter = _ref.sceneSetter,
      mqtt = _ref.mqtt,
      user = _ref.user,
      screen = _ref.screen;
  return {
    renderer: sceneSetter.renderer,
    camera: sceneSetter.camera,
    controls: sceneSetter.controls,
    scenes: sceneSetter.scenes,
    composer: sceneSetter.composer,
    socket: mqtt.socket,
    currentHub: user.currentHub,
    menuKey: screen.menuKey,
    menuCount: screen.menuCount
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    initSceneSetter: function initSceneSetter() {
      dispatch({
        type: 'sceneSetter/initSceneSetter'
      });
    },
    clearState: function clearState() {
      dispatch({
        type: 'sceneSetter/clearState'
      });
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(umi__WEBPACK_IMPORTED_MODULE_4__["connect"])(mapStateToProps, mapDispatchToProps)(ThreeScene));

/***/ }),

/***/ "./src/pages/BigScreen/components/index.ts":
/*!*************************************************!*\
  !*** ./src/pages/BigScreen/components/index.ts ***!
  \*************************************************/
/*! exports provided: ThreeDimensional, ThreeScene, RobotInfo, HubSelect, XuzhouThreeScene, GDscreen */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ThreeScene_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ThreeScene/index */ "./src/pages/BigScreen/components/ThreeScene/index.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ThreeDimensional", function() { return _ThreeScene_index__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _ThreeScene_ThreeScene__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ThreeScene/ThreeScene */ "./src/pages/BigScreen/components/ThreeScene/ThreeScene.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ThreeScene", function() { return _ThreeScene_ThreeScene__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _ThreeScene_components_pages_RobotInfoWindow__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ThreeScene/components/pages/RobotInfoWindow */ "./src/pages/BigScreen/components/ThreeScene/components/pages/RobotInfoWindow.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RobotInfo", function() { return _ThreeScene_components_pages_RobotInfoWindow__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var _HubSelect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./HubSelect */ "./src/pages/BigScreen/components/HubSelect/index.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "HubSelect", function() { return _HubSelect__WEBPACK_IMPORTED_MODULE_3__["default"]; });

/* harmony import */ var _ThreeScene_xuzhou__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ThreeScene/xuzhou */ "./src/pages/BigScreen/components/ThreeScene/xuzhou.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "XuzhouThreeScene", function() { return _ThreeScene_xuzhou__WEBPACK_IMPORTED_MODULE_4__["default"]; });

/* harmony import */ var _ThreeScene_GDscreen__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ThreeScene/GDscreen */ "./src/pages/BigScreen/components/ThreeScene/GDscreen.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GDscreen", function() { return _ThreeScene_GDscreen__WEBPACK_IMPORTED_MODULE_5__["default"]; });








/***/ }),

/***/ "./src/pages/BigScreen/config/weatherConfig.ts":
/*!*****************************************************!*\
  !*** ./src/pages/BigScreen/config/weatherConfig.ts ***!
  \*****************************************************/
/*! exports provided: WeatherTypeEnum, WeatherInfoEnum, WeatherType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WeatherTypeEnum", function() { return WeatherTypeEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WeatherInfoEnum", function() { return WeatherInfoEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WeatherType", function() { return WeatherType; });
var WeatherTypeEnum;

(function (WeatherTypeEnum) {
  WeatherTypeEnum[WeatherTypeEnum["\u6674"] = 0] = "\u6674";
  WeatherTypeEnum[WeatherTypeEnum["\u591A\u4E91"] = 1] = "\u591A\u4E91";
  WeatherTypeEnum[WeatherTypeEnum["\u9634"] = 2] = "\u9634";
  WeatherTypeEnum[WeatherTypeEnum["\u5C0F\u96E8"] = 3] = "\u5C0F\u96E8";
  WeatherTypeEnum[WeatherTypeEnum["\u4E2D\u96E8"] = 4] = "\u4E2D\u96E8";
  WeatherTypeEnum[WeatherTypeEnum["\u5927\u96E8"] = 5] = "\u5927\u96E8";
  WeatherTypeEnum[WeatherTypeEnum["\u96F7\u9635\u96E8"] = 6] = "\u96F7\u9635\u96E8";
  WeatherTypeEnum[WeatherTypeEnum["\u98CE"] = 7] = "\u98CE";
  WeatherTypeEnum[WeatherTypeEnum["\u5C0F\u96EA"] = 8] = "\u5C0F\u96EA";
  WeatherTypeEnum[WeatherTypeEnum["\u4E2D\u96EA"] = 9] = "\u4E2D\u96EA";
  WeatherTypeEnum[WeatherTypeEnum["\u5927\u96EA"] = 10] = "\u5927\u96EA";
  WeatherTypeEnum[WeatherTypeEnum["\u96E8\u5939\u96EA"] = 11] = "\u96E8\u5939\u96EA";
  WeatherTypeEnum[WeatherTypeEnum["\u51B0\u96F9"] = 12] = "\u51B0\u96F9";
  WeatherTypeEnum[WeatherTypeEnum["\u6C99\u5C18\u66B4"] = 13] = "\u6C99\u5C18\u66B4";
  WeatherTypeEnum[WeatherTypeEnum["\u96FE"] = 14] = "\u96FE";
  WeatherTypeEnum[WeatherTypeEnum["\u973E"] = 15] = "\u973E";
  WeatherTypeEnum[WeatherTypeEnum["\u70ED"] = 16] = "\u70ED";
  WeatherTypeEnum[WeatherTypeEnum["\u51B7"] = 17] = "\u51B7";
  WeatherTypeEnum[WeatherTypeEnum["\u672A\u77E5"] = 18] = "\u672A\u77E5";
})(WeatherTypeEnum || (WeatherTypeEnum = {}));

var WeatherInfoEnum;

(function (WeatherInfoEnum) {
  WeatherInfoEnum["adcode"] = "adcode";
  WeatherInfoEnum["humidity"] = "humidity";
  WeatherInfoEnum["province"] = "province";
  WeatherInfoEnum["city"] = "city";
  WeatherInfoEnum["reporttime"] = "reporttime";
  WeatherInfoEnum["temperature"] = "temperature";
  WeatherInfoEnum["weather"] = "weather";
  WeatherInfoEnum["winddirection"] = "winddirection";
  WeatherInfoEnum["windpower"] = "windpower";
})(WeatherInfoEnum || (WeatherInfoEnum = {}));

var WeatherType = {
  晴: WeatherTypeEnum.晴,
  少云: WeatherTypeEnum.多云,
  晴间多云: WeatherTypeEnum.多云,
  多云: WeatherTypeEnum.多云,
  阴: WeatherTypeEnum.阴,
  有风: WeatherTypeEnum.风,
  平静: WeatherTypeEnum.风,
  微风: WeatherTypeEnum.风,
  和风: WeatherTypeEnum.风,
  清风: WeatherTypeEnum.风,
  '强风/劲风': WeatherTypeEnum.风,
  疾风: WeatherTypeEnum.风,
  大风: WeatherTypeEnum.风,
  烈风: WeatherTypeEnum.风,
  风暴: WeatherTypeEnum.风,
  狂爆风: WeatherTypeEnum.风,
  飓风: WeatherTypeEnum.风,
  热带风暴: WeatherTypeEnum.风,
  霾: WeatherTypeEnum.霾,
  中度霾: WeatherTypeEnum.霾,
  重度霾: WeatherTypeEnum.霾,
  严重霾: WeatherTypeEnum.霾,
  阵雨: WeatherTypeEnum.中雨,
  雷阵雨: WeatherTypeEnum.雷阵雨,
  雷阵雨并伴有冰雹: WeatherTypeEnum.冰雹,
  小雨: WeatherTypeEnum.小雨,
  中雨: WeatherTypeEnum.中雨,
  大雨: WeatherTypeEnum.大雨,
  暴雨: WeatherTypeEnum.大雨,
  大暴雨: WeatherTypeEnum.大雨,
  特大暴雨: WeatherTypeEnum.大雨,
  强阵雨: WeatherTypeEnum.大雨,
  强雷阵雨: WeatherTypeEnum.大雨,
  极端降雨: WeatherTypeEnum.大雨,
  '毛毛雨/细雨': WeatherTypeEnum.小雨,
  雨: WeatherTypeEnum.小雨,
  '小雨-中雨': WeatherTypeEnum.小雨,
  '中雨-大雨': WeatherTypeEnum.中雨,
  '大雨-暴雨': WeatherTypeEnum.大雨,
  '暴雨-大暴雨': WeatherTypeEnum.大雨,
  '大暴雨-特大暴雨': WeatherTypeEnum.大雨,
  雨雪天气: WeatherTypeEnum.雨夹雪,
  雨夹雪: WeatherTypeEnum.雨夹雪,
  阵雨夹雪: WeatherTypeEnum.雨夹雪,
  冻雨: WeatherTypeEnum.大雨,
  雪: WeatherTypeEnum.小雪,
  阵雪: WeatherTypeEnum.中雪,
  小雪: WeatherTypeEnum.小雪,
  中雪: WeatherTypeEnum.中雪,
  大雪: WeatherTypeEnum.大雪,
  暴雪: WeatherTypeEnum.大雪,
  '小雪-中雪': WeatherTypeEnum.中雪,
  '中雪-大雪': WeatherTypeEnum.大雪,
  '大雪-暴雪': WeatherTypeEnum.大雪,
  浮尘: WeatherTypeEnum.沙尘暴,
  扬沙: WeatherTypeEnum.沙尘暴,
  沙尘暴: WeatherTypeEnum.沙尘暴,
  强沙尘暴: WeatherTypeEnum.沙尘暴,
  龙卷风: WeatherTypeEnum.风,
  雾: WeatherTypeEnum.雾,
  浓雾: WeatherTypeEnum.雾,
  强浓雾: WeatherTypeEnum.雾,
  轻雾: WeatherTypeEnum.雾,
  大雾: WeatherTypeEnum.雾,
  特强浓雾: WeatherTypeEnum.雾,
  热: WeatherTypeEnum.热,
  冷: WeatherTypeEnum.冷,
  未知: WeatherTypeEnum.未知
};

/***/ }),

/***/ "./src/pages/BigScreen/hooks/useWeather.ts":
/*!*************************************************!*\
  !*** ./src/pages/BigScreen/hooks/useWeather.ts ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return useWeather; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/config */ "./src/config/index.ts");
/* harmony import */ var _services_api_aurora_map_selector__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/services/api/aurora/map-selector */ "./src/services/api/aurora/map-selector.ts");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);







var defaultWeather = {
  /** 区域编码 */
  adcode: '440300',

  /** 空气湿度 */
  humidity: '',

  /** 省份 */
  province: '广东',

  /** 城市 */
  city: '深圳',

  /** 数据发布的时间 */
  reporttime: '',

  /** 实时气温，单位：摄氏度 */
  temperature: '',

  /** 天气现象（汉字描述） */
  weather: '',

  /** 风向描述 */
  winddirection: '东',

  /** 风力级别，单位：级 */
  windpower: '≤3'
};
function useWeather(hubId) {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_6__["useState"])(defaultWeather),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState, 2),
      weatherInfo = _useState2[0],
      setWeatherInfo = _useState2[1];

  var weatherUpdateTimer = Object(react__WEBPACK_IMPORTED_MODULE_6__["useRef"])();

  function getWeather(_x) {
    return _getWeather.apply(this, arguments);
  }

  function _getWeather() {
    _getWeather = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(hubid) {
      var _data$;

      var _yield$getMapHub, _yield$getMapHub$data, data, code, _yield$axios$get, weatherData, lives;

      return _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return Object(_services_api_aurora_map_selector__WEBPACK_IMPORTED_MODULE_4__["getMapHub"])({
                hubId: hubid !== null && hubid !== void 0 ? hubid : hubId
              });

            case 2:
              _yield$getMapHub = _context.sent;
              _yield$getMapHub$data = _yield$getMapHub.data;
              data = _yield$getMapHub$data === void 0 ? [] : _yield$getMapHub$data;
              // console.log('cityCode:', data[0]?.cityCode)
              code = (_data$ = data[0]) !== null && _data$ !== void 0 && _data$.cityCode ? data[0].cityCode : '440300';
              _context.next = 8;
              return axios__WEBPACK_IMPORTED_MODULE_5___default.a.get("".concat(_config__WEBPACK_IMPORTED_MODULE_3__["default"].aliWeatherApi, "?city=").concat(code, "&key=").concat(_config__WEBPACK_IMPORTED_MODULE_3__["default"].aliWeatherKey, "&extensions=base"));

            case 8:
              _yield$axios$get = _context.sent;
              weatherData = _yield$axios$get.data;
              lives = weatherData === null || weatherData === void 0 ? void 0 : weatherData.lives;

              if (lives && lives.length) {
                setWeatherInfo(lives[0]);
              }

            case 12:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));
    return _getWeather.apply(this, arguments);
  }

  Object(react__WEBPACK_IMPORTED_MODULE_6__["useEffect"])(function () {
    // 三小时更新一次天气信息
    weatherUpdateTimer.current = setInterval(function () {
      getWeather();
    }, 1000 * 60 * 60 * 3);
    return function () {
      weatherUpdateTimer.current && clearInterval(weatherUpdateTimer.current);
    }; // eslint-disable-next-line react-hooks/exhaustive-deps
  }, []);
  return {
    weatherInfo: weatherInfo,
    getWeather: getWeather
  };
}

/***/ }),

/***/ "./src/pages/BigScreen/index.module.less":
/*!***********************************************!*\
  !*** ./src/pages/BigScreen/index.module.less ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(true) {
      // 1624783085989
      var cssReload = __webpack_require__(/*! ./node_modules/@umijs/bundler-webpack/lib/webpack/plugins/mini-css-extract-plugin/src/hmr/hotModuleReplacement.js */ "./node_modules/@umijs/bundler-webpack/lib/webpack/plugins/mini-css-extract-plugin/src/hmr/hotModuleReplacement.js")(module.i, {"publicPath":"./","hmr":true,"locals":false});
      module.hot.dispose(cssReload);
      module.hot.accept(undefined, cssReload);
    }
  

/***/ }),

/***/ "./src/pages/BigScreen/index.tsx":
/*!***************************************!*\
  !*** ./src/pages/BigScreen/index.tsx ***!
  \***************************************/
/*! exports provided: BigScreen, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BigScreen", function() { return BigScreen; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index.module.less */ "./src/pages/BigScreen/index.module.less");
/* harmony import */ var _index_module_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_index_module_less__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _blocks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./blocks */ "./src/pages/BigScreen/blocks/index.ts");
/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components */ "./src/pages/BigScreen/components/index.ts");
/* harmony import */ var theme_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! theme-ui */ "./node_modules/theme-ui/dist/index.esm.js");
/* harmony import */ var _models_screen__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./models/screen */ "./src/pages/BigScreen/models/screen.ts");
/* harmony import */ var _components_Player_AudioBox__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/Player/AudioBox */ "./src/pages/BigScreen/components/Player/AudioBox/index.tsx");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__);


var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/index.tsx",
    _this = undefined;










var theme = {
  colors: {
    primary: '#01b18d',
    'text-color': '#D5F0F5',
    'active-color': '#00C199'
  }
};
var BigScreen = function BigScreen(props) {
  var socket = props.socket,
      initSocket = props.initSocket,
      resetScreen = props.resetScreen;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(true),
      _useState2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState, 2),
      siderVisible = _useState2[0],
      setSiderVisible = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(true),
      _useState4 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_useState3, 2),
      threeVisible = _useState4[0],
      setThreeVisible = _useState4[1];

  var currentHub = props.currentHub;
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    initSocket();
    return function () {
      resetScreen();
      socket.close && socket.close();
    }; // eslint-disable-next-line react-hooks/exhaustive-deps
  }, []);
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(theme_ui__WEBPACK_IMPORTED_MODULE_6__["ThemeProvider"], {
    theme: theme,
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_components_Player_AudioBox__WEBPACK_IMPORTED_MODULE_8__["default"], {}, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 44,
      columnNumber: 7
    }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])("div", {
      className: "big-screen-wrappper big-screen-primary",
      id: "big-screen-wrappper",
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])("div", {
        className: "big-screen-main",
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_blocks__WEBPACK_IMPORTED_MODULE_4__["MenuBox"], {}, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 47,
          columnNumber: 11
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])("div", {
          className: "big-screen-header",
          style: {
            backgroundColor: _models_screen__WEBPACK_IMPORTED_MODULE_7__["ScreenBg"]
          },
          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_blocks__WEBPACK_IMPORTED_MODULE_4__["Header"], {
            triggerSider: function triggerSider() {
              setSiderVisible(!siderVisible);
            }
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 54,
            columnNumber: 13
          }, _this)
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 48,
          columnNumber: 11
        }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])("div", {
          className: "big-screen-content",
          children: [siderVisible && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])("div", {
            className: "big-screen-left",
            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_blocks__WEBPACK_IMPORTED_MODULE_4__["LeftView"], {}, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 63,
              columnNumber: 17
            }, _this)
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 62,
            columnNumber: 15
          }, _this), threeVisible && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_components__WEBPACK_IMPORTED_MODULE_5__["RobotInfo"], {}, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 66,
            columnNumber: 30
          }, _this), siderVisible && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])("div", {
            className: "big-screen-right",
            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_blocks__WEBPACK_IMPORTED_MODULE_4__["RightView"], {}, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 69,
              columnNumber: 17
            }, _this)
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 68,
            columnNumber: 15
          }, _this)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 60,
          columnNumber: 11
        }, _this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 46,
        columnNumber: 9
      }, _this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__["jsxDEV"])(_components__WEBPACK_IMPORTED_MODULE_5__["ThreeDimensional"], {}, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 74,
        columnNumber: 9
      }, _this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 45,
      columnNumber: 7
    }, _this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 43,
    columnNumber: 5
  }, _this);
};

var mapStateToProps = function mapStateToProps(_ref) {
  var mqtt = _ref.mqtt,
      user = _ref.user;
  return {
    socket: mqtt.socket,
    currentHub: user.currentHub
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    resetScreen: function resetScreen() {
      return dispatch({
        type: 'screen/reset'
      });
    },
    initSocket: function initSocket() {
      return dispatch({
        type: 'mqtt/initSocket'
      });
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(mapStateToProps, mapDispatchToProps)(BigScreen));

/***/ }),

/***/ "./src/pages/BigScreen/layouts/BlockLayout.tsx":
/*!*****************************************************!*\
  !*** ./src/pages/BigScreen/layouts/BlockLayout.tsx ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var rebass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rebass */ "./node_modules/rebass/dist/index.esm.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__);
var _jsxFileName = "/Users/liuyanan/lyn/radiance-react-bigsceen/src/pages/BigScreen/layouts/BlockLayout.tsx",
    _this = undefined;





var BlockLayout = function BlockLayout(_ref) {
  var children = _ref.children;
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__["jsxDEV"])(rebass__WEBPACK_IMPORTED_MODULE_1__["Flex"] // sx={{
  //   transform: 'scale(0.8851851851851852)',
  //   transformOrigin: 'right top',
  // }}
  , {
    height: "100%",
    overflow: "hidden",
    flexDirection: "column",
    justifyContent: "space-between",
    children: children
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 6,
    columnNumber: 5
  }, _this);
};

/* harmony default export */ __webpack_exports__["default"] = (BlockLayout);

/***/ }),

/***/ "./src/pages/BigScreen/models/threeModels/BigRobot.ts":
/*!************************************************************!*\
  !*** ./src/pages/BigScreen/models/threeModels/BigRobot.ts ***!
  \************************************************************/
/*! exports provided: BigRobot */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BigRobot", function() { return BigRobot; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createClass */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/inherits */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createSuper */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createSuper.js");
/* harmony import */ var _Robot__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Robot */ "./src/pages/BigScreen/models/threeModels/Robot.ts");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");






var BigRobot = /*#__PURE__*/function (_Robot) {
  Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(BigRobot, _Robot);

  var _super = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__["default"])(BigRobot);

  function BigRobot(_ref) {
    var _this;

    var url = _ref.url,
        name = _ref.name,
        scene = _ref.scene,
        _ref$scale = _ref.scale,
        scale = _ref$scale === void 0 ? 1 : _ref$scale,
        _ref$introdution = _ref.introdution,
        introdution = _ref$introdution === void 0 ? '' : _ref$introdution,
        position = _ref.position,
        object = _ref.object,
        info = _ref.info,
        _ref$visible = _ref.visible,
        visible = _ref$visible === void 0 ? true : _ref$visible,
        _ref$series = _ref.series,
        series = _ref$series === void 0 ? '' : _ref$series,
        imageUrl = _ref.imageUrl;

    Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, BigRobot);

    _this = _super.call(this, {
      name: name,
      url: url,
      scale: scale,
      position: position,
      object: object
    });
    _this.info = void 0;
    _this.visible = void 0;
    _this.series = void 0;
    _this.imageUrl = void 0;
    _this.sprites = [];
    _this.introdution = void 0;
    _this.scene = void 0;

    _this.clear = function (parent, child) {
      if (child.children && child.children.length) {
        var arr = child.children.filter(function (x) {
          return x;
        });
        arr.forEach(function (a) {
          _this.clear(child, a);
        });
      }

      if (child instanceof three__WEBPACK_IMPORTED_MODULE_5__["Mesh"] || child instanceof three__WEBPACK_IMPORTED_MODULE_5__["Line"]) {
        if (child.material.length === 0) {
          child.material.dispose();
          child.geometry.dispose();
        } else {
          _this.clear(child, child.material);
        } // child.material.map.dispose()
        // child.remove()

      } else if (child.material) {
        child.material.dispose();
      }

      parent.remove(child);
    };

    _this.setVisible = function (value) {
      _this.visible = value;
      _this.object.visible = value; // console.log(this.name)
    };

    _this.spriteVisible = function (value) {
      _this.sprites.forEach(function (item) {
        item[0].visible = value; // sprite

        item[1].visible = value; // line
      });
    };

    _this.setRobotObject = function (robot) {
      _this.object = robot;

      _this.setVisible(_this.visible);
    };

    _this.info = info;
    _this.visible = visible;
    _this.series = series;
    _this.imageUrl = imageUrl;
    _this.introdution = introdution;
    _this.scene = scene;

    _this.init();

    return _this;
  }

  Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(BigRobot, [{
    key: "init",
    value: function init() {// this.setVisible(this.visible)
    }
  }], [{
    key: "dispose",
    value: function dispose() {
      BigRobot.bigRobots = [];
    }
  }]);

  return BigRobot;
}(_Robot__WEBPACK_IMPORTED_MODULE_4__["Robot"]);
BigRobot.bigRobots = [];

BigRobot.addRobots = function (item) {
  BigRobot.bigRobots.push(item);
};

BigRobot.disposeRobots = function () {
  for (var i = 0; i < BigRobot.bigRobots.length; i += 1) {
    var robotItem = BigRobot.bigRobots[i];
    robotItem.scene.remove(robotItem.object);

    if (robotItem.object) {
      //    console.log(robotItem.object)
      for (var j = 0; j < robotItem.object.children.length; j += 1) {
        robotItem.clear(robotItem.object, robotItem.object.children[j]);
      } // console.log(robotItem.object)

    }

    robotItem.object = null;
  }
};

/***/ }),

/***/ "./src/pages/BigScreen/models/threeModels/Block.ts":
/*!*********************************************************!*\
  !*** ./src/pages/BigScreen/models/threeModels/Block.ts ***!
  \*********************************************************/
/*! exports provided: Block */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Block", function() { return Block; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");

var Block = function Block(_ref) {
  var _this = this;

  var name = _ref.name,
      id = _ref.id,
      object = _ref.object,
      _scene = _ref.scene;

  Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Block);

  this.name = void 0;
  this.id = void 0;
  this.object = void 0;
  this.scene = void 0;
  this.floors = [];
  this.robots = {};
  this.planeMap = void 0;
  this.position = void 0;

  this.addToScene = function (scene) {
    scene.add(_this.object);
  };

  this.setVisible = function (value) {
    value ? _this.scene.add(_this.object) : _this.scene.remove(_this.object);
  };

  this.addFloor = function (floor) {
    _this.floors.push(floor);
  };

  this.flyTo = function (camera, controls) {
    var length = _this.floors.length;
    var _this$object$position = _this.object.position,
        x = _this$object$position.x,
        z = _this$object$position.z;
    var y = _this.floors[length - 1].object.position.y;
    var offsetX = _this.floors[length - 1].planeMap.position.x;
    var offsetZ = _this.floors[length - 1].planeMap.position.z;
    camera.position.set(x - offsetX, y + _this.floors[length - 1].height * 2.2, z - offsetZ);
    controls.target.set(x - offsetX, y, z - offsetZ);
  };

  this.name = name;
  this.id = id;
  this.object = object;
  this.scene = _scene;
};
Block.blocks = {};
Block.prototypeFloors = {};
Block.mapType = '3d';

Block.addBlock = function (item) {
  Block.blocks[item.id] = item;
};

Block.addPrototypeFloor = function (item) {
  Block.prototypeFloors[item.id] = item;
};

Block.traverse = function (fn) {
  for (var blockId in Block.blocks) {
    if (Object.prototype.hasOwnProperty.call(Block.blocks, blockId)) {
      var block = Block.blocks[blockId];

      if (block) {
        fn(block);
      }
    }
  }
};

Block.changeMapType = function (key) {
  for (var id in Block.prototypeFloors) {
    if (Object.prototype.hasOwnProperty.call(Block.prototypeFloors, id)) {
      var floor = Block.prototypeFloors[id];
      floor.setMapType(Block.mapType, key);
    }
  }

  Block.mapType = key;
};

/***/ }),

/***/ "./src/pages/BigScreen/models/threeModels/Building.ts":
/*!************************************************************!*\
  !*** ./src/pages/BigScreen/models/threeModels/Building.ts ***!
  \************************************************************/
/*! exports provided: Building */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Building", function() { return Building; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createClass */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createClass.js");


var Building = /*#__PURE__*/function () {
  // 位置坐标
  // three  robotobejct
  function Building(_ref) {
    var name = _ref.name,
        _ref$scale = _ref.scale,
        scale = _ref$scale === void 0 ? 1 : _ref$scale,
        geos = _ref.geos,
        object = _ref.object,
        _ref$material = _ref.material,
        material = _ref$material === void 0 ? {} : _ref$material;

    Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Building);

    this.name = void 0;
    this.scale = void 0;
    this.geos = [];
    this.object = void 0;
    this.material = {};
    this.name = name;
    this.scale = scale;
    this.geos = geos;
    this.object = object;
    this.material = material;
  }

  Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Building, null, [{
    key: "dispose",
    value: function dispose() {
      Building.buildings = [];
    }
  }, {
    key: "addToBuildings",
    value: function addToBuildings(item) {
      Building.buildings.push(item);
    }
  }, {
    key: "cleanDatas",
    value: function cleanDatas() {
      for (var i = 0; i < Building.buildings.length; i += 1) {
        var item = Building.buildings[i];
        item.object = null;
      }
    }
  }]);

  return Building;
}();
Building.buildings = [];

/***/ }),

/***/ "./src/pages/BigScreen/models/threeModels/Device.ts":
/*!**********************************************************!*\
  !*** ./src/pages/BigScreen/models/threeModels/Device.ts ***!
  \**********************************************************/
/*! exports provided: Device */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Device", function() { return Device; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");

var Device = function Device(_ref) {
  var name = _ref.name,
      id = _ref.id,
      object = _ref.object;

  Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Device);

  this.name = void 0;
  this.id = void 0;
  this.object = void 0;
  this.name = name;
  this.id = id;
  this.object = object;
};

/***/ }),

/***/ "./src/pages/BigScreen/models/threeModels/Elevator.ts":
/*!************************************************************!*\
  !*** ./src/pages/BigScreen/models/threeModels/Elevator.ts ***!
  \************************************************************/
/*! exports provided: Elevator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Elevator", function() { return Elevator; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/toConsumableArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/inherits */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createSuper */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createSuper.js");
/* harmony import */ var _Device__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Device */ "./src/pages/BigScreen/models/threeModels/Device.ts");





var Elevator = /*#__PURE__*/function (_Device) {
  Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(Elevator, _Device);

  var _super = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__["default"])(Elevator);

  function Elevator(_ref) {
    var _this;

    var id = _ref.id,
        name = _ref.name,
        object = _ref.object,
        _ref$type = _ref.type,
        type = _ref$type === void 0 ? 'elevator' : _ref$type,
        elevatorDirection = _ref.elevatorDirection,
        texture = _ref.texture;

    Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, Elevator);

    _this = _super.call(this, {
      id: id,
      name: name,
      object: object
    });
    _this.type = void 0;
    _this.elevatorDirection = void 0;
    _this.texture = void 0;
    _this.type = type;
    _this.elevatorDirection = elevatorDirection;
    _this.texture = texture;
    return _this;
  }

  return Elevator;
}(_Device__WEBPACK_IMPORTED_MODULE_4__["Device"]);
Elevator.elevators = [];

Elevator.addElevator = function (item) {
  Elevator.elevators = [].concat(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(Elevator.elevators), [item]);
};

/***/ }),

/***/ "./src/pages/BigScreen/models/threeModels/Floor.ts":
/*!*********************************************************!*\
  !*** ./src/pages/BigScreen/models/threeModels/Floor.ts ***!
  \*********************************************************/
/*! exports provided: Floor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Floor", function() { return Floor; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
/* harmony import */ var _utils_ThreeTool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/ThreeTool */ "./src/pages/BigScreen/utils/ThreeTool.ts");
/* harmony import */ var _Hive__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Hive */ "./src/pages/BigScreen/models/threeModels/Hive.ts");




var Floor = // 楼层样式 '3d'/'2d'/'none'/'floorModel
// 底盘的数据信息
// 底盘的模型个体  和 静态独立显示的柜体数据
// 静态独立显示的柜体数据
// 存放电梯实例
// 存放规划路径、清扫区域等地盘附属实例
// 存放楼层墙体等模型
//  存放floorModel 实体模型
// 存放电梯sprite
// 存放充电桩
// 存放所有实例的‘外壳’
// 楼层在y轴上的高度
// 楼栋
function Floor(_ref) {
  var _this = this;

  var _name = _ref.name,
      object = _ref.object,
      _level = _ref.level,
      _ref$visible = _ref.visible,
      visible = _ref$visible === void 0 ? true : _ref$visible,
      _ref$origin = _ref.origin,
      origin = _ref$origin === void 0 ? [0, 0, 0] : _ref$origin,
      _ref$offset = _ref.offset,
      offset = _ref$offset === void 0 ? [0, 0] : _ref$offset,
      _id = _ref.id,
      width = _ref.width,
      height = _ref.height,
      _scene = _ref.scene,
      floorName = _ref.floorName,
      _ref$floorHeight = _ref.floorHeight,
      floorHeight = _ref$floorHeight === void 0 ? 0 : _ref$floorHeight,
      buildingId = _ref.buildingId;

  Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Floor);

  this.id = void 0;
  this.name = void 0;
  this.width = void 0;
  this.scene = void 0;
  this.height = void 0;
  this.offset = [];
  this.robots = {};
  this.robotsObject = void 0;
  this.origin = [];
  this.staticHives = [];
  this.hivesObject = void 0;
  this.animationTraceObejct = void 0;
  this.wallsObject = void 0;
  this.floorModelObject = void 0;
  this.elevatorSpriteObejct = void 0;
  this.docksObject = void 0;
  this.object = void 0;
  this.floorHeight = void 0;
  this.level = void 0;
  this.floorName = void 0;
  this.parent = void 0;
  this.visible = void 0;
  this.waypointObject = void 0;
  this.planeMap = void 0;
  this.hiveDatas = [];
  this.waypoints = [];
  this.buildingId = void 0;

  this.dispose = function () {
    var mount = new three__WEBPACK_IMPORTED_MODULE_1__["Object3D"]();
    mount.add(_this.robotsObject);
    mount.add(_this.planeMap);
    mount.add(_this.docksObject);
    mount.add(_this.wallsObject);
    mount.add(_this.waypointObject);
    mount.add(_this.elevatorSpriteObejct);
    _this.floorModelObject && mount.add(_this.floorModelObject);
    _this.hivesObject && mount.add(_this.hivesObject);
    Object(_utils_ThreeTool__WEBPACK_IMPORTED_MODULE_2__["disposeObjects"])(mount);
  };

  this.setVisible = function (value) {
    value ? _this.scene.add(_this.object) : _this.scene.remove(_this.object);
  };

  this.addToScene = function (scene) {
    // this.robotsObject.position.y = this.object.position.y
    // this.docksObject.position.y = this.object.position.y
    // this.animationTraceObejct.position.y = this.object.position.y
    // this.waypointObject.position.y = this.object.position.y
    _this.docksObject.name = 'docksObject';
    _this.animationTraceObejct.name = 'animationTraceObejct';
    _this.robotsObject.name = 'robotsObject';
    _this.object.name = _this.floorName;

    _this.object.add(_this.docksObject);

    _this.object.add(_this.animationTraceObejct);

    _this.object.add(_this.robotsObject);

    scene.add(_this.object); // scene.add(this.waypointObject)
  };

  this.flyTo = function (camera, controls) {
    var _this$object$position = _this.object.position,
        x = _this$object$position.x,
        y = _this$object$position.y,
        z = _this$object$position.z;
    var offsetX = _this.planeMap.position.x;
    var offsetY = _this.planeMap.position.y;
    var offsetZ = _this.planeMap.position.z; //    console.log(x - offsetX, y + this.height * 2.2, z - offsetZ)

    camera.position.set(x - offsetX, y + _this.height * 2.2, z - offsetZ);
    controls.target.set(x - offsetX, y, z - offsetZ);
  };

  this.setDockVisible = function (value) {
    _this.docksObject.visible = value;
  };

  this.addStaticHive = function (data, hiveObject, geo) {
    var id = data.id,
        name = data.name,
        level = data.level,
        coordinates = data.coordinates;
    var hive = new _Hive__WEBPACK_IMPORTED_MODULE_3__["Hive"]({
      id: id,
      name: name,
      level: level,
      coordinates: coordinates
    });
    hive.object = hiveObject.clone();
    hive.setPosition(geo);

    if (data.coordinates) {
      hive.rotationY = coordinates[3];
      hive.setRotation(coordinates[3] + Math.PI / 2);
      hive.setSprite(data);
    }

    _this.robotsObject.add(hive.object);

    _this.staticHives.push(hive);

    return hive.object;
  };

  this.removeStaticHive = function (hiveId) {
    var hive = _this.staticHives.find(function (item) {
      return item.id === hiveId;
    });

    var i = _this.staticHives.indexOf(hive);

    if (i >= 0) {
      _this.staticHives.splice(i, 1);

      _this.robotsObject.remove(hive.object);
    }
  };

  this.addRobotItem = function (robotItem, a) {
    // this.robots.push(robotItem)
    _this.robots[robotItem.id] = robotItem;

    if (robotItem.object) {
      _this.robotsObject.add(robotItem.object); //   this.robotsObject.add(robotItem.edgeline)

    }
  };

  this.setOnlyWayPoint = function (value) {
    if (value) {
      _this.scene.add(_this.waypointObject);

      _this.scene.remove(_this.robotsObject);

      _this.scene.add(_this.animationTraceObejct);
    } else {
      _this.scene.remove(_this.waypointObject);

      _this.scene.add(_this.robotsObject);

      _this.scene.remove(_this.animationTraceObejct);
    }
  };

  this.clearMachines = function () {
    _this.robots = [];
    _this.staticHives = [];

    _this.robotsObject.children.forEach(function (item) {
      _this.robotsObject.remove(item);
    });

    _this.animationTraceObejct.children.forEach(function (item) {
      _this.animationTraceObejct.remove(item);
    });
  };

  this.setMapType = function (before, after) {
    switch (before) {
      case 'floorModel':
        if (_this.floorModelObject) {
          _this.object.remove(_this.floorModelObject);
        } else {
          _this.object.remove(_this.wallsObject);
        }

        break;

      case '3d':
        _this.object.remove(_this.wallsObject);

        break;

      case '2d':
        _this.object.remove(_this.planeMap);

        break;

      default:
    }

    switch (after) {
      case 'floorModel':
        if (_this.floorModelObject) {
          _this.object.add(_this.floorModelObject);
        } else {
          _this.object.add(_this.wallsObject);
        }

        break;

      case '3d':
        _this.object.add(_this.wallsObject);

        break;

      case '2d':
        _this.object.add(_this.planeMap);

        break;

      default:
    }
  };

  this.id = _id;
  this.name = _name;
  this.object = object;
  this.level = _level;
  this.visible = visible;
  this.offset = offset;
  this.width = width;
  this.floorName = floorName;
  this.origin = origin;
  this.height = height;
  this.buildingId = buildingId;
  this.floorHeight = floorHeight;
  this.robotsObject = new three__WEBPACK_IMPORTED_MODULE_1__["Object3D"]();
  this.docksObject = new three__WEBPACK_IMPORTED_MODULE_1__["Object3D"]();
  this.animationTraceObejct = new three__WEBPACK_IMPORTED_MODULE_1__["Object3D"]();
  this.waypointObject = new three__WEBPACK_IMPORTED_MODULE_1__["Object3D"]();
  this.wallsObject = new three__WEBPACK_IMPORTED_MODULE_1__["Object3D"](); //   this.floorModelObject = new THREE.Object3D()

  this.elevatorSpriteObejct = new three__WEBPACK_IMPORTED_MODULE_1__["Object3D"]();
  this.scene = _scene;
};
Floor.floors = {};
Floor.ElevatorObject = new three__WEBPACK_IMPORTED_MODULE_1__["Object3D"]();
Floor.mapType = 'floorModel';

Floor.traverse = function (fn) {
  for (var floorId in Floor.floors) {
    if (Object.prototype.hasOwnProperty.call(Floor.floors, floorId)) {
      var floor = Floor.floors[floorId];

      if (floor) {
        fn(floor);
      }
    }
  }
};

Floor.addFloor = function (item) {
  Floor.floors[item.id] = item;
};

Floor.disposeFloor = function () {
  Floor.traverse(function (floor) {
    return [floor.dispose()];
  });
  Floor.floors = {};
};

Floor.clear = function () {
  Floor.traverse(function (floor) {});
};

Floor.changeMapType = function (key) {
  Floor.traverse(function (floor) {
    floor.setMapType(Floor.mapType, key);
  });
  Floor.mapType = key;
};

/***/ }),

/***/ "./src/pages/BigScreen/models/threeModels/Hive.ts":
/*!********************************************************!*\
  !*** ./src/pages/BigScreen/models/threeModels/Hive.ts ***!
  \********************************************************/
/*! exports provided: Hive */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Hive", function() { return Hive; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/inherits */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createSuper */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createSuper.js");
/* harmony import */ var _Robot__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Robot */ "./src/pages/BigScreen/models/threeModels/Robot.ts");




var Hive = /*#__PURE__*/function (_Robot) {
  Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__["default"])(Hive, _Robot);

  var _super = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_2__["default"])(Hive);

  // name: string
  // object: any
  // position: any
  function Hive(_ref) {
    var _this;

    var id = _ref.id,
        name = _ref.name,
        _ref$level = _ref.level,
        level = _ref$level === void 0 ? 0 : _ref$level,
        coordinates = _ref.coordinates,
        _ref$position = _ref.position,
        position = _ref$position === void 0 ? [0, 0, 0] : _ref$position,
        _ref$rotationY = _ref.rotationY,
        _rotationY = _ref$rotationY === void 0 ? 0 : _ref$rotationY,
        object = _ref.object,
        sprite = _ref.sprite;

    Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Hive);

    _this = _super.call(this, {
      object: object,
      name: name,
      position: position,
      sprite: sprite
    });
    _this.id = void 0;
    _this.level = void 0;
    _this.coordinates = void 0;
    _this.rotationY = void 0;

    _this.setPosition = function () {
      var geo = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.position;

      _this.object.position.set(geo[0], geo[1], geo[2]);
    };

    _this.setRotation = function () {
      var rotationY = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.rotationY;
      _this.object.rotation.y = rotationY; // this.object.rotateY(rotationY)
    };

    _this.id = id; // this.name = name

    _this.level = level;
    _this.position = position;
    _this.coordinates = coordinates;
    _this.rotationY = _rotationY;
    return _this;
  } // setSprite = (item: any) => {
  //   const canvas = document.createElement('canvas')
  //   const ctx = canvas.getContext('2d')
  //   let rate: any
  //   let width: any
  //   if (ctx) {
  //     ctx.font = 'Bold 20px Arial'
  //     const word = item.name
  //     width = ctx?.measureText(word).width
  //     rate = width / 300
  //     const distance = 2
  //     //   ctx.fillRect(0, 0, 300, 150)
  //     canvas.width = width
  //     canvas.height = 30
  //     ctx.fillStyle = 'rgba(255, 255, 255, 1.0)'
  //     ctx.font = 'Bold 20px Arial'
  //     ctx.fillText(word, distance, 14 + 2)
  //     const rateH = 30 / width
  //   }
  //   const texture = new THREE.Texture(canvas)
  //   texture.needsUpdate = true
  //   const spriteMaterial = new THREE.SpriteMaterial({ map: texture, depthTest: true })
  //   const sprite = new THREE.Sprite(spriteMaterial)
  //   sprite.center = new THREE.Vector2(0.5, 0)
  //   sprite.position.set(0, 60, 0)
  //   // 300px*150px  100  50
  //   const scaleX = rate * 100
  //   const scaleY = (rate * 100 * 30) / width
  //   sprite.scale.set(scaleX, scaleY, 1)
  //   sprite.renderOrder = 100
  //   return sprite
  // }


  return Hive;
}(_Robot__WEBPACK_IMPORTED_MODULE_3__["Robot"]);

/***/ }),

/***/ "./src/pages/BigScreen/models/threeModels/InsideRobot.ts":
/*!***************************************************************!*\
  !*** ./src/pages/BigScreen/models/threeModels/InsideRobot.ts ***!
  \***************************************************************/
/*! exports provided: InsideRobot */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InsideRobot", function() { return InsideRobot; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/inherits */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createSuper */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createSuper.js");
/* harmony import */ var _Robot__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Robot */ "./src/pages/BigScreen/models/threeModels/Robot.ts");




var InsideRobot = /*#__PURE__*/function (_Robot) {
  Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__["default"])(InsideRobot, _Robot);

  var _super = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_2__["default"])(InsideRobot);

  // sprite: any
  function InsideRobot(_ref) {
    var _this;

    var object = _ref.object,
        type = _ref.type,
        name = _ref.name,
        id = _ref.id,
        _ref$position = _ref.position,
        position = _ref$position === void 0 ? [0, 0, 0] : _ref$position,
        _ref$radian = _ref.radian,
        radian = _ref$radian === void 0 ? 0 : _ref$radian,
        _ref$battery = _ref.battery,
        battery = _ref$battery === void 0 ? {} : _ref$battery,
        _ref$navigationState = _ref.navigationState,
        navigationState = _ref$navigationState === void 0 ? '' : _ref$navigationState,
        _ref$cellular = _ref.cellular,
        cellular = _ref$cellular === void 0 ? {} : _ref$cellular,
        _ref$speed = _ref.speed,
        speed = _ref$speed === void 0 ? 0 : _ref$speed,
        jackRaised = _ref.jackRaised,
        floorName = _ref.floorName,
        pathPlanning = _ref.pathPlanning,
        sprite = _ref.sprite;

    Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, InsideRobot);

    _this = _super.call(this, {
      object: object,
      name: name,
      position: position,
      sprite: sprite
    });
    _this.type = void 0;
    _this.id = void 0;
    _this.level = void 0;
    _this.robotSeries = void 0;
    _this.radian = void 0;
    _this.edgeline = void 0;
    _this.battery = void 0;
    _this.navigationState = void 0;
    _this.cellular = void 0;
    _this.speed = void 0;
    _this.jackRaised = void 0;
    _this.pathPlanning = void 0;
    _this.clutchDisengaged = void 0;
    _this.emergencyStopEngaged = void 0;
    _this.floorName = void 0;

    _this.drawEdgeLine = function (object) {};

    _this.type = type;
    _this.id = id;
    _this.radian = radian;
    _this.battery = battery;
    _this.navigationState = navigationState;
    _this.cellular = cellular;
    _this.speed = speed;
    _this.pathPlanning = pathPlanning;
    _this.jackRaised = jackRaised;
    _this.floorName = floorName;
    return _this;
  } // drawLine = () => {
  //   this.pathPlanning = new PathLine({
  //     // color:
  //   })
  // }


  return InsideRobot;
}(_Robot__WEBPACK_IMPORTED_MODULE_3__["Robot"]);

/***/ }),

/***/ "./src/pages/BigScreen/models/threeModels/OutdoorArea.ts":
/*!***************************************************************!*\
  !*** ./src/pages/BigScreen/models/threeModels/OutdoorArea.ts ***!
  \***************************************************************/
/*! exports provided: OutdoorArea */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OutdoorArea", function() { return OutdoorArea; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");


var OutdoorArea = // robots: any[] = []
function OutdoorArea(_ref) {
  var _this = this;

  var _ref$name = _ref.name,
      name = _ref$name === void 0 ? '' : _ref$name,
      _ref$visible = _ref.visible,
      visible = _ref$visible === void 0 ? true : _ref$visible;

  Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, OutdoorArea);

  this.name = void 0;
  this.objects = void 0;
  this.robots = {};
  this.robotsObject = void 0;
  this.visible = void 0;
  this.scene = void 0;
  this.animationTraceObejct = void 0;

  this.init = function () {
    OutdoorArea.outdoorArea = _this; //  this.scene.add(this.robotsObject)

    _this.setObjects();
  };

  this.setObjects = function () {
    _this.objects.add(_this.robotsObject);

    _this.objects.add(_this.animationTraceObejct);
  };

  this.addRobotItem = function (robotItem) {
    // this.robots.push(robotItem)
    _this.robots[robotItem.id] = robotItem;

    if (robotItem.object) {
      _this.robotsObject.add(robotItem.object); //   this.robotsObject.add(robotItem.edgeline)

    }
  };

  this.clearMachines = function () {
    _this.robots = [];
    _this.robotsObject.children = [];

    _this.animationTraceObejct.children.forEach(function (item) {
      _this.animationTraceObejct.remove(item);
    });
  };

  this.name = name;
  this.visible = visible;
  this.objects = new three__WEBPACK_IMPORTED_MODULE_1__["Object3D"]();
  this.robotsObject = new three__WEBPACK_IMPORTED_MODULE_1__["Object3D"]();
  this.animationTraceObejct = new three__WEBPACK_IMPORTED_MODULE_1__["Object3D"]();
  this.init();
};
OutdoorArea.outdoorArea = void 0;

/***/ }),

/***/ "./src/pages/BigScreen/models/threeModels/OutsideRobot.ts":
/*!****************************************************************!*\
  !*** ./src/pages/BigScreen/models/threeModels/OutsideRobot.ts ***!
  \****************************************************************/
/*! exports provided: OutsideRobot */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OutsideRobot", function() { return OutsideRobot; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/inherits */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createSuper */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createSuper.js");
/* harmony import */ var _Robot__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Robot */ "./src/pages/BigScreen/models/threeModels/Robot.ts");




var OutsideRobot = /*#__PURE__*/function (_Robot) {
  Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__["default"])(OutsideRobot, _Robot);

  var _super = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_2__["default"])(OutsideRobot);

  function OutsideRobot(_ref) {
    var _this;

    var object = _ref.object,
        type = _ref.type,
        name = _ref.name,
        id = _ref.id,
        _ref$location = _ref.location,
        location = _ref$location === void 0 ? [0, 0] : _ref$location,
        _ref$position = _ref.position,
        position = _ref$position === void 0 ? [0, 0, 0] : _ref$position,
        _ref$radian = _ref.radian,
        radian = _ref$radian === void 0 ? 0 : _ref$radian;

    Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, OutsideRobot);

    _this = _super.call(this, {
      object: object,
      name: name,
      position: position
    });
    _this.sprite = void 0;
    _this.type = void 0;
    _this.id = void 0;
    _this.level = void 0;
    _this.robotSeries = void 0;
    _this.radian = void 0;
    _this.location = [];
    _this.hive = void 0;
    _this.clipAction = void 0;
    _this.mixer = void 0;
    _this.staging = [];
    _this.type = type;
    _this.id = id;
    _this.radian = radian;
    return _this;
  }

  return OutsideRobot;
}(_Robot__WEBPACK_IMPORTED_MODULE_3__["Robot"]);
OutsideRobot.outsideRobots = [];

OutsideRobot.addRobots = function (item) {
  OutsideRobot.outsideRobots.push(item);
};

/***/ }),

/***/ "./src/pages/BigScreen/models/threeModels/Pointer.ts":
/*!***********************************************************!*\
  !*** ./src/pages/BigScreen/models/threeModels/Pointer.ts ***!
  \***********************************************************/
/*! exports provided: Pointer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Pointer", function() { return Pointer; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createClass */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");



/**
 * @description 标记
 */

var Pointer = /*#__PURE__*/function () {
  // 底部width
  function Pointer(_ref) {
    var _this = this;

    var _ref$color = _ref.color,
        _color = _ref$color === void 0 ? 0x4a4a4a : _ref$color,
        _ref$emissive = _ref.emissive,
        _emissive = _ref$emissive === void 0 ? 0xebed72 : _ref$emissive,
        _ref$metalness = _ref.metalness,
        _metalness = _ref$metalness === void 0 ? 0.51 : _ref$metalness,
        _ref$roughness = _ref.roughness,
        _roughness = _ref$roughness === void 0 ? 0.1 : _ref$roughness,
        _ref$height = _ref.height,
        _height = _ref$height === void 0 ? 20 : _ref$height,
        _ref$radiusBottom = _ref.radiusBottom,
        radiusBottom = _ref$radiusBottom === void 0 ? 14 : _ref$radiusBottom;

    Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Pointer);

    this.object = void 0;
    this.material = void 0;
    this.color = void 0;
    this.emissive = void 0;
    this.metalness = void 0;
    this.roughness = void 0;
    this.height = void 0;
    this.radiusBottom = void 0;
    this.geometry = void 0;

    this.setModel = function () {
      _this.geometry = new three__WEBPACK_IMPORTED_MODULE_2__["CylinderGeometry"](0, _this.radiusBottom, _this.height, 4, 1);
      _this.object = new three__WEBPACK_IMPORTED_MODULE_2__["Mesh"](_this.geometry, _this.material);

      _this.object.rotateX(Math.PI);

      _this.object.name = 'pointer';
    };

    this.setMaterial = function () {
      var color = _this.color,
          emissive = _this.emissive,
          metalness = _this.metalness,
          roughness = _this.roughness;
      _this.material = new three__WEBPACK_IMPORTED_MODULE_2__["MeshStandardMaterial"]({
        color: color,
        emissive: emissive,
        metalness: metalness,
        roughness: roughness,
        wireframe: false
      });
    };

    this.setPosition = function (height) {
      _this.object.position.set(0, height, 0);
    };

    this.color = _color;
    this.emissive = _emissive;
    this.metalness = _metalness;
    this.roughness = _roughness;
    this.height = _height;
    this.radiusBottom = radiusBottom;
    this.init();
  }

  Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Pointer, [{
    key: "init",
    value: function init() {
      this.setMaterial();
      this.setModel();
    }
  }, {
    key: "dispose",
    value: function dispose() {
      this.geometry.dispose(); //  this.object.dispose()

      this.material.dispose();
    }
  }]);

  return Pointer;
}();

/***/ }),

/***/ "./src/pages/BigScreen/models/threeModels/Robot.ts":
/*!*********************************************************!*\
  !*** ./src/pages/BigScreen/models/threeModels/Robot.ts ***!
  \*********************************************************/
/*! exports provided: Robot */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Robot", function() { return Robot; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/toConsumableArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");



var Robot = // three  robotobejct
function Robot(_ref) {
  var _this = this;

  var _ref$url = _ref.url,
      url = _ref$url === void 0 ? '' : _ref$url,
      name = _ref.name,
      _ref$scale = _ref.scale,
      scale = _ref$scale === void 0 ? 1 : _ref$scale,
      _ref$position = _ref.position,
      position = _ref$position === void 0 ? [0, 0, 0] : _ref$position,
      object = _ref.object,
      _ref$type = _ref.type,
      type = _ref$type === void 0 ? '' : _ref$type,
      _sprite = _ref.sprite;

  Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, Robot);

  this.url = void 0;
  this.name = void 0;
  this.scale = void 0;
  this.type = void 0;
  this.position = [];
  this.object = void 0;
  this.sprite = void 0;

  this.setSprite = function (item) {
    var height = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;
    var scaleRate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 100;
    var canvas = document.createElement('canvas');
    var ctx = canvas.getContext('2d');
    var rate;
    var width;

    if (ctx) {
      ctx.font = 'Bold 20px Arial';
      var word = item.name;
      width = ctx === null || ctx === void 0 ? void 0 : ctx.measureText(word).width;
      rate = width / 300;
      var distance = 2; //   ctx.fillRect(0, 0, 300, 150)

      canvas.width = width;
      canvas.height = 30;
      ctx.fillStyle = 'rgba(255, 255, 255, 1.0)';
      ctx.font = 'Bold 20px Arial';
      ctx.fillText(word, distance, 14 + 2);
      var rateH = 30 / width;
    }

    var texture = new three__WEBPACK_IMPORTED_MODULE_2__["Texture"](canvas);
    texture.needsUpdate = true;
    var spriteMaterial = new three__WEBPACK_IMPORTED_MODULE_2__["SpriteMaterial"]({
      map: texture,
      depthTest: true
    });
    var sprite = new three__WEBPACK_IMPORTED_MODULE_2__["Sprite"](spriteMaterial);
    sprite.center = new three__WEBPACK_IMPORTED_MODULE_2__["Vector2"](0.5, 0);
    sprite.position.set(0, height, 0); // 300px*150px  100  50

    var scaleX = rate * scaleRate;
    var scaleY = rate * scaleRate * 30 / width;
    sprite.scale.set(scaleX, scaleY, 1);
    sprite.renderOrder = 100;
    sprite.parent = _this.object;
    sprite.name = 'nameSprite'; // this.object.name = item.name
    //  this..userData.type = 'robot'

    _this.object.children.push(sprite);

    _this.sprite = sprite;
    return sprite;
  };

  this.url = url;
  this.name = name;
  this.scale = scale;
  this.position = position;
  this.object = object;
  this.type = type;
  this.sprite = _sprite;
};
Robot.robots = [];

Robot.addRobots = function (item) {
  // Robot.robots.push(item)
  Robot.robots = [].concat(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(Robot.robots), [item]);
};

Robot.add = function () {
  setTimeout(function () {
    Robot.robots = [].concat(Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(Robot.robots), ['1']);
    Robot.add();
  }, 1000);
};

/***/ }),

/***/ "./src/pages/BigScreen/models/threeModels/Scene.ts":
/*!*********************************************************!*\
  !*** ./src/pages/BigScreen/models/threeModels/Scene.ts ***!
  \*********************************************************/
/*! exports provided: Scene */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Scene", function() { return Scene; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
/* harmony import */ var _utils_ThreeTool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/ThreeTool */ "./src/pages/BigScreen/utils/ThreeTool.ts");



/**
 * @description  大屏分屏
 */

var Scene = // three  robotobejct
function Scene(_ref) {
  var _this = this;

  var _ref$url = _ref.url,
      url = _ref$url === void 0 ? '' : _ref$url,
      name = _ref.name,
      _ref$scale = _ref.scale,
      scale = _ref$scale === void 0 ? 1 : _ref$scale,
      _ref$position = _ref.position,
      position = _ref$position === void 0 ? [] : _ref$position,
      scene = _ref.scene,
      _ref$objects = _ref.objects,
      objects = _ref$objects === void 0 ? [] : _ref$objects,
      _ref$lights = _ref.lights,
      lights = _ref$lights === void 0 ? [] : _ref$lights;

  Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Scene);

  this.url = void 0;
  this.name = void 0;
  this.scale = void 0;
  this.position = [];
  this.textures = [];
  this.scene = void 0;
  this.objects = [];
  this.lights = [];
  this.outlinePass = void 0;
  this.updates = [];
  this.centerBuilding = void 0;

  this.removeScenes = function () {
    var index = Scene.scenes.indexOf(_this);
    Scene.scenes.splice(index, 1);
  };

  this.clearObjects = function () {
    for (var i = 0; i < _this.objects.length; i += 1) {
      var item = _this.objects[i];
      Object(_utils_ThreeTool__WEBPACK_IMPORTED_MODULE_2__["disposeObjects"])(item);
      item = null; // if (item.children.length === 0) {
      //   item.geometry.dispose()
      //   item.material && item.material.dispose()
      //   item.parent && item.parent.remove(item)
      //   item = null
      // } else {
      //   for (let j = 0; j < item.children.length; j+=1) {
      //     const child = item.children[j]
      //     this.clear(item, child)
      //   }
      // }
    }

    _this.objects = [];
  };

  this.clear = function (object) {
    if (object.children && object.children.length) {
      var arr = object.children.filter(function (x) {
        return x;
      });
      arr.forEach(function (a) {
        _this.clear(a);
      });
    }

    if (object instanceof three__WEBPACK_IMPORTED_MODULE_1__["Mesh"] || object instanceof three__WEBPACK_IMPORTED_MODULE_1__["Line"]) {
      if (object.children.length === 0) {
        object.material.dispose();
        object.geometry.dispose();
      } else {
        _this.clear(object.children);
      }
    } else if (object.material) {
      object.material.dispose();
    }

    object.parent && object.parent.remove(object);
  };

  this.url = url;
  this.name = name;
  this.scale = scale;
  this.position = position;
  this.scene = scene;
  this.objects = objects;
  this.lights = lights;
};
Scene.scenes = [];

Scene.addScenes = function (item) {
  Scene.scenes.push(item);
};

/***/ }),

/***/ "./src/pages/BigScreen/models/threeModels/index.ts":
/*!*********************************************************!*\
  !*** ./src/pages/BigScreen/models/threeModels/index.ts ***!
  \*********************************************************/
/*! exports provided: Scene, Floor, Block, OutdoorArea, Robot, BigRobot, InsideRobot, OutsideRobot, Hive, Pointer, Building, Elevator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Scene__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Scene */ "./src/pages/BigScreen/models/threeModels/Scene.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Scene", function() { return _Scene__WEBPACK_IMPORTED_MODULE_0__["Scene"]; });

/* harmony import */ var _Floor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Floor */ "./src/pages/BigScreen/models/threeModels/Floor.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Floor", function() { return _Floor__WEBPACK_IMPORTED_MODULE_1__["Floor"]; });

/* harmony import */ var _Block__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Block */ "./src/pages/BigScreen/models/threeModels/Block.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Block", function() { return _Block__WEBPACK_IMPORTED_MODULE_2__["Block"]; });

/* harmony import */ var _OutdoorArea__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./OutdoorArea */ "./src/pages/BigScreen/models/threeModels/OutdoorArea.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "OutdoorArea", function() { return _OutdoorArea__WEBPACK_IMPORTED_MODULE_3__["OutdoorArea"]; });

/* harmony import */ var _Robot__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Robot */ "./src/pages/BigScreen/models/threeModels/Robot.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Robot", function() { return _Robot__WEBPACK_IMPORTED_MODULE_4__["Robot"]; });

/* harmony import */ var _BigRobot__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./BigRobot */ "./src/pages/BigScreen/models/threeModels/BigRobot.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BigRobot", function() { return _BigRobot__WEBPACK_IMPORTED_MODULE_5__["BigRobot"]; });

/* harmony import */ var _InsideRobot__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./InsideRobot */ "./src/pages/BigScreen/models/threeModels/InsideRobot.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "InsideRobot", function() { return _InsideRobot__WEBPACK_IMPORTED_MODULE_6__["InsideRobot"]; });

/* harmony import */ var _OutsideRobot__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./OutsideRobot */ "./src/pages/BigScreen/models/threeModels/OutsideRobot.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "OutsideRobot", function() { return _OutsideRobot__WEBPACK_IMPORTED_MODULE_7__["OutsideRobot"]; });

/* harmony import */ var _Hive__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Hive */ "./src/pages/BigScreen/models/threeModels/Hive.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Hive", function() { return _Hive__WEBPACK_IMPORTED_MODULE_8__["Hive"]; });

/* harmony import */ var _Pointer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Pointer */ "./src/pages/BigScreen/models/threeModels/Pointer.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Pointer", function() { return _Pointer__WEBPACK_IMPORTED_MODULE_9__["Pointer"]; });

/* harmony import */ var _Building__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Building */ "./src/pages/BigScreen/models/threeModels/Building.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Building", function() { return _Building__WEBPACK_IMPORTED_MODULE_10__["Building"]; });

/* harmony import */ var _Elevator__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Elevator */ "./src/pages/BigScreen/models/threeModels/Elevator.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Elevator", function() { return _Elevator__WEBPACK_IMPORTED_MODULE_11__["Elevator"]; });





/** robots */










/***/ }),

/***/ "./src/pages/BigScreen/types.ts":
/*!**************************************!*\
  !*** ./src/pages/BigScreen/types.ts ***!
  \**************************************/
/*! exports provided: SolutionTabsEnum, OrderModeEnum, OrderModeStr */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SolutionTabsEnum", function() { return SolutionTabsEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OrderModeEnum", function() { return OrderModeEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OrderModeStr", function() { return OrderModeStr; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/defineProperty */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/defineProperty.js");


var _OrderModeStr;

var SolutionTabsEnum;

(function (SolutionTabsEnum) {
  SolutionTabsEnum["BUILDING"] = "BUILDING";
  SolutionTabsEnum["HOSPITAL"] = "HOSPITAL";
  SolutionTabsEnum["SANITATION"] = "SANITATION";
})(SolutionTabsEnum || (SolutionTabsEnum = {}));

var OrderModeEnum;

(function (OrderModeEnum) {
  OrderModeEnum["SERVE"] = "SERVE";
  OrderModeEnum["ORDER"] = "ORDER";
})(OrderModeEnum || (OrderModeEnum = {}));

var OrderModeStr = (_OrderModeStr = {}, Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(_OrderModeStr, OrderModeEnum.SERVE, '服务'), Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(_OrderModeStr, OrderModeEnum.ORDER, '订单'), _OrderModeStr);

/***/ }),

/***/ "./src/pages/BigScreen/utils/CoordinateTool.ts":
/*!*****************************************************!*\
  !*** ./src/pages/BigScreen/utils/CoordinateTool.ts ***!
  \*****************************************************/
/*! exports provided: calMapOriginDeviation, calMapOriginDeviations, WSG84TOMercatorCenter, WSG84TOMercator, transToScreenCoord */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calMapOriginDeviation", function() { return calMapOriginDeviation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calMapOriginDeviations", function() { return calMapOriginDeviations; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WSG84TOMercatorCenter", function() { return WSG84TOMercatorCenter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WSG84TOMercator", function() { return WSG84TOMercator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "transToScreenCoord", function() { return transToScreenCoord; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");

function calMapOriginDeviation(coordinates, floor) {
  if (floor.buildingId === "0ad080f8-938f-4cda-8aa1-00727f409964") {
    var _calWankeDedivation = calWankeDedivation(coordinates, floor),
        _calWankeDedivation2 = Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["default"])(_calWankeDedivation, 2),
        _x2 = _calWankeDedivation2[0],
        _y2 = _calWankeDedivation2[1];

    return [_x2, _y2];
  }

  var origin = floor.origin,
      width = floor.width,
      height = floor.height;
  var resolution = 0.05 / 2;
  var x = (coordinates[0] - origin[0]) / resolution - width;
  var y = (coordinates[1] - origin[1]) / resolution - height;

  if (floor.offset) {
    x -= floor.offset[0] * 2;
    y -= floor.offset[1] * 2;
  }

  return [x, y];
}

function calWankeDedivation(coordinates, floor) {
  var origin = [-38.61153, -18.267531];
  var resolution = 0.05 / 2;
  var imgHeight = 553 * 2;
  var imgWidth = 1140 * 2;
  var difwidth = 57.7 * 2;
  var difheight = 83 * 2; // 解决地图原点误差

  var _x = (coordinates[0] - origin[0]) / resolution;

  var _y = (coordinates[1] - origin[1]) / resolution;

  var x = _x - imgWidth / 2 - difwidth;
  var y = _y - imgHeight / 2 - difheight;

  if (floor.level === 27) {
    origin = [-40.93555, -27.308661];
    resolution = 0.05 / 2;
    _x = (coordinates[0] - origin[0]) / resolution;
    _y = (coordinates[1] - origin[1]) / resolution;
    x = _x - 552 * 2 - 133 * 2;
    y = _y - 335.07 * 2 - 218 * 2;
  } // 解决canvas与地图的原点误差


  return [x, y];
}

function calMapOriginDeviations(coordinates, origin, dif, width, height) {
  //  let { coordinates } = robotOHistoryData[name][value
  var resolution = 0.05 / 2;
  var imgHeight = height * 2;
  var imgWidth = width * 2;
  var difwidth = dif[0] * 2;
  var difheight = dif[1] * 2; // 解决地图原点误差

  var _x = (coordinates[0] - origin[0]) / resolution;

  var _y = (coordinates[1] - origin[1]) / resolution;

  var x = _x - imgWidth / 2 - difwidth;
  var y = _y - imgHeight / 2 - difheight; // 解决canvas与地图的原点误差

  return [x, y];
}
function WSG84TOMercatorCenter(geo, center) {
  var geoTrans = WSG84TOMercator({
    lng: geo.lng,
    lat: geo.lat
  }); // √console.log(geo,geo111)

  var centerTrans = WSG84TOMercator({
    lng: center[0],
    lat: center[1]
  });
  var x = geoTrans[0] - centerTrans[0];
  var y = geoTrans[1] - centerTrans[1];
  return [x, y];
}
function WSG84TOMercator(geo) {
  var lon = geo.lng;
  var lat = geo.lat;
  var x = lon * 20037508.34 / 180;
  var y = Math.PI / 180.0 * lat;
  var tmp = Math.PI / 4.0 + y / 2.0;
  y = 20037508.3427892 * Math.log(Math.tan(tmp)) / Math.PI;
  return [x, y];
}
function transToScreenCoord(vector, camera) {
  var screenCoord = {};
  vector.project(camera);
  screenCoord.x = (0.5 + vector.x / 2) * window.innerWidth;
  screenCoord.y = (0.5 - vector.y / 2) * window.innerHeight;
  return screenCoord;
}

/***/ }),

/***/ "./src/pages/BigScreen/utils/ThreeTool.ts":
/*!************************************************!*\
  !*** ./src/pages/BigScreen/utils/ThreeTool.ts ***!
  \************************************************/
/*! exports provided: disposeObjects, disposeLights */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "disposeObjects", function() { return disposeObjects; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "disposeLights", function() { return disposeLights; });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");

function disposeObjects(object) {
  if (object.children && object.children.length) {
    var arr = object.children.filter(function (x) {
      return x;
    });
    arr.forEach(function (a) {
      disposeObjects(a);
    });
  }

  if (object instanceof three__WEBPACK_IMPORTED_MODULE_0__["Mesh"] || object instanceof three__WEBPACK_IMPORTED_MODULE_0__["Line"] || object instanceof three__WEBPACK_IMPORTED_MODULE_0__["Sprite"]) {
    if (object.material.length === 0) {
      object.material && object.material.dispose();
      object.geometry.dispose();
    } else {
      disposeObjects(object.material);
    }
  } else if (object.material) {
    object.material.dispose();
  }

  object.parent && object.parent.remove(object);
}
function disposeLights(object) {
  if (object.children && object.children.length) {
    for (var i = 0; i < object.children.length; i += 1) {
      var child = object.children[i];

      if (child instanceof three__WEBPACK_IMPORTED_MODULE_0__["Light"]) {
        object.remove(child);
      }
    }
  }
}

/***/ }),

/***/ "./src/pages/BigScreen/utils/index.ts":
/*!********************************************!*\
  !*** ./src/pages/BigScreen/utils/index.ts ***!
  \********************************************/
/*! exports provided: resolveNum, numToThousand, numToTenthousand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resolveNum", function() { return resolveNum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "numToThousand", function() { return numToThousand; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "numToTenthousand", function() { return numToTenthousand; });
/**
 *
 * @param num
 * @param length 需要处理的长度
 * @param measurement 携带单位
 * @param scale 比例
 * @returns {string | number}
 */
var resolveNum = function resolveNum(num, length, measurement) {
  var scale = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1000;
  var ret;
  var m = Math.floor(num);

  if (length && m.toString().length >= length && measurement && scale) {
    ret = (m / scale).toFixed(1) + measurement;
  } else {
    var nSplitList = num.toString().split('.');
    ret = nSplitList.length > 1 && Number(nSplitList[1]) > 0 ? num.toFixed(1) : num;
  }

  return ret;
};
var numToThousand = function numToThousand(num) {
  if (!num) return 0;
  return resolveNum(num, 4, 'k');
};
var numToTenthousand = function numToTenthousand(num) {
  if (!num) return 0;
  return resolveNum(num, 5, 'w', 10000);
};

/***/ }),

/***/ "./src/services/api/apiUrl.ts":
/*!************************************!*\
  !*** ./src/services/api/apiUrl.ts ***!
  \************************************/
/*! exports provided: ApiUrl, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApiUrl", function() { return ApiUrl; });
var API_VERSION = 'v1';
var ApiUrl = {
  // ----- aurora ------
  // 大屏设备统计
  SCREEN_DEVICE_COUNT: "/aurora/".concat(API_VERSION, "/screen-report/device-count"),
  // 大屏设备稳定率
  SCREEN_DEVICE_STABILITY_RATE: "/aurora/".concat(API_VERSION, "/screen-report/device-stability-rate"),
  // 大屏设备运行数据
  SCREEN_DEVICE_WORK_SUM: "/aurora/".concat(API_VERSION, "/screen-report/device-work-sum"),
  // 异常检测报告
  SCREEN_DEVICE_ALERT_SUM: "/aurora/".concat(API_VERSION, "/screen-report/device-alert-sum"),
  // 异常检测详情
  SCREEN_DEVICE_ALERT_DETAIL: "/aurora/".concat(API_VERSION, "/screen-report/device-alert-detail"),
  // 设备活跃度
  SCREEN_DEVICE_ACTIVE_RATE: "/aurora/".concat(API_VERSION, "/screen-report/device-active-rate"),
  // device-report
  // 机器人状态统计
  DEVICE_REPORT_ROBOT_STATUS_COUNT: "/aurora/".concat(API_VERSION, "/device-report/robot/status-count"),
  // 柜子状态统计
  DEVICE_REPORT_HIVE_STATUS_COUNT: "/aurora/".concat(API_VERSION, "/device-report/hive/status-count"),
  // 闸机状态统计
  DEVICE_REPORT_GATE_STATUS_COUNT: "/aurora/".concat(API_VERSION, "/device-report/gate/status-count"),
  // 电梯状态统计
  DEVICE_REPORT_ELEVATOR_STATUS_COUNT: "/aurora/".concat(API_VERSION, "/device-report/elevator/status-count"),
  // 桩位状态统计
  DEVICE_REPORT_DOCK_STATUS_COUNT: "/aurora/".concat(API_VERSION, "/device-report/dock/status-count"),
  // hub-report
  HUB_REPORT_COUNT: "/aurora/".concat(API_VERSION, "/hub-report/count")
};
/* harmony default export */ __webpack_exports__["default"] = (ApiUrl);

/***/ }),

/***/ "./src/services/api/aurora/hub-report.ts":
/*!***********************************************!*\
  !*** ./src/services/api/aurora/hub-report.ts ***!
  \***********************************************/
/*! exports provided: getHubList, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getHubList", function() { return getHubList; });
/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/request */ "./src/utils/request.ts");
/* harmony import */ var _apiUrl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../apiUrl */ "./src/services/api/apiUrl.ts");


/**
 * 城市选择器
 */

function getHubList(params) {
  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__["default"])({
    url: _apiUrl__WEBPACK_IMPORTED_MODULE_1__["ApiUrl"].HUB_REPORT_COUNT,
    method: 'get',
    params: params
  });
}
/* harmony default export */ __webpack_exports__["default"] = ({
  getHubList: getHubList
});

/***/ }),

/***/ "./src/services/api/aurora/map-selector.ts":
/*!*************************************************!*\
  !*** ./src/services/api/aurora/map-selector.ts ***!
  \*************************************************/
/*! exports provided: getMapCity, getMapHub, getMapProvince, getMapRegion, getMapTown, getMapAliyunGeo, getMapAliyunGeoFull, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMapCity", function() { return getMapCity; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMapHub", function() { return getMapHub; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMapProvince", function() { return getMapProvince; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMapRegion", function() { return getMapRegion; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMapTown", function() { return getMapTown; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMapAliyunGeo", function() { return getMapAliyunGeo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMapAliyunGeoFull", function() { return getMapAliyunGeoFull; });
/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/request */ "./src/utils/request.ts");
/* harmony import */ var _ApiConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ApiConfig */ "./src/services/ApiConfig.ts");


/**
 * 城市选择器
 */

function getMapCity(params) {
  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__["default"])({
    url: _ApiConfig__WEBPACK_IMPORTED_MODULE_1__["ApiUrl"].MAP_SELECTOR_CITY,
    method: 'get',
    params: params
  });
}
/**
 * 城市选择器
 */

function getMapHub(params) {
  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__["default"])({
    url: _ApiConfig__WEBPACK_IMPORTED_MODULE_1__["ApiUrl"].MAP_SELECTOR_HUB,
    method: 'get',
    params: params
  });
}
/**
 * 省份选择器
 */

function getMapProvince(params) {
  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__["default"])({
    url: _ApiConfig__WEBPACK_IMPORTED_MODULE_1__["ApiUrl"].MAP_SELECTOR_PROVINCE,
    method: 'get',
    params: params
  });
}
/**
 * 大区选择器
 */

function getMapRegion(params) {
  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__["default"])({
    url: _ApiConfig__WEBPACK_IMPORTED_MODULE_1__["ApiUrl"].MAP_SELECTOR_REGION,
    method: 'get',
    params: params
  });
}
/**
 * 区选择器
 */

function getMapTown(params) {
  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__["default"])({
    url: _ApiConfig__WEBPACK_IMPORTED_MODULE_1__["ApiUrl"].MAP_SELECTOR_TOWN,
    method: 'get',
    params: params
  });
}
/**
 * 区选择器
 */

function getMapAliyunGeo(params) {
  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__["default"])({
    url: _ApiConfig__WEBPACK_IMPORTED_MODULE_1__["ApiUrl"].MAP_SELECTOR_ALIYUN_GEO,
    method: 'get',
    params: params
  });
}
/**
 * 区选择器
 */

function getMapAliyunGeoFull(params) {
  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__["default"])({
    url: _ApiConfig__WEBPACK_IMPORTED_MODULE_1__["ApiUrl"].MAP_SELECTOR_ALIYUN_GEO_FUll,
    method: 'get',
    params: params
  });
}
/* harmony default export */ __webpack_exports__["default"] = ({
  getMapCity: getMapCity,
  getMapHub: getMapHub,
  getMapProvince: getMapProvince,
  getMapRegion: getMapRegion,
  getMapTown: getMapTown,
  getMapAliyunGeo: getMapAliyunGeo,
  getMapAliyunGeoFull: getMapAliyunGeoFull
});

/***/ }),

/***/ "./src/services/api/aurora/screen-indoor.ts":
/*!**************************************************!*\
  !*** ./src/services/api/aurora/screen-indoor.ts ***!
  \**************************************************/
/*! exports provided: getRobotsData, getHivesData, getWayPoint, robotMove, robotStop, getCommandList, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRobotsData", function() { return getRobotsData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getHivesData", function() { return getHivesData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getWayPoint", function() { return getWayPoint; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "robotMove", function() { return robotMove; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "robotStop", function() { return robotStop; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCommandList", function() { return getCommandList; });
/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/request */ "./src/utils/request.ts");

var BaseUrl = '/aurora/v1/robot';
function getRobotsData(params) {
  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__["default"])({
    url: '/apparatus/v2/robot',
    method: 'get',
    params: params
  });
}
function getHivesData(params) {
  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__["default"])({
    url: '/apparatus/v2/hive',
    method: 'get',
    params: params
  });
}
function getWayPoint(params) {
  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__["default"])({
    url: '/atlas/v2/waypoint',
    method: 'get',
    params: params
  });
}
function robotMove(robotId, waypointId) {
  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__["default"])({
    url: "/radiance/v2/command/robot/".concat(robotId, "/move/waypoint/").concat(waypointId),
    method: 'post' //  params,

  });
}
function robotStop(robotId) {
  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__["default"])({
    url: "/radiance/v2/command/robot/".concat(robotId, "/stop"),
    method: 'post' //  params,

  });
}
function getCommandList(params) {
  var robotId = params.robotId;
  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__["default"])({
    url: "/radiance/v2/command/robot/".concat(robotId),
    method: 'get',
    params: params
  });
}
/* harmony default export */ __webpack_exports__["default"] = ({
  getRobotsData: getRobotsData,
  getHivesData: getHivesData,
  getWayPoint: getWayPoint,
  robotMove: robotMove,
  getCommandList: getCommandList,
  robotStop: robotStop
});

/***/ }),

/***/ "./src/services/api/aurora/screen-report.ts":
/*!**************************************************!*\
  !*** ./src/services/api/aurora/screen-report.ts ***!
  \**************************************************/
/*! exports provided: getScreenDeviceCount, getScreenDeviceStabilityRate, getScreenDeviceWorkSum, getScreenDeviceAlertSum, getScreenDeviceAlertDetail, getScreenDeviceActiveRate, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getScreenDeviceCount", function() { return getScreenDeviceCount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getScreenDeviceStabilityRate", function() { return getScreenDeviceStabilityRate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getScreenDeviceWorkSum", function() { return getScreenDeviceWorkSum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getScreenDeviceAlertSum", function() { return getScreenDeviceAlertSum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getScreenDeviceAlertDetail", function() { return getScreenDeviceAlertDetail; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getScreenDeviceActiveRate", function() { return getScreenDeviceActiveRate; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2 */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/request */ "./src/utils/request.ts");
/* harmony import */ var _apiUrl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../apiUrl */ "./src/services/api/apiUrl.ts");



/**
 * 大屏设备统计
 *
 * @param {*} params
 * @returns
 */

function getScreenDeviceCount(params) {
  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__["default"])({
    url: _apiUrl__WEBPACK_IMPORTED_MODULE_2__["ApiUrl"].SCREEN_DEVICE_COUNT,
    method: 'get',
    params: Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, params)
  });
}
/**
 * 大屏设备稳定率
 *
 * @param {*} params
 * @returns
 */

function getScreenDeviceStabilityRate(params) {
  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__["default"])({
    url: _apiUrl__WEBPACK_IMPORTED_MODULE_2__["ApiUrl"].SCREEN_DEVICE_STABILITY_RATE,
    method: 'get',
    params: Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, params)
  });
}
/**
 * 大屏设备运行数据
 *
 * @param {*} params
 * @returns
 */

function getScreenDeviceWorkSum(params) {
  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__["default"])({
    url: _apiUrl__WEBPACK_IMPORTED_MODULE_2__["ApiUrl"].SCREEN_DEVICE_WORK_SUM,
    method: 'get',
    params: Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, params)
  });
}
/**
 * 大屏设备异常检测报告
 *
 * @param {*} params
 * @returns
 */

function getScreenDeviceAlertSum(params) {
  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__["default"])({
    url: _apiUrl__WEBPACK_IMPORTED_MODULE_2__["ApiUrl"].SCREEN_DEVICE_ALERT_SUM,
    method: 'get',
    params: Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, params)
  });
}
/**
 * 大屏设备异常检测详情
 *
 * @param {*} params
 * @returns
 */

function getScreenDeviceAlertDetail(params) {
  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__["default"])({
    url: _apiUrl__WEBPACK_IMPORTED_MODULE_2__["ApiUrl"].SCREEN_DEVICE_ALERT_DETAIL,
    method: 'get',
    params: Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, params)
  });
}
/**
 * 大屏设备异常检测详情
 *
 * @param {*} params
 * @returns
 */

function getScreenDeviceActiveRate(params) {
  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__["default"])({
    url: _apiUrl__WEBPACK_IMPORTED_MODULE_2__["ApiUrl"].SCREEN_DEVICE_ACTIVE_RATE,
    method: 'get',
    params: Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["default"])({}, params)
  });
}
/* harmony default export */ __webpack_exports__["default"] = ({
  getScreenDeviceCount: getScreenDeviceCount,
  getScreenDeviceStabilityRate: getScreenDeviceStabilityRate,
  getScreenDeviceWorkSum: getScreenDeviceWorkSum,
  getScreenDeviceAlertSum: getScreenDeviceAlertSum,
  getScreenDeviceAlertDetail: getScreenDeviceAlertDetail,
  getScreenDeviceActiveRate: getScreenDeviceActiveRate
});

/***/ }),

/***/ "./src/utils/eventBus.ts":
/*!*******************************!*\
  !*** ./src/utils/eventBus.ts ***!
  \*******************************/
/*! exports provided: EventBus, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EventBus", function() { return EventBus; });
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createClass */ "./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createClass.js");


var EventBus = /*#__PURE__*/function () {
  function EventBus() {
    Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, EventBus);

    this.eventCenter = void 0;
    this.eventCenter = {};
  }

  Object(_Users_liuyanan_lyn_radiance_react_bigsceen_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(EventBus, [{
    key: "on",
    value: function on(emitName, callback) {
      !this.eventCenter[emitName] && (this.eventCenter[emitName] = []);
      this.eventCenter[emitName].push(callback);
    }
  }, {
    key: "emit",
    value: function emit(emitName, params) {
      this.eventCenter[emitName] && this.eventCenter[emitName].forEach(function (item) {
        return item.call(null, params);
      });
    }
  }, {
    key: "off",
    value: function off(emitName) {
      this.eventCenter[emitName] && delete this.eventCenter[emitName];
    }
  }]);

  return EventBus;
}();
var bus = new EventBus();
/* harmony default export */ __webpack_exports__["default"] = (bus);

/***/ })

}]);
//# sourceMappingURL=p__BigScreen.js.map